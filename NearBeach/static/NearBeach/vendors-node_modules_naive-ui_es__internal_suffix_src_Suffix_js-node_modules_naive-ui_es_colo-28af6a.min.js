"use strict";
(self["webpackChunknearbeach"] = self["webpackChunknearbeach"] || []).push([["vendors-node_modules_naive-ui_es__internal_suffix_src_Suffix_js-node_modules_naive-ui_es_colo-28af6a"],{

/***/ "./node_modules/naive-ui/es/_internal/clear/src/Clear.js":
/*!***************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/clear/src/Clear.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_utils */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-style.js");
/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../icons */ "./node_modules/naive-ui/es/_internal/icons/Clear.js");
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../icon */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.js");
/* harmony import */ var _icon_switch_transition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon-switch-transition */ "./node_modules/naive-ui/es/_internal/icon-switch-transition/src/IconSwitchTransition.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.js");







/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'BaseClear',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        show: Boolean,
        onClear: Function
    },
    setup(props) {
        (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('-base-clear', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_2__["default"], (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
        return {
            handleMouseDown(e) {
                e.preventDefault();
            }
        };
    },
    render() {
        const { clsPrefix } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-base-clear` },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon_switch_transition__WEBPACK_IMPORTED_MODULE_3__["default"], null, {
                default: () => {
                    var _a, _b;
                    return this.show ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { key: "dismiss", class: `${clsPrefix}-base-clear__clear`, onClick: this.onClear, onMousedown: this.handleMouseDown, "data-clear": true }, (0,_utils__WEBPACK_IMPORTED_MODULE_4__.resolveSlot)(this.$slots.icon, () => [
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon__WEBPACK_IMPORTED_MODULE_5__["default"], { clsPrefix: clsPrefix }, {
                            default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons__WEBPACK_IMPORTED_MODULE_6__["default"], null)
                        })
                    ]))) : ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { key: "icon", class: `${clsPrefix}-base-clear__placeholder` }, (_b = (_a = this.$slots).placeholder) === null || _b === void 0 ? void 0 : _b.call(_a)));
                }
            })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.js":
/*!***************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
/* harmony import */ var _styles_transitions_icon_switch_cssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_styles/transitions/icon-switch.cssr */ "./node_modules/naive-ui/es/_styles/transitions/icon-switch.cssr.js");


// vars:
// --n-bezier
// --n-clear-color
// --n-clear-size
// --n-clear-color-hover
// --n-clear-color-pressed
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-clear', `
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('>', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('clear', `
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', `
 color: var(--n-clear-color-hover)!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', `
 color: var(--n-clear-color-pressed)!important;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('placeholder', `
 display: flex;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('clear, placeholder', `
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `, [(0,_styles_transitions_icon_switch_cssr__WEBPACK_IMPORTED_MODULE_1__.iconSwitchTransition)({
  originalTransform: 'translateX(-50%) translateY(-50%)',
  left: '50%',
  top: '50%'
})])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/ChevronDown.js":
/*!*****************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/ChevronDown.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ChevronDown',
    render() {
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { viewBox: "0 0 16 16", fill: "none", xmlns: "http://www.w3.org/2000/svg" },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z", fill: "currentColor" })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Clear.js":
/*!***********************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Clear.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _replaceable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./replaceable */ "./node_modules/naive-ui/es/_internal/icons/replaceable.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_replaceable__WEBPACK_IMPORTED_MODULE_1__.replaceable)('clear', (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", { viewBox: "0 0 16 16", version: "1.1", xmlns: "http://www.w3.org/2000/svg" },
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", { stroke: "none", "stroke-width": "1", fill: "none", "fill-rule": "evenodd" },
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", { fill: "currentColor", "fill-rule": "nonzero" },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", { d: "M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z" }))))));


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/suffix/src/Suffix.js":
/*!*****************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/suffix/src/Suffix.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _clear__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../clear */ "./node_modules/naive-ui/es/_internal/clear/src/Clear.js");
/* harmony import */ var _loading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../loading */ "./node_modules/naive-ui/es/_internal/loading/src/Loading.js");
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.js");
/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../icons */ "./node_modules/naive-ui/es/_internal/icons/ChevronDown.js");
/* harmony import */ var _utils_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_utils/vue */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'InternalSelectionSuffix',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        showArrow: {
            type: Boolean,
            default: undefined
        },
        showClear: {
            type: Boolean,
            default: undefined
        },
        loading: {
            type: Boolean,
            default: false
        },
        onClear: Function
    },
    setup(props, { slots }) {
        return () => {
            const { clsPrefix } = props;
            return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_loading__WEBPACK_IMPORTED_MODULE_1__["default"], { clsPrefix: clsPrefix, class: `${clsPrefix}-base-suffix`, strokeWidth: 24, scale: 0.85, show: props.loading }, {
                default: () => props.showArrow ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_clear__WEBPACK_IMPORTED_MODULE_2__["default"], { clsPrefix: clsPrefix, show: props.showClear, onClear: props.onClear }, {
                    placeholder: () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon__WEBPACK_IMPORTED_MODULE_3__["default"], { clsPrefix: clsPrefix, class: `${clsPrefix}-base-suffix__arrow` }, {
                        default: () => (0,_utils_vue__WEBPACK_IMPORTED_MODULE_4__.resolveSlot)(slots.default, () => [
                            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons__WEBPACK_IMPORTED_MODULE_5__["default"], null)
                        ])
                    }))
                })) : null
            }));
        };
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/AlphaSlider.js":
/*!******************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/AlphaSlider.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var evtd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! evtd */ "./node_modules/evtd/es/delegate.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./node_modules/naive-ui/es/color-picker/src/utils.js");




const HANDLE_SIZE = '12px';
const HANDLE_SIZE_NUM = 12;
const RADIUS = '6px';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'AlphaSlider',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        rgba: {
            type: Array,
            default: null
        },
        alpha: {
            type: Number,
            default: 0
        },
        onUpdateAlpha: {
            type: Function,
            required: true
        },
        onComplete: Function
    },
    setup(props) {
        const railRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        function handleMouseDown(e) {
            if (!railRef.value || !props.rgba)
                return;
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.on)('mousemove', document, handleMouseMove);
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.on)('mouseup', document, handleMouseUp);
            handleMouseMove(e);
        }
        function handleMouseMove(e) {
            const { value: railEl } = railRef;
            if (!railEl)
                return;
            const { width, left } = railEl.getBoundingClientRect();
            const newAlpha = (e.clientX - left) / (width - HANDLE_SIZE_NUM);
            props.onUpdateAlpha((0,_utils__WEBPACK_IMPORTED_MODULE_2__.normalizeAlpha)(newAlpha));
        }
        function handleMouseUp() {
            var _a;
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.off)('mousemove', document, handleMouseMove);
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.off)('mouseup', document, handleMouseUp);
            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);
        }
        return {
            railRef,
            railBackgroundImage: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                const { rgba } = props;
                if (!rgba)
                    return '';
                return `linear-gradient(to right, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 0) 0%, rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, 1) 100%)`;
            }),
            handleMouseDown
        };
    },
    render() {
        const { clsPrefix } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-slider`, ref: "railRef", style: {
                height: HANDLE_SIZE,
                borderRadius: RADIUS
            }, onMousedown: this.handleMouseDown },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { style: {
                    borderRadius: RADIUS,
                    position: 'absolute',
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0,
                    overflow: 'hidden'
                } },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-checkboard` }),
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-slider__image`, style: {
                        backgroundImage: this.railBackgroundImage
                    } })),
            this.rgba && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { style: {
                    position: 'absolute',
                    left: RADIUS,
                    right: RADIUS,
                    top: 0,
                    bottom: 0
                } },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-handle`, style: {
                        left: `calc(${this.alpha * 100}% - ${RADIUS})`,
                        borderRadius: RADIUS,
                        width: HANDLE_SIZE,
                        height: HANDLE_SIZE
                    } },
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-handle__fill`, style: {
                            backgroundColor: (0,seemly__WEBPACK_IMPORTED_MODULE_3__.toRgbaString)(this.rgba),
                            borderRadius: RADIUS,
                            width: HANDLE_SIZE,
                            height: HANDLE_SIZE
                        } }))))));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/ColorInput.js":
/*!*****************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/ColorInput.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../input */ "./node_modules/naive-ui/es/input/src/InputGroup.js");
/* harmony import */ var _ColorInputUnit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ColorInputUnit */ "./node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ColorInput',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        mode: {
            type: String,
            required: true
        },
        modes: {
            type: Array,
            required: true
        },
        showAlpha: {
            type: Boolean,
            required: true
        },
        value: {
            // for hex to get percise value
            type: String,
            default: null
        },
        valueArr: {
            type: Array,
            default: null
        },
        onUpdateValue: {
            type: Function,
            required: true
        },
        onUpdateMode: {
            type: Function,
            required: true
        }
    },
    setup(props) {
        return {
            handleUnitUpdateValue(index, value) {
                const { showAlpha } = props;
                if (props.mode === 'hex') {
                    props.onUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_1__.toHexaString : seemly__WEBPACK_IMPORTED_MODULE_1__.toHexString)(value));
                    return;
                }
                let nextValueArr;
                if (props.valueArr === null) {
                    nextValueArr = [0, 0, 0, 0];
                }
                else {
                    nextValueArr = Array.from(props.valueArr);
                }
                switch (props.mode) {
                    case 'hsv':
                        nextValueArr[index] = value;
                        props.onUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_1__.toHsvaString : seemly__WEBPACK_IMPORTED_MODULE_1__.toHsvString)(nextValueArr));
                        break;
                    case 'rgb':
                        nextValueArr[index] = value;
                        props.onUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_1__.toRgbaString : seemly__WEBPACK_IMPORTED_MODULE_1__.toRgbString)(nextValueArr));
                        break;
                    case 'hsl':
                        nextValueArr[index] = value;
                        props.onUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_1__.toHslaString : seemly__WEBPACK_IMPORTED_MODULE_1__.toHslString)(nextValueArr));
                        break;
                }
            }
        };
    },
    render() {
        const { clsPrefix, modes } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-input` },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-input__mode`, onClick: this.onUpdateMode, style: {
                    cursor: modes.length === 1 ? '' : 'pointer'
                } }, this.mode.toUpperCase() + (this.showAlpha ? 'A' : '')),
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_input__WEBPACK_IMPORTED_MODULE_2__["default"], null, {
                default: () => {
                    const { mode, valueArr, showAlpha } = this;
                    if (mode === 'hex') {
                        // hex and rgba shares the same value arr
                        let hexValue = null;
                        try {
                            hexValue =
                                valueArr === null
                                    ? null
                                    : (showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_1__.toHexaString : seemly__WEBPACK_IMPORTED_MODULE_1__.toHexString)(valueArr);
                        }
                        catch (_a) { }
                        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_ColorInputUnit__WEBPACK_IMPORTED_MODULE_3__["default"], { label: 'HEX', showAlpha: showAlpha, value: hexValue, onUpdateValue: (unitValue) => {
                                this.handleUnitUpdateValue(0, unitValue);
                            } }));
                    }
                    return (mode + (showAlpha ? 'a' : '')).split('').map((v, i) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_ColorInputUnit__WEBPACK_IMPORTED_MODULE_3__["default"], { label: v.toUpperCase(), value: valueArr === null ? null : valueArr[i], onUpdateValue: (unitValue) => {
                            this.handleUnitUpdateValue(i, unitValue);
                        } })));
                }
            })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js":
/*!*********************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/ColorInputUnit.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../input */ "./node_modules/naive-ui/es/input/src/Input.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ "./node_modules/naive-ui/es/color-picker/src/context.js");



// 0 - 255
function normalizeRgbUnit(value) {
    if (/^\d{1,3}\.?\d*$/.test(value.trim())) {
        return Math.max(0, Math.min(parseInt(value), 255));
    }
    return false;
}
// 0 - 360
function normalizeHueUnit(value) {
    if (/^\d{1,3}\.?\d*$/.test(value.trim())) {
        return Math.max(0, Math.min(parseInt(value), 360));
    }
    return false;
}
// 0 - 100
function normalizeSlvUnit(value) {
    if (/^\d{1,3}\.?\d*$/.test(value.trim())) {
        return Math.max(0, Math.min(parseInt(value), 100));
    }
    return false;
}
function normalizeHexaUnit(value) {
    const trimmedValue = value.trim();
    if (/^#[0-9a-fA-F]+$/.test(trimmedValue)) {
        return [4, 5, 7, 9].includes(trimmedValue.length);
    }
    return false;
}
// 0 - 100%
function normalizeAlphaUnit(value) {
    if (/^\d{1,3}\.?\d*%$/.test(value.trim())) {
        return Math.max(0, Math.min(parseInt(value) / 100, 100));
    }
    return false;
}
const inputThemeOverrides = {
    paddingSmall: '0 4px'
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ColorInputUnit',
    props: {
        label: {
            type: String,
            required: true
        },
        value: {
            type: [Number, String],
            default: null
        },
        showAlpha: Boolean,
        onUpdateValue: {
            type: Function,
            required: true
        }
    },
    setup(props) {
        const inputValueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)('');
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        const { themeRef } = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_context__WEBPACK_IMPORTED_MODULE_1__.colorPickerInjectionKey, null);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
            inputValueRef.value = getInputString();
        });
        function getInputString() {
            const { value } = props;
            if (value === null)
                return '';
            const { label } = props;
            if (label === 'HEX') {
                return value;
            }
            if (label === 'A') {
                return `${Math.floor(value * 100)}%`;
            }
            return String(Math.floor(value));
        }
        function handleInputUpdateValue(value) {
            inputValueRef.value = value;
        }
        function handleInputChange(value) {
            let unit;
            let valid;
            switch (props.label) {
                case 'HEX':
                    valid = normalizeHexaUnit(value);
                    if (valid) {
                        props.onUpdateValue(value);
                    }
                    inputValueRef.value = getInputString(); // to normalized new value
                    break;
                case 'H':
                    unit = normalizeHueUnit(value);
                    if (unit === false) {
                        inputValueRef.value = getInputString();
                    }
                    else {
                        props.onUpdateValue(unit);
                    }
                    break;
                case 'S':
                case 'L':
                case 'V':
                    unit = normalizeSlvUnit(value);
                    if (unit === false) {
                        inputValueRef.value = getInputString();
                    }
                    else {
                        props.onUpdateValue(unit);
                    }
                    break;
                case 'A':
                    unit = normalizeAlphaUnit(value);
                    if (unit === false) {
                        inputValueRef.value = getInputString();
                    }
                    else {
                        props.onUpdateValue(unit);
                    }
                    break;
                case 'R':
                case 'G':
                case 'B':
                    unit = normalizeRgbUnit(value);
                    if (unit === false) {
                        inputValueRef.value = getInputString();
                    }
                    else {
                        props.onUpdateValue(unit);
                    }
                    break;
            }
        }
        return {
            mergedTheme: themeRef,
            inputValue: inputValueRef,
            handleInputChange,
            handleInputUpdateValue
        };
    },
    render() {
        const { mergedTheme } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_input__WEBPACK_IMPORTED_MODULE_2__["default"], { size: "small", placeholder: this.label, theme: mergedTheme.peers.Input, themeOverrides: mergedTheme.peerOverrides.Input, builtinThemeOverrides: inputThemeOverrides, value: this.inputValue, onUpdateValue: this.handleInputUpdateValue, onChange: this.handleInputChange, 
            // add more space for xxx% input
            style: this.label === 'A' ? 'flex-grow: 1.25;' : '' }));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/ColorPicker.js":
/*!******************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/ColorPicker.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   colorPickerProps: () => (/* binding */ colorPickerProps),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/convert.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/dom/get-precise-event-target.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-merged-state.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/life-cycle/use-is-mounted.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Binder.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Target.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Follower.js");
/* harmony import */ var vdirs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! vdirs */ "./node_modules/vdirs/es/clickoutside.js");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles */ "./node_modules/naive-ui/es/color-picker/styles/light.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-theme.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-form-item.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-locale.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-config.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/call.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/cssr/create-key.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../button */ "./node_modules/naive-ui/es/button/src/Button.js");
/* harmony import */ var _HueSlider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./HueSlider */ "./node_modules/naive-ui/es/color-picker/src/HueSlider.js");
/* harmony import */ var _AlphaSlider__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./AlphaSlider */ "./node_modules/naive-ui/es/color-picker/src/AlphaSlider.js");
/* harmony import */ var _Pallete__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Pallete */ "./node_modules/naive-ui/es/color-picker/src/Pallete.js");
/* harmony import */ var _ColorInput__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ColorInput */ "./node_modules/naive-ui/es/color-picker/src/ColorInput.js");
/* harmony import */ var _ColorPickerTrigger__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ColorPickerTrigger */ "./node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils */ "./node_modules/naive-ui/es/color-picker/src/utils.js");
/* harmony import */ var _ColorPickerSwatches__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ColorPickerSwatches */ "./node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js");
/* harmony import */ var _ColorPreview__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ColorPreview */ "./node_modules/naive-ui/es/color-picker/src/ColorPreview.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./context */ "./node_modules/naive-ui/es/color-picker/src/context.js");
/* harmony import */ var _styles_index_cssr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./styles/index.cssr */ "./node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js");



















const colorPickerProps = Object.assign(Object.assign({}, _mixins__WEBPACK_IMPORTED_MODULE_1__["default"].props), { value: String, show: {
        type: Boolean,
        default: undefined
    }, defaultShow: Boolean, defaultValue: String, modes: {
        type: Array,
        // no hsva by default since browser doesn't support it
        default: () => ['rgb', 'hex', 'hsl']
    }, placement: {
        type: String,
        default: 'bottom-start'
    }, to: _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.propTo, showAlpha: {
        type: Boolean,
        default: true
    }, showPreview: Boolean, swatches: Array, disabled: {
        type: Boolean,
        default: undefined
    }, actions: {
        type: Array,
        default: null
    }, internalActions: Array, size: String, renderLabel: Function, onComplete: Function, onConfirm: Function, 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ColorPicker',
    props: colorPickerProps,
    setup(props, { slots }) {
        const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        let upcomingValue = null;
        const formItem = (0,_mixins__WEBPACK_IMPORTED_MODULE_3__["default"])(props);
        const { mergedSizeRef, mergedDisabledRef } = formItem;
        const { localeRef } = (0,_mixins__WEBPACK_IMPORTED_MODULE_4__["default"])('global');
        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = (0,_mixins__WEBPACK_IMPORTED_MODULE_5__["default"])(props);
        const themeRef = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])('ColorPicker', '-color-picker', _styles_index_cssr__WEBPACK_IMPORTED_MODULE_6__["default"], _styles__WEBPACK_IMPORTED_MODULE_7__["default"], props, mergedClsPrefixRef);
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_context__WEBPACK_IMPORTED_MODULE_8__.colorPickerInjectionKey, {
            themeRef,
            renderLabelRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'renderLabel'),
            colorPickerSlots: slots
        });
        const uncontrolledShowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(props.defaultShow);
        const mergedShowRef = (0,vooks__WEBPACK_IMPORTED_MODULE_9__["default"])((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'show'), uncontrolledShowRef);
        function doUpdateShow(value) {
            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;
            if (onUpdateShow)
                (0,_utils__WEBPACK_IMPORTED_MODULE_10__.call)(onUpdateShow, value);
            if (_onUpdateShow)
                (0,_utils__WEBPACK_IMPORTED_MODULE_10__.call)(_onUpdateShow, value);
            uncontrolledShowRef.value = value;
        }
        const { defaultValue } = props;
        const uncontrolledValueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(defaultValue === undefined
            ? (0,_utils__WEBPACK_IMPORTED_MODULE_11__.deriveDefaultValue)(props.modes, props.showAlpha)
            : defaultValue);
        const mergedValueRef = (0,vooks__WEBPACK_IMPORTED_MODULE_9__["default"])((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'value'), uncontrolledValueRef);
        const undoStackRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([mergedValueRef.value]);
        const valueIndexRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);
        const valueModeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => (0,_utils__WEBPACK_IMPORTED_MODULE_11__.getModeFromValue)(mergedValueRef.value));
        const { modes } = props;
        const displayedModeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)((0,_utils__WEBPACK_IMPORTED_MODULE_11__.getModeFromValue)(mergedValueRef.value) || modes[0] || 'rgb');
        function handleUpdateDisplayedMode() {
            const { modes } = props;
            const { value: displayedMode } = displayedModeRef;
            const currentModeIndex = modes.findIndex((mode) => mode === displayedMode);
            if (~currentModeIndex) {
                displayedModeRef.value = modes[(currentModeIndex + 1) % modes.length];
            }
            else {
                displayedModeRef.value = 'rgb';
            }
        }
        let _h, // avoid conflict with render function's h
        s, l, v, r, g, b, a;
        const hsvaRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: mergedValue } = mergedValueRef;
            if (!mergedValue)
                return null;
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            switch (valueModeRef.value) {
                case 'hsv':
                    return (0,seemly__WEBPACK_IMPORTED_MODULE_12__.hsva)(mergedValue);
                case 'hsl':
                    ;
                    [_h, s, l, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_12__.hsla)(mergedValue);
                    return [...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsl2hsv)(_h, s, l), a];
                case 'rgb':
                case 'hex':
                    ;
                    [r, g, b, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_12__.rgba)(mergedValue);
                    return [...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.rgb2hsv)(r, g, b), a];
            }
        });
        const rgbaRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: mergedValue } = mergedValueRef;
            if (!mergedValue)
                return null;
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            switch (valueModeRef.value) {
                case 'rgb':
                case 'hex':
                    return (0,seemly__WEBPACK_IMPORTED_MODULE_12__.rgba)(mergedValue);
                case 'hsv':
                    ;
                    [_h, s, v, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_12__.hsva)(mergedValue);
                    return [...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2rgb)(_h, s, v), a];
                case 'hsl':
                    ;
                    [_h, s, l, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_12__.hsla)(mergedValue);
                    return [...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsl2rgb)(_h, s, l), a];
            }
        });
        const hslaRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: mergedValue } = mergedValueRef;
            if (!mergedValue)
                return null;
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            switch (valueModeRef.value) {
                case 'hsl':
                    return (0,seemly__WEBPACK_IMPORTED_MODULE_12__.hsla)(mergedValue);
                case 'hsv':
                    ;
                    [_h, s, v, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_12__.hsva)(mergedValue);
                    return [...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2hsl)(_h, s, v), a];
                case 'rgb':
                case 'hex':
                    ;
                    [r, g, b, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_12__.rgba)(mergedValue);
                    return [...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.rgb2hsl)(r, g, b), a];
            }
        });
        const mergedValueArrRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            switch (displayedModeRef.value) {
                case 'rgb':
                case 'hex':
                    return rgbaRef.value;
                case 'hsv':
                    return hsvaRef.value;
                case 'hsl':
                    return hslaRef.value;
            }
        });
        const displayedHueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);
        const displayedAlphaRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(1);
        const displayedSvRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([0, 0]);
        function handleUpdateSv(s, v) {
            const { value: hsvaArr } = hsvaRef;
            const hue = displayedHueRef.value;
            const alpha = hsvaArr ? hsvaArr[3] : 1;
            displayedSvRef.value = [s, v];
            const { showAlpha } = props;
            switch (displayedModeRef.value) {
                case 'hsv':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toHsvaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toHsvString)([hue, s, v, alpha]), 'cursor');
                    break;
                case 'hsl':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toHslaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toHslString)([
                        ...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2hsl)(hue, s, v),
                        alpha
                    ]), 'cursor');
                    break;
                case 'rgb':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toRgbaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toRgbString)([
                        ...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2rgb)(hue, s, v),
                        alpha
                    ]), 'cursor');
                    break;
                case 'hex':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toHexaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toHexString)([
                        ...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2rgb)(hue, s, v),
                        alpha
                    ]), 'cursor');
                    break;
            }
        }
        function handleUpdateHue(hue) {
            displayedHueRef.value = hue;
            const { value: hsvaArr } = hsvaRef;
            if (!hsvaArr) {
                return;
            }
            const [, s, v, a] = hsvaArr;
            const { showAlpha } = props;
            switch (displayedModeRef.value) {
                case 'hsv':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toHsvaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toHsvString)([hue, s, v, a]), 'cursor');
                    break;
                case 'rgb':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toRgbaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toRgbString)([
                        ...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2rgb)(hue, s, v),
                        a
                    ]), 'cursor');
                    break;
                case 'hex':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toHexaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toHexString)([
                        ...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2rgb)(hue, s, v),
                        a
                    ]), 'cursor');
                    break;
                case 'hsl':
                    doUpdateValue((showAlpha ? seemly__WEBPACK_IMPORTED_MODULE_12__.toHslaString : seemly__WEBPACK_IMPORTED_MODULE_12__.toHslString)([
                        ...(0,seemly__WEBPACK_IMPORTED_MODULE_13__.hsv2hsl)(hue, s, v),
                        a
                    ]), 'cursor');
                    break;
            }
        }
        function handleUpdateAlpha(alpha) {
            switch (displayedModeRef.value) {
                case 'hsv':
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    ;
                    [_h, s, v] = hsvaRef.value;
                    doUpdateValue((0,seemly__WEBPACK_IMPORTED_MODULE_12__.toHsvaString)([_h, s, v, alpha]), 'cursor');
                    break;
                case 'rgb':
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    ;
                    [r, g, b] = rgbaRef.value;
                    doUpdateValue((0,seemly__WEBPACK_IMPORTED_MODULE_12__.toRgbaString)([r, g, b, alpha]), 'cursor');
                    break;
                case 'hex':
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    ;
                    [r, g, b] = rgbaRef.value;
                    doUpdateValue((0,seemly__WEBPACK_IMPORTED_MODULE_12__.toHexaString)([r, g, b, alpha]), 'cursor');
                    break;
                case 'hsl':
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    ;
                    [_h, s, l] = hslaRef.value;
                    doUpdateValue((0,seemly__WEBPACK_IMPORTED_MODULE_12__.toHslaString)([_h, s, l, alpha]), 'cursor');
                    break;
            }
            displayedAlphaRef.value = alpha;
        }
        function doUpdateValue(value, updateSource) {
            if (updateSource === 'cursor') {
                upcomingValue = value;
            }
            else {
                upcomingValue = null;
            }
            const { nTriggerFormChange, nTriggerFormInput } = formItem;
            const { onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;
            if (onUpdateValue)
                (0,_utils__WEBPACK_IMPORTED_MODULE_10__.call)(onUpdateValue, value);
            if (_onUpdateValue)
                (0,_utils__WEBPACK_IMPORTED_MODULE_10__.call)(_onUpdateValue, value);
            nTriggerFormChange();
            nTriggerFormInput();
            uncontrolledValueRef.value = value;
        }
        function handleInputUpdateValue(value) {
            doUpdateValue(value, 'input');
            void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(handleComplete);
        }
        function handleComplete(pushStack = true) {
            const { value } = mergedValueRef;
            // no value & only hue changes will complete with no value
            if (value) {
                const { nTriggerFormChange, nTriggerFormInput } = formItem;
                const { onComplete } = props;
                if (onComplete) {
                    ;
                    onComplete(value);
                }
                const { value: undoStack } = undoStackRef;
                const { value: valueIndex } = valueIndexRef;
                if (pushStack) {
                    undoStack.splice(valueIndex + 1, undoStack.length, value);
                    valueIndexRef.value = valueIndex + 1;
                }
                nTriggerFormChange();
                nTriggerFormInput();
            }
        }
        function undo() {
            const { value: valueIndex } = valueIndexRef;
            if (valueIndex - 1 < 0)
                return;
            doUpdateValue(undoStackRef.value[valueIndex - 1], 'input');
            handleComplete(false);
            valueIndexRef.value = valueIndex - 1;
        }
        function redo() {
            const { value: valueIndex } = valueIndexRef;
            if (valueIndex < 0 || valueIndex + 1 >= undoStackRef.value.length)
                return;
            doUpdateValue(undoStackRef.value[valueIndex + 1], 'input');
            handleComplete(false);
            valueIndexRef.value = valueIndex + 1;
        }
        function handleClear() {
            doUpdateValue(null, 'input');
            doUpdateShow(false);
        }
        function handleConfirm() {
            const { value } = mergedValueRef;
            const { onConfirm } = props;
            if (onConfirm) {
                ;
                onConfirm(value);
            }
            doUpdateShow(false);
        }
        const undoableRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => valueIndexRef.value >= 1);
        const redoableRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: undoStack } = undoStackRef;
            return undoStack.length > 1 && valueIndexRef.value < undoStack.length - 1;
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(mergedShowRef, (value) => {
            if (!value) {
                undoStackRef.value = [mergedValueRef.value];
                valueIndexRef.value = 0;
            }
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
            if (upcomingValue && upcomingValue === mergedValueRef.value) {
                // let it works in uncontrolled mode
            }
            else {
                const { value } = hsvaRef;
                if (value) {
                    displayedHueRef.value = value[0];
                    displayedAlphaRef.value = value[3];
                    displayedSvRef.value = [value[1], value[2]];
                }
            }
            upcomingValue = null;
        });
        const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: mergedSize } = mergedSizeRef;
            const { common: { cubicBezierEaseInOut }, self: { textColor, color, panelFontSize, boxShadow, border, borderRadius, dividerColor, [(0,_utils__WEBPACK_IMPORTED_MODULE_14__.createKey)('height', mergedSize)]: height, [(0,_utils__WEBPACK_IMPORTED_MODULE_14__.createKey)('fontSize', mergedSize)]: fontSize } } = themeRef.value;
            return {
                '--n-bezier': cubicBezierEaseInOut,
                '--n-text-color': textColor,
                '--n-color': color,
                '--n-panel-font-size': panelFontSize,
                '--n-font-size': fontSize,
                '--n-box-shadow': boxShadow,
                '--n-border': border,
                '--n-border-radius': borderRadius,
                '--n-height': height,
                '--n-divider-color': dividerColor
            };
        });
        const themeClassHandle = inlineThemeDisabled
            ? (0,_mixins__WEBPACK_IMPORTED_MODULE_15__.useThemeClass)('color-picker', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                return mergedSizeRef.value[0];
            }), cssVarsRef, props)
            : undefined;
        function renderPanel() {
            var _a;
            const { value: rgba } = rgbaRef;
            const { value: displayedHue } = displayedHueRef;
            const { internalActions, modes, actions } = props;
            const { value: mergedTheme } = themeRef;
            const { value: mergedClsPrefix } = mergedClsPrefixRef;
            return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: [
                    `${mergedClsPrefix}-color-picker-panel`,
                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value
                ], onDragstart: (e) => {
                    e.preventDefault();
                }, style: inlineThemeDisabled
                    ? undefined
                    : cssVarsRef.value },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-color-picker-control` },
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_Pallete__WEBPACK_IMPORTED_MODULE_16__["default"], { clsPrefix: mergedClsPrefix, rgba: rgba, displayedHue: displayedHue, displayedSv: displayedSvRef.value, onUpdateSV: handleUpdateSv, onComplete: handleComplete }),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-color-picker-preview` },
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-color-picker-preview__sliders` },
                            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_HueSlider__WEBPACK_IMPORTED_MODULE_17__["default"], { clsPrefix: mergedClsPrefix, hue: displayedHue, onUpdateHue: handleUpdateHue, onComplete: handleComplete }),
                            props.showAlpha ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_AlphaSlider__WEBPACK_IMPORTED_MODULE_18__["default"], { clsPrefix: mergedClsPrefix, rgba: rgba, alpha: displayedAlphaRef.value, onUpdateAlpha: handleUpdateAlpha, onComplete: handleComplete })) : null),
                        props.showPreview ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_ColorPreview__WEBPACK_IMPORTED_MODULE_19__["default"], { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, color: rgbaRef.value && (0,seemly__WEBPACK_IMPORTED_MODULE_12__.toHexString)(rgbaRef.value), onUpdateColor: (color) => { doUpdateValue(color, 'input'); } })) : null),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_ColorInput__WEBPACK_IMPORTED_MODULE_20__["default"], { clsPrefix: mergedClsPrefix, showAlpha: props.showAlpha, mode: displayedModeRef.value, modes: modes, onUpdateMode: handleUpdateDisplayedMode, value: mergedValueRef.value, valueArr: mergedValueArrRef.value, onUpdateValue: handleInputUpdateValue }),
                    ((_a = props.swatches) === null || _a === void 0 ? void 0 : _a.length) && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_ColorPickerSwatches__WEBPACK_IMPORTED_MODULE_21__["default"], { clsPrefix: mergedClsPrefix, mode: displayedModeRef.value, swatches: props.swatches, onUpdateColor: (color) => { doUpdateValue(color, 'input'); } }))),
                (actions === null || actions === void 0 ? void 0 : actions.length) ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-color-picker-action` },
                    actions.includes('confirm') && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_button__WEBPACK_IMPORTED_MODULE_22__["default"], { size: "small", onClick: handleConfirm, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.confirm })),
                    actions.includes('clear') && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_button__WEBPACK_IMPORTED_MODULE_22__["default"], { size: "small", onClick: handleClear, disabled: !mergedValueRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.clear })))) : null,
                slots.action ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-color-picker-action` }, { default: slots.action })) : internalActions ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-color-picker-action` },
                    internalActions.includes('undo') && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_button__WEBPACK_IMPORTED_MODULE_22__["default"], { size: "small", onClick: undo, disabled: !undoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.undo })),
                    internalActions.includes('redo') && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_button__WEBPACK_IMPORTED_MODULE_22__["default"], { size: "small", onClick: redo, disabled: !redoableRef.value, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button }, { default: () => localeRef.value.redo })))) : null));
        }
        return {
            mergedClsPrefix: mergedClsPrefixRef,
            namespace: namespaceRef,
            selfRef,
            hsla: hslaRef,
            rgba: rgbaRef,
            mergedShow: mergedShowRef,
            mergedDisabled: mergedDisabledRef,
            isMounted: (0,vooks__WEBPACK_IMPORTED_MODULE_23__["default"])(),
            adjustedTo: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo)(props),
            mergedValue: mergedValueRef,
            handleTriggerClick() {
                doUpdateShow(true);
            },
            handleClickOutside(e) {
                var _a;
                if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains((0,seemly__WEBPACK_IMPORTED_MODULE_24__.getPreciseEventTarget)(e))) {
                    return;
                }
                doUpdateShow(false);
            },
            renderPanel,
            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
        };
    },
    render() {
        const { $slots, mergedClsPrefix, onRender } = this;
        onRender === null || onRender === void 0 ? void 0 : onRender();
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: [this.themeClass, `${mergedClsPrefix}-color-picker`], ref: "selfRef", style: this.cssVars },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_25__["default"], null, {
                default: () => [
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_26__["default"], null, {
                        default: () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_ColorPickerTrigger__WEBPACK_IMPORTED_MODULE_27__["default"], { clsPrefix: mergedClsPrefix, value: this.mergedValue, hsla: this.hsla, disabled: this.mergedDisabled, onClick: this.handleTriggerClick }, {
                            label: $slots.label
                        }))
                    }),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_28__["default"], { placement: this.placement, show: this.mergedShow, containerClass: this.namespace, teleportDisabled: this.adjustedTo === _utils__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.tdkey, to: this.adjustedTo }, {
                        default: () => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, { name: "fade-in-scale-up-transition", appear: this.isMounted }, {
                            default: () => this.mergedShow
                                ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)(this.renderPanel(), [
                                    [
                                        vdirs__WEBPACK_IMPORTED_MODULE_29__["default"],
                                        this.handleClickOutside,
                                        undefined,
                                        { capture: true }
                                    ]
                                ])
                                : null
                        }))
                    })
                ]
            })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js":
/*!**************************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/ColorPickerSwatches.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/convert.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./node_modules/naive-ui/es/color-picker/src/utils.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/naive/warn.js");




// Try to normalize the color values to ensure that they are valid CSS colors
function normalizeColor(color, mode) {
    if (mode === 'hsv') {
        const [h, s, v, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsva)(color);
        return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toRgbaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsv2rgb)(h, s, v), a]);
    }
    // For the mode that is not in preset, we keep the original value.
    // For color names, they are legal to CSS, so we don’t deal with them,
    // and only standardize them when outputting.
    return color;
}
function getHexFromName(color) {
    const ctx = document
        .createElement('canvas')
        .getContext('2d');
    ctx.fillStyle = color;
    return ctx.fillStyle;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ColorPickerSwatches',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        mode: {
            type: String,
            required: true
        },
        swatches: {
            type: Array,
            required: true
        },
        onUpdateColor: {
            type: Function,
            required: true
        }
    },
    setup(props) {
        const parsedSwatchesRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => props.swatches.map((value) => {
            const mode = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getModeFromValue)(value);
            return {
                value,
                mode,
                legalValue: normalizeColor(value, mode)
            };
        }));
        function normalizeOutput(parsed) {
            const { mode: modeProp } = props;
            let { value, mode: swatchColorMode } = parsed;
            // color name is converted to hex
            if (!swatchColorMode) {
                swatchColorMode = 'hex';
                if (/^[a-zA-Z]+$/.test(value)) {
                    value = getHexFromName(value);
                }
                else {
                    // for invalid color, we make it black
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.warn)('color-picker', `color ${value} in swatches is invalid.`);
                    value = '#000000';
                }
            }
            if (swatchColorMode === modeProp)
                return value;
            // swatch value to current mode value
            return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.convertColor)(value, modeProp, swatchColorMode);
        }
        function handleSwatchSelect(parsed) {
            props.onUpdateColor(normalizeOutput(parsed));
        }
        function handleSwatchKeyDown(e, parsed) {
            if (e.key === 'Enter')
                handleSwatchSelect(parsed);
        }
        return {
            parsedSwatchesRef,
            handleSwatchSelect,
            handleSwatchKeyDown
        };
    },
    render() {
        const { clsPrefix } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-swatches` }, this.parsedSwatchesRef.map((swatch) => ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-swatch`, tabindex: 0, onClick: () => { this.handleSwatchSelect(swatch); }, onKeydown: (e) => { this.handleSwatchKeyDown(e, swatch); } },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-swatch__fill`, style: { background: swatch.legalValue } }))))));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js":
/*!*************************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/ColorPickerTrigger.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context */ "./node_modules/naive-ui/es/color-picker/src/context.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ColorPickerTrigger',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        value: {
            type: String,
            default: null
        },
        hsla: {
            type: Array,
            default: null
        },
        disabled: Boolean,
        onClick: Function
    },
    setup(props) {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        const { colorPickerSlots, renderLabelRef } = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_context__WEBPACK_IMPORTED_MODULE_1__.colorPickerInjectionKey, null);
        return () => {
            const { hsla, value, clsPrefix, onClick, disabled } = props;
            const renderLabel = colorPickerSlots.label || renderLabelRef.value;
            return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: [
                    `${clsPrefix}-color-picker-trigger`,
                    disabled && `${clsPrefix}-color-picker-trigger--disabled`
                ], onClick: disabled ? undefined : onClick },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-trigger__fill` },
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-checkboard` }),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { style: {
                            position: 'absolute',
                            left: 0,
                            right: 0,
                            top: 0,
                            bottom: 0,
                            backgroundColor: hsla ? (0,seemly__WEBPACK_IMPORTED_MODULE_2__.toHslaString)(hsla) : ''
                        } }),
                    value && hsla ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-trigger__value`, style: {
                            color: hsla[2] > 50 || hsla[3] < 0.5 ? 'black' : 'white'
                        } }, renderLabel ? renderLabel(value) : value)) : null)));
        };
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/ColorPreview.js":
/*!*******************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/ColorPreview.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./node_modules/naive-ui/es/color-picker/src/utils.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'ColorPreview',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        mode: {
            type: String,
            required: true
        },
        color: {
            type: String,
            default: null,
            validator: (value) => {
                const mode = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getModeFromValue)(value);
                return Boolean(!value || (mode && mode !== 'hsv'));
            }
        },
        onUpdateColor: {
            type: Function,
            required: true
        }
    },
    setup(props) {
        function handleChange(e) {
            var _a;
            // hex
            const value = e.target.value;
            (_a = props.onUpdateColor) === null || _a === void 0 ? void 0 : _a.call(props, (0,_utils__WEBPACK_IMPORTED_MODULE_1__.convertColor)(value.toUpperCase(), props.mode, 'hex'));
            e.stopPropagation();
        }
        return {
            handleChange
        };
    },
    render() {
        const { clsPrefix } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-preview__preview` },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: `${clsPrefix}-color-picker-preview__fill`, style: {
                    background: this.color || '#000000'
                } }),
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("input", { class: `${clsPrefix}-color-picker-preview__input`, type: "color", value: this.color, onChange: this.handleChange })));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/HueSlider.js":
/*!****************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/HueSlider.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var evtd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! evtd */ "./node_modules/evtd/es/delegate.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./node_modules/naive-ui/es/color-picker/src/utils.js");



const HANDLE_SIZE = '12px';
const HANDLE_SIZE_NUM = 12;
const RADIUS = '6px';
const RADIUS_NUM = 6;
const GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'HueSlider',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        hue: {
            type: Number,
            required: true
        },
        onUpdateHue: {
            type: Function,
            required: true
        },
        onComplete: Function
    },
    setup(props) {
        const railRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        function handleMouseDown(e) {
            if (!railRef.value)
                return;
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.on)('mousemove', document, handleMouseMove);
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.on)('mouseup', document, handleMouseUp);
            handleMouseMove(e);
        }
        function handleMouseMove(e) {
            const { value: railEl } = railRef;
            if (!railEl)
                return;
            const { width, left } = railEl.getBoundingClientRect();
            const newHue = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.normalizeHue)(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);
            props.onUpdateHue(newHue);
        }
        function handleMouseUp() {
            var _a;
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.off)('mousemove', document, handleMouseMove);
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.off)('mouseup', document, handleMouseUp);
            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);
        }
        return {
            railRef,
            handleMouseDown
        };
    },
    render() {
        const { clsPrefix } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-slider`, style: {
                height: HANDLE_SIZE,
                borderRadius: RADIUS
            } },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: "railRef", style: {
                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',
                    boxSizing: 'border-box',
                    backgroundImage: GRADIENT,
                    height: HANDLE_SIZE,
                    borderRadius: RADIUS,
                    position: 'relative'
                }, onMousedown: this.handleMouseDown },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { style: {
                        position: 'absolute',
                        left: RADIUS,
                        right: RADIUS,
                        top: 0,
                        bottom: 0
                    } },
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-handle`, style: {
                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,
                            borderRadius: RADIUS,
                            width: HANDLE_SIZE,
                            height: HANDLE_SIZE
                        } },
                        (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-handle__fill`, style: {
                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,
                                borderRadius: RADIUS,
                                width: HANDLE_SIZE,
                                height: HANDLE_SIZE
                            } }))))));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/Pallete.js":
/*!**************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/Pallete.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var evtd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! evtd */ "./node_modules/evtd/es/delegate.js");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");


const HANDLE_SIZE = '12px';
const RADIUS = '6px';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Pallete',
    props: {
        clsPrefix: {
            type: String,
            required: true
        },
        rgba: {
            type: Array,
            default: null
        },
        // 0 - 360
        displayedHue: {
            type: Number,
            required: true
        },
        displayedSv: {
            type: Array,
            required: true
        },
        onUpdateSV: {
            type: Function,
            required: true
        },
        onComplete: Function
    },
    setup(props) {
        const palleteRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        function handleMouseDown(e) {
            if (!palleteRef.value)
                return;
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.on)('mousemove', document, handleMouseMove);
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.on)('mouseup', document, handleMouseUp);
            handleMouseMove(e);
        }
        function handleMouseMove(e) {
            const { value: palleteEl } = palleteRef;
            if (!palleteEl)
                return;
            const { width, height, left, bottom } = palleteEl.getBoundingClientRect();
            const newV = (bottom - e.clientY) / height;
            const newS = (e.clientX - left) / width;
            const normalizedNewS = 100 * (newS > 1 ? 1 : newS < 0 ? 0 : newS);
            const normalizedNewV = 100 * (newV > 1 ? 1 : newV < 0 ? 0 : newV);
            props.onUpdateSV(normalizedNewS, normalizedNewV);
        }
        function handleMouseUp() {
            var _a;
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.off)('mousemove', document, handleMouseMove);
            (0,evtd__WEBPACK_IMPORTED_MODULE_1__.off)('mouseup', document, handleMouseUp);
            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);
        }
        return {
            palleteRef,
            handleColor: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                const { rgba } = props;
                if (!rgba)
                    return '';
                return `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;
            }),
            handleMouseDown
        };
    },
    render() {
        const { clsPrefix } = this;
        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-pallete`, onMousedown: this.handleMouseDown, ref: "palleteRef" },
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-pallete__layer`, style: {
                    backgroundImage: `linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`
                } }),
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-pallete__layer ${clsPrefix}-color-picker-pallete__layer--shadowed`, style: {
                    backgroundImage: 'linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))'
                } }),
            this.rgba && ((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-handle`, style: {
                    width: HANDLE_SIZE,
                    height: HANDLE_SIZE,
                    borderRadius: RADIUS,
                    left: `calc(${this.displayedSv[0]}% - ${RADIUS})`,
                    bottom: `calc(${this.displayedSv[1]}% - ${RADIUS})`
                } },
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${clsPrefix}-color-picker-handle__fill`, style: {
                        backgroundColor: this.handleColor,
                        borderRadius: RADIUS,
                        width: HANDLE_SIZE,
                        height: HANDLE_SIZE
                    } })))));
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/context.js":
/*!**************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/context.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   colorPickerInjectionKey: () => (/* binding */ colorPickerInjectionKey)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/vue/create-injection-key.js");

const colorPickerInjectionKey = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.createInjectionKey)('n-color-picker');


/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js":
/*!************************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/styles/index.cssr.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");
/* harmony import */ var _styles_transitions_fade_in_scale_up_cssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_styles/transitions/fade-in-scale-up.cssr */ "./node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.js");


// vars:
// --n-color
// --n-text-color
// --n-border-radius
// --n-panel-font-size
// --n-font-size
// --n-bezier
// --n-height
// --n-box-shadow
// --n-divider-color
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)([(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker', `
 display: inline-block;
 box-sizing: border-box;
 height: var(--n-height);
 font-size: var(--n-font-size);
 width: 100%;
 position: relative;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-panel', `
 margin: 4px 0;
 width: 240px;
 font-size: var(--n-panel-font-size);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 `, [(0,_styles_transitions_fade_in_scale_up_cssr__WEBPACK_IMPORTED_MODULE_1__.fadeInScaleUpTransition)(), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('input', `
 text-align: center;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-checkboard', `
 background: white; 
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&::after', `
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 12px 12px;
 background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
 background-repeat: repeat;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-slider', `
 margin-bottom: 8px;
 position: relative;
 box-sizing: border-box;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('image', `
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&::after', `
 content: "";
 position: absolute;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 pointer-events: none;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-handle', `
 z-index: 1;
 box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);
 position: absolute;
 background-color: white;
 overflow: hidden;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('fill', `
 box-sizing: border-box;
 border: 2px solid white;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-pallete', `
 height: 180px;
 position: relative;
 margin-bottom: 8px;
 cursor: crosshair;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('layer', `
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('shadowed', `
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 `)])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-preview', `
 display: flex;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('sliders', `
 flex: 1 0 auto;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('preview', `
 position: relative;
 height: 30px;
 width: 30px;
 margin: 0 0 8px 6px;
 border-radius: 50%;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 overflow: hidden;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('fill', `
 display: block;
 width: 30px;
 height: 30px;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('input', `
 position: absolute;
 top: 0;
 left: 0;
 width: 30px;
 height: 30px;
 opacity: 0;
 z-index: 1;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-input', `
 display: flex;
 align-items: center;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('input', `
 flex-grow: 1;
 flex-basis: 0;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('mode', `
 width: 72px;
 text-align: center;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-control', `
 padding: 12px;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-action', `
 display: flex;
 margin-top: -4px;
 border-top: 1px solid var(--n-divider-color);
 padding: 8px 12px;
 justify-content: flex-end;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('button', 'margin-left: 8px;')]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-trigger', `
 border: var(--n-border);
 height: 100%;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 cursor: pointer;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('value', `
 white-space: nowrap;
 position: relative;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('fill', `
 border-radius: var(--n-border-radius);
 position: absolute;
 display: flex;
 align-items: center;
 justify-content: center;
 left: 4px;
 right: 4px;
 top: 4px;
 bottom: 4px;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', 'cursor: not-allowed'), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-checkboard', `
 border-radius: var(--n-border-radius);
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&::after', `
 --n-block-size: calc((var(--n-height) - 8px) / 3);
 background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);
 background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; 
 `)])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-swatches', `
 display: grid;
 grid-gap: 8px;
 flex-wrap: wrap;
 position: relative;
 grid-template-columns: repeat(auto-fill, 18px);
 margin-top: 10px;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('color-picker-swatch', `
 width: 18px;
 height: 18px;
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 8px 8px;
 background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;
 background-repeat: repeat;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('fill', `
 position: relative;
 width: 100%;
 height: 100%;
 border-radius: 3px;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 cursor: pointer;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:focus', `
 outline: none;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('fill', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&::after', `
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: inherit;
 filter: blur(2px);
 content: "";
 `)])])])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/color-picker/src/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/naive-ui/es/color-picker/src/utils.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertColor: () => (/* binding */ convertColor),
/* harmony export */   deriveDefaultValue: () => (/* binding */ deriveDefaultValue),
/* harmony export */   floor: () => (/* binding */ floor),
/* harmony export */   getModeFromValue: () => (/* binding */ getModeFromValue),
/* harmony export */   normalizeAlpha: () => (/* binding */ normalizeAlpha),
/* harmony export */   normalizeHue: () => (/* binding */ normalizeHue)
/* harmony export */ });
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/convert.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_utils */ "./node_modules/naive-ui/es/_utils/naive/warn.js");


function deriveDefaultValue(modes, showAlpha) {
    const mode = modes[0];
    switch (mode) {
        case 'hex':
            return showAlpha ? '#000000FF' : '#000000';
        case 'rgb':
            return showAlpha ? 'rgba(0, 0, 0, 1)' : 'rgb(0, 0, 0)';
        case 'hsl':
            return showAlpha ? 'hsla(0, 0%, 0%, 1)' : 'hsl(0, 0%, 0%)';
        case 'hsv':
            return showAlpha ? 'hsva(0, 0%, 0%, 1)' : 'hsv(0, 0%, 0%)';
    }
    if (true)
        (0,_utils__WEBPACK_IMPORTED_MODULE_0__.warn)('color-picker', 'props.modes is invalid.');
    // in case of invalid modes
    return '#000000';
}
function getModeFromValue(color) {
    if (color === null)
        return null;
    if (/^ *#/.test(color))
        return 'hex';
    if (color.includes('rgb'))
        return 'rgb';
    if (color.includes('hsl'))
        return 'hsl';
    if (color.includes('hsv'))
        return 'hsv';
    return null;
}
function floor(color) {
    return color.map((channel) => Math.floor(channel));
}
function normalizeHue(hue) {
    hue = Math.round(hue);
    return hue >= 360 ? 359 : hue < 0 ? 0 : hue;
}
function normalizeAlpha(alpha) {
    alpha = Math.round(alpha * 100) / 100;
    return alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;
}
const convert = {
    rgb: {
        hex(value) {
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHexaString)((0,seemly__WEBPACK_IMPORTED_MODULE_1__.rgba)(value));
        },
        hsl(value) {
            const [r, g, b, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.rgba)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHslaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.rgb2hsl)(r, g, b), a]);
        },
        hsv(value) {
            const [r, g, b, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.rgba)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHsvaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.rgb2hsv)(r, g, b), a]);
        }
    },
    hex: {
        rgb(value) {
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toRgbaString)((0,seemly__WEBPACK_IMPORTED_MODULE_1__.rgba)(value));
        },
        hsl(value) {
            const [r, g, b, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.rgba)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHslaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.rgb2hsl)(r, g, b), a]);
        },
        hsv(value) {
            const [r, g, b, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.rgba)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHsvaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.rgb2hsv)(r, g, b), a]);
        }
    },
    hsl: {
        hex(value) {
            const [h, s, l, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsla)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHexaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsl2rgb)(h, s, l), a]);
        },
        rgb(value) {
            const [h, s, l, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsla)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toRgbaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsl2rgb)(h, s, l), a]);
        },
        hsv(value) {
            const [h, s, l, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsla)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHsvaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsl2hsv)(h, s, l), a]);
        }
    },
    hsv: {
        hex(value) {
            const [h, s, v, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsva)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHexaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsv2rgb)(h, s, v), a]);
        },
        rgb(value) {
            const [h, s, v, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsva)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toRgbaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsv2rgb)(h, s, v), a]);
        },
        hsl(value) {
            const [h, s, v, a] = (0,seemly__WEBPACK_IMPORTED_MODULE_1__.hsva)(value);
            return (0,seemly__WEBPACK_IMPORTED_MODULE_1__.toHslaString)([...(0,seemly__WEBPACK_IMPORTED_MODULE_2__.hsv2hsl)(h, s, v), a]);
        }
    }
};
// implementation
function convertColor(value, mode, originalMode) {
    originalMode = originalMode || getModeFromValue(value);
    if (!originalMode)
        return null;
    if (originalMode === mode)
        return value;
    const conversions = convert[originalMode];
    return conversions[mode](value);
}


/***/ }),

/***/ "./node_modules/naive-ui/es/input/src/InputGroup.js":
/*!**********************************************************!*\
  !*** ./node_modules/naive-ui/es/input/src/InputGroup.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   inputGroupProps: () => (/* binding */ inputGroupProps)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-config.js");
/* harmony import */ var _mixins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_mixins */ "./node_modules/naive-ui/es/_mixins/use-style.js");
/* harmony import */ var _styles_input_group_cssr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./styles/input-group.cssr */ "./node_modules/naive-ui/es/input/src/styles/input-group.cssr.js");



const inputGroupProps = {};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'InputGroup',
    props: inputGroupProps,
    setup(props) {
        const { mergedClsPrefixRef } = (0,_mixins__WEBPACK_IMPORTED_MODULE_1__["default"])(props);
        (0,_mixins__WEBPACK_IMPORTED_MODULE_2__["default"])('-input-group', _styles_input_group_cssr__WEBPACK_IMPORTED_MODULE_3__["default"], mergedClsPrefixRef);
        return {
            mergedClsPrefix: mergedClsPrefixRef
        };
    },
    render() {
        const { mergedClsPrefix } = this;
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `${mergedClsPrefix}-input-group` }, this.$slots);
    }
}));


/***/ }),

/***/ "./node_modules/naive-ui/es/input/src/styles/input-group.cssr.js":
/*!***********************************************************************!*\
  !*** ./node_modules/naive-ui/es/input/src/styles/input-group.cssr.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr */ "./node_modules/naive-ui/es/_utils/cssr/index.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('input-group', `
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('>', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('input', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:not(:last-child)', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:not(:first-child)', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('button', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:not(:last-child)', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border, border', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:not(:first-child)', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border, border', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('*', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:not(:last-child)', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('>', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('input', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('box-shadow, border, state-border', `
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('&:not(:first-child)', `
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `, [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.c)('>', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('input', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection', [(0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `), (0,_utils_cssr__WEBPACK_IMPORTED_MODULE_0__.cE)('box-shadow, border, state-border', `
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]));

/***/ }),

/***/ "./node_modules/seemly/es/css/index.js":
/*!*********************************************!*\
  !*** ./node_modules/seemly/es/css/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   depx: () => (/* binding */ depx),
/* harmony export */   getGap: () => (/* binding */ getGap),
/* harmony export */   getMargin: () => (/* binding */ getMargin),
/* harmony export */   getPadding: () => (/* binding */ getMargin),
/* harmony export */   parseResponsiveProp: () => (/* reexport safe */ _responsive__WEBPACK_IMPORTED_MODULE_0__.parseResponsiveProp),
/* harmony export */   parseResponsivePropValue: () => (/* reexport safe */ _responsive__WEBPACK_IMPORTED_MODULE_0__.parseResponsivePropValue),
/* harmony export */   pxfy: () => (/* binding */ pxfy)
/* harmony export */ });
/* harmony import */ var _responsive__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./responsive */ "./node_modules/seemly/es/css/responsive.js");
function depx(value) {
    if (typeof value === 'string') {
        if (value.endsWith('px')) {
            return Number(value.slice(0, value.length - 2));
        }
        return Number(value);
    }
    return value;
}
function pxfy(value) {
    if (value === undefined || value === null)
        return undefined;
    if (typeof value === 'number')
        return `${value}px`;
    if (value.endsWith('px'))
        return value;
    return `${value}px`;
}

function getMargin(value, position) {
    const parts = value.trim().split(/\s+/g);
    const margin = {
        top: parts[0]
    };
    switch (parts.length) {
        case 1:
            margin.right = parts[0];
            margin.bottom = parts[0];
            margin.left = parts[0];
            break;
        case 2:
            margin.right = parts[1];
            margin.left = parts[1];
            margin.bottom = parts[0];
            break;
        case 3:
            margin.right = parts[1];
            margin.bottom = parts[2];
            margin.left = parts[1];
            break;
        case 4:
            margin.right = parts[1];
            margin.bottom = parts[2];
            margin.left = parts[3];
            break;
        default:
            throw new Error('[seemly/getMargin]:' + value + ' is not a valid value.');
    }
    if (position === undefined)
        return margin;
    return margin[position];
}
function getGap(value, orient) {
    const [rowGap, colGap] = value.split(' ');
    if (!orient)
        return {
            row: rowGap,
            col: colGap || rowGap
        };
    return orient === 'row' ? rowGap : colGap;
}




/***/ }),

/***/ "./node_modules/seemly/es/css/responsive.js":
/*!**************************************************!*\
  !*** ./node_modules/seemly/es/css/responsive.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parseResponsiveProp: () => (/* binding */ parseResponsiveProp),
/* harmony export */   parseResponsivePropValue: () => (/* binding */ parseResponsivePropValue)
/* harmony export */ });
function parseResponsiveProp(reponsiveProp) {
    if (typeof reponsiveProp === "number") {
        return {
            '': reponsiveProp.toString()
        };
    }
    const params = {};
    reponsiveProp.split(/ +/).forEach((pairLiteral) => {
        if (pairLiteral === '')
            return;
        const [prefix, value] = pairLiteral.split(':');
        if (value === undefined) {
            params[''] = prefix;
        }
        else {
            params[prefix] = value;
        }
    });
    return params;
}
function parseResponsivePropValue(reponsiveProp, activeKeyOrSize) {
    var _a;
    if (reponsiveProp === undefined || reponsiveProp === null)
        return undefined;
    const classObj = parseResponsiveProp(reponsiveProp);
    if (activeKeyOrSize === undefined)
        return classObj[''];
    if (typeof activeKeyOrSize === 'string') {
        return (_a = classObj[activeKeyOrSize]) !== null && _a !== void 0 ? _a : classObj[''];
    }
    else if (Array.isArray(activeKeyOrSize)) {
        for (let i = activeKeyOrSize.length - 1; i >= 0; --i) {
            const key = activeKeyOrSize[i];
            if (key in classObj)
                return classObj[key];
        }
        return classObj[''];
    }
    else {
        // Here we suppose all the keys are number formatted
        let activeValue = undefined;
        let activeKey = -1;
        Object.keys(classObj).forEach((key) => {
            const keyAsNum = Number(key);
            if (!Number.isNaN(keyAsNum) &&
                activeKeyOrSize >= keyAsNum &&
                keyAsNum >= activeKey) {
                activeKey = keyAsNum;
                activeValue = classObj[key];
            }
        });
        return activeValue;
    }
}



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfbmFpdmUtdWlfZXNfX2ludGVybmFsX3N1ZmZpeF9zcmNfU3VmZml4X2pzLW5vZGVfbW9kdWxlc19uYWl2ZS11aV9lc19jb2xvLTI4YWY2YS5taW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDRjtBQUNGO0FBQ0o7QUFDRDtBQUMwQjtBQUN6QjtBQUN4QyxpRUFBZSxvREFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLG1EQUFRLGdCQUFnQiwwREFBSyxFQUFFLDBDQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsWUFBWTtBQUM1QixnQkFBZ0Isc0NBQUMsVUFBVSxVQUFVLFVBQVUsY0FBYztBQUM3RCxZQUFZLHNDQUFDLENBQUMsK0RBQXFCO0FBQ25DO0FBQ0E7QUFDQSx3Q0FBd0Msc0NBQUMsVUFBVSwwQkFBMEIsVUFBVSxtR0FBbUcsRUFBRSxtREFBVztBQUN2TSx3QkFBd0Isc0NBQUMsQ0FBQyw2Q0FBUyxJQUFJLHNCQUFzQjtBQUM3RCwyQ0FBMkMsc0NBQUMsQ0FBQyw4Q0FBUztBQUN0RCx5QkFBeUI7QUFDekIsNEJBQTRCLHNDQUFDLFVBQVUsdUJBQXVCLFVBQVUsMkJBQTJCO0FBQ25HO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsQ0FBQyxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkNpRDtBQUNvQztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSwrQ0FBRTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksOENBQUMsT0FBTywrQ0FBRTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw4Q0FBQztBQUNOO0FBQ0EsS0FBSyw4Q0FBQztBQUNOO0FBQ0EsT0FBTywrQ0FBRTtBQUNU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Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeERSO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE1BQU07QUFDeEI7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0Q7QUFDdUI7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5RHRFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsUUFBUTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ29DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9jbGVhci9zcmMvQ2xlYXIuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9jbGVhci9zcmMvc3R5bGVzL2luZGV4LmNzc3IuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9pY29ucy9DaGV2cm9uRG93bi5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2ljb25zL0NsZWFyLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvc3VmZml4L3NyYy9TdWZmaXguanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2NvbG9yLXBpY2tlci9zcmMvQWxwaGFTbGlkZXIuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2NvbG9yLXBpY2tlci9zcmMvQ29sb3JJbnB1dC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvY29sb3ItcGlja2VyL3NyYy9Db2xvcklucHV0VW5pdC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvY29sb3ItcGlja2VyL3NyYy9Db2xvclBpY2tlci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvY29sb3ItcGlja2VyL3NyYy9Db2xvclBpY2tlclN3YXRjaGVzLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9jb2xvci1waWNrZXIvc3JjL0NvbG9yUGlja2VyVHJpZ2dlci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvY29sb3ItcGlja2VyL3NyYy9Db2xvclByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2NvbG9yLXBpY2tlci9zcmMvSHVlU2xpZGVyLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9jb2xvci1waWNrZXIvc3JjL1BhbGxldGUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2NvbG9yLXBpY2tlci9zcmMvY29udGV4dC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvY29sb3ItcGlja2VyL3NyYy9zdHlsZXMvaW5kZXguY3Nzci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvY29sb3ItcGlja2VyL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvaW5wdXQvc3JjL0lucHV0R3JvdXAuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL2lucHV0L3NyYy9zdHlsZXMvaW5wdXQtZ3JvdXAuY3Nzci5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvc2VlbWx5L2VzL2Nzcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvc2VlbWx5L2VzL2Nzcy9yZXNwb25zaXZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCwgdG9SZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcmVzb2x2ZVNsb3QgfSBmcm9tICcuLi8uLi8uLi9fdXRpbHMnO1xuaW1wb3J0IHsgdXNlU3R5bGUgfSBmcm9tICcuLi8uLi8uLi9fbWl4aW5zJztcbmltcG9ydCB7IENsZWFySWNvbiB9IGZyb20gJy4uLy4uL2ljb25zJztcbmltcG9ydCB7IE5CYXNlSWNvbiB9IGZyb20gJy4uLy4uL2ljb24nO1xuaW1wb3J0IE5JY29uU3dpdGNoVHJhbnNpdGlvbiBmcm9tICcuLi8uLi9pY29uLXN3aXRjaC10cmFuc2l0aW9uJztcbmltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlcy9pbmRleC5jc3NyJztcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ0Jhc2VDbGVhcicsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgY2xzUHJlZml4OiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzaG93OiBCb29sZWFuLFxuICAgICAgICBvbkNsZWFyOiBGdW5jdGlvblxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgdXNlU3R5bGUoJy1iYXNlLWNsZWFyJywgc3R5bGUsIHRvUmVmKHByb3BzLCAnY2xzUHJlZml4JykpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xzUHJlZml4IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLWNsZWFyYCB9LFxuICAgICAgICAgICAgaChOSWNvblN3aXRjaFRyYW5zaXRpb24sIG51bGwsIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3cgPyAoaChcImRpdlwiLCB7IGtleTogXCJkaXNtaXNzXCIsIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2UtY2xlYXJfX2NsZWFyYCwgb25DbGljazogdGhpcy5vbkNsZWFyLCBvbk1vdXNlZG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sIFwiZGF0YS1jbGVhclwiOiB0cnVlIH0sIHJlc29sdmVTbG90KHRoaXMuJHNsb3RzLmljb24sICgpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGgoTkJhc2VJY29uLCB7IGNsc1ByZWZpeDogY2xzUHJlZml4IH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBoKENsZWFySWNvbiwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pKSkgOiAoaChcImRpdlwiLCB7IGtleTogXCJpY29uXCIsIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2UtY2xlYXJfX3BsYWNlaG9sZGVyYCB9LCAoX2IgPSAoX2EgPSB0aGlzLiRzbG90cykucGxhY2Vob2xkZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBjQiwgYywgY0UgfSBmcm9tICcuLi8uLi8uLi8uLi9fdXRpbHMvY3Nzcic7XG5pbXBvcnQgeyBpY29uU3dpdGNoVHJhbnNpdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL19zdHlsZXMvdHJhbnNpdGlvbnMvaWNvbi1zd2l0Y2guY3Nzcic7XG4vLyB2YXJzOlxuLy8gLS1uLWJlemllclxuLy8gLS1uLWNsZWFyLWNvbG9yXG4vLyAtLW4tY2xlYXItc2l6ZVxuLy8gLS1uLWNsZWFyLWNvbG9yLWhvdmVyXG4vLyAtLW4tY2xlYXItY29sb3ItcHJlc3NlZFxuZXhwb3J0IGRlZmF1bHQgY0IoJ2Jhc2UtY2xlYXInLCBgXG4gZmxleC1zaHJpbms6IDA7XG4gaGVpZ2h0OiAxZW07XG4gd2lkdGg6IDFlbTtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG5gLCBbYygnPicsIFtjRSgnY2xlYXInLCBgXG4gZm9udC1zaXplOiB2YXIoLS1uLWNsZWFyLXNpemUpO1xuIGhlaWdodDogMWVtO1xuIHdpZHRoOiAxZW07XG4gY3Vyc29yOiBwb2ludGVyO1xuIGNvbG9yOiB2YXIoLS1uLWNsZWFyLWNvbG9yKTtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGRpc3BsYXk6IGZsZXg7XG4gYCwgW2MoJyY6aG92ZXInLCBgXG4gY29sb3I6IHZhcigtLW4tY2xlYXItY29sb3ItaG92ZXIpIWltcG9ydGFudDtcbiBgKSwgYygnJjphY3RpdmUnLCBgXG4gY29sb3I6IHZhcigtLW4tY2xlYXItY29sb3ItcHJlc3NlZCkhaW1wb3J0YW50O1xuIGApXSksIGNFKCdwbGFjZWhvbGRlcicsIGBcbiBkaXNwbGF5OiBmbGV4O1xuIGApLCBjRSgnY2xlYXIsIHBsYWNlaG9sZGVyJywgYFxuIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiBsZWZ0OiA1MCU7XG4gdG9wOiA1MCU7XG4gdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XG4gYCwgW2ljb25Td2l0Y2hUcmFuc2l0aW9uKHtcbiAgb3JpZ2luYWxUcmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSknLFxuICBsZWZ0OiAnNTAlJyxcbiAgdG9wOiAnNTAlJ1xufSldKV0pXSk7IiwiaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJztcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ0NoZXZyb25Eb3duJyxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoaChcInN2Z1wiLCB7IHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIH0sXG4gICAgICAgICAgICBoKFwicGF0aFwiLCB7IGQ6IFwiTTMuMTQ2NDUgNS42NDY0NUMzLjM0MTcxIDUuNDUxMTggMy42NTgyOSA1LjQ1MTE4IDMuODUzNTUgNS42NDY0NUw4IDkuNzkyODlMMTIuMTQ2NCA1LjY0NjQ1QzEyLjM0MTcgNS40NTExOCAxMi42NTgzIDUuNDUxMTggMTIuODUzNiA1LjY0NjQ1QzEzLjA0ODggNS44NDE3MSAxMy4wNDg4IDYuMTU4MjkgMTIuODUzNiA2LjM1MzU1TDguMzUzNTUgMTAuODUzNkM4LjE1ODI5IDExLjA0ODggNy44NDE3MSAxMS4wNDg4IDcuNjQ2NDUgMTAuODUzNkwzLjE0NjQ1IDYuMzUzNTVDMi45NTExOCA2LjE1ODI5IDIuOTUxMTggNS44NDE3MSAzLjE0NjQ1IDUuNjQ2NDVaXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGggfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcmVwbGFjZWFibGUgfSBmcm9tICcuL3JlcGxhY2VhYmxlJztcbmV4cG9ydCBkZWZhdWx0IHJlcGxhY2VhYmxlKCdjbGVhcicsIGgoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLCB2ZXJzaW9uOiBcIjEuMVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIH0sXG4gICAgaChcImdcIiwgeyBzdHJva2U6IFwibm9uZVwiLCBcInN0cm9rZS13aWR0aFwiOiBcIjFcIiwgZmlsbDogXCJub25lXCIsIFwiZmlsbC1ydWxlXCI6IFwiZXZlbm9kZFwiIH0sXG4gICAgICAgIGgoXCJnXCIsIHsgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgXCJmaWxsLXJ1bGVcIjogXCJub256ZXJvXCIgfSxcbiAgICAgICAgICAgIGgoXCJwYXRoXCIsIHsgZDogXCJNOCwyIEMxMS4zMTM3MDg1LDIgMTQsNC42ODYyOTE1IDE0LDggQzE0LDExLjMxMzcwODUgMTEuMzEzNzA4NSwxNCA4LDE0IEM0LjY4NjI5MTUsMTQgMiwxMS4zMTM3MDg1IDIsOCBDMiw0LjY4NjI5MTUgNC42ODYyOTE1LDIgOCwyIFogTTYuNTM0MzA1NSw1LjgzODU5MTE2IEM2LjMzOTQzNzM2LDUuNzAzNTk1MTEgNi4wNzAwMTI5Niw1LjcyMjg4MDI2IDUuODk2NDQ2NjEsNS44OTY0NDY2MSBMNS44OTY0NDY2MSw1Ljg5NjQ0NjYxIEw1LjgzODU5MTE2LDUuOTY1Njk0NSBDNS43MDM1OTUxMSw2LjE2MDU2MjY0IDUuNzIyODgwMjYsNi40Mjk5ODcwNCA1Ljg5NjQ0NjYxLDYuNjAzNTUzMzkgTDUuODk2NDQ2NjEsNi42MDM1NTMzOSBMNy4yOTMsOCBMNS44OTY0NDY2MSw5LjM5NjQ0NjYxIEw1LjgzODU5MTE2LDkuNDY1Njk0NSBDNS43MDM1OTUxMSw5LjY2MDU2MjY0IDUuNzIyODgwMjYsOS45Mjk5ODcwNCA1Ljg5NjQ0NjYxLDEwLjEwMzU1MzQgTDUuODk2NDQ2NjEsMTAuMTAzNTUzNCBMNS45NjU2OTQ1LDEwLjE2MTQwODggQzYuMTYwNTYyNjQsMTAuMjk2NDA0OSA2LjQyOTk4NzA0LDEwLjI3NzExOTcgNi42MDM1NTMzOSwxMC4xMDM1NTM0IEw2LjYwMzU1MzM5LDEwLjEwMzU1MzQgTDgsOC43MDcgTDkuMzk2NDQ2NjEsMTAuMTAzNTUzNCBMOS40NjU2OTQ1LDEwLjE2MTQwODggQzkuNjYwNTYyNjQsMTAuMjk2NDA0OSA5LjkyOTk4NzA0LDEwLjI3NzExOTcgMTAuMTAzNTUzNCwxMC4xMDM1NTM0IEwxMC4xMDM1NTM0LDEwLjEwMzU1MzQgTDEwLjE2MTQwODgsMTAuMDM0MzA1NSBDMTAuMjk2NDA0OSw5LjgzOTQzNzM2IDEwLjI3NzExOTcsOS41NzAwMTI5NiAxMC4xMDM1NTM0LDkuMzk2NDQ2NjEgTDEwLjEwMzU1MzQsOS4zOTY0NDY2MSBMOC43MDcsOCBMMTAuMTAzNTUzNCw2LjYwMzU1MzM5IEwxMC4xNjE0MDg4LDYuNTM0MzA1NSBDMTAuMjk2NDA0OSw2LjMzOTQzNzM2IDEwLjI3NzExOTcsNi4wNzAwMTI5NiAxMC4xMDM1NTM0LDUuODk2NDQ2NjEgTDEwLjEwMzU1MzQsNS44OTY0NDY2MSBMMTAuMDM0MzA1NSw1LjgzODU5MTE2IEM5LjgzOTQzNzM2LDUuNzAzNTk1MTEgOS41NzAwMTI5Niw1LjcyMjg4MDI2IDkuMzk2NDQ2NjEsNS44OTY0NDY2MSBMOS4zOTY0NDY2MSw1Ljg5NjQ0NjYxIEw4LDcuMjkzIEw2LjYwMzU1MzM5LDUuODk2NDQ2NjEgWlwiIH0pKSkpKTtcbiIsImltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgTkJhc2VDbGVhciBmcm9tICcuLi8uLi9jbGVhcic7XG5pbXBvcnQgTkJhc2VMb2FkaW5nIGZyb20gJy4uLy4uL2xvYWRpbmcnO1xuaW1wb3J0IHsgTkJhc2VJY29uIH0gZnJvbSAnLi4vLi4vaWNvbic7XG5pbXBvcnQgeyBDaGV2cm9uRG93bkljb24gfSBmcm9tICcuLi8uLi9pY29ucyc7XG5pbXBvcnQgeyByZXNvbHZlU2xvdCB9IGZyb20gJy4uLy4uLy4uL191dGlscy92dWUnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnSW50ZXJuYWxTZWxlY3Rpb25TdWZmaXgnLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGNsc1ByZWZpeDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0Fycm93OiB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIHNob3dDbGVhcjoge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICBsb2FkaW5nOiB7XG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGVhcjogRnVuY3Rpb25cbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2xzUHJlZml4IH0gPSBwcm9wcztcbiAgICAgICAgICAgIHJldHVybiAoaChOQmFzZUxvYWRpbmcsIHsgY2xzUHJlZml4OiBjbHNQcmVmaXgsIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc3VmZml4YCwgc3Ryb2tlV2lkdGg6IDI0LCBzY2FsZTogMC44NSwgc2hvdzogcHJvcHMubG9hZGluZyB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gcHJvcHMuc2hvd0Fycm93ID8gKGgoTkJhc2VDbGVhciwgeyBjbHNQcmVmaXg6IGNsc1ByZWZpeCwgc2hvdzogcHJvcHMuc2hvd0NsZWFyLCBvbkNsZWFyOiBwcm9wcy5vbkNsZWFyIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICgpID0+IChoKE5CYXNlSWNvbiwgeyBjbHNQcmVmaXg6IGNsc1ByZWZpeCwgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zdWZmaXhfX2Fycm93YCB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiByZXNvbHZlU2xvdChzbG90cy5kZWZhdWx0LCAoKSA9PiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaChDaGV2cm9uRG93bkljb24sIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICB9KSkgOiBudWxsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50LCBoLCByZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgb2ZmLCBvbiB9IGZyb20gJ2V2dGQnO1xuaW1wb3J0IHsgdG9SZ2JhU3RyaW5nIH0gZnJvbSAnc2VlbWx5JztcbmltcG9ydCB7IG5vcm1hbGl6ZUFscGhhIH0gZnJvbSAnLi91dGlscyc7XG5jb25zdCBIQU5ETEVfU0laRSA9ICcxMnB4JztcbmNvbnN0IEhBTkRMRV9TSVpFX05VTSA9IDEyO1xuY29uc3QgUkFESVVTID0gJzZweCc7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdBbHBoYVNsaWRlcicsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgY2xzUHJlZml4OiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICByZ2JhOiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgYWxwaGE6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgb25VcGRhdGVBbHBoYToge1xuICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvbkNvbXBsZXRlOiBGdW5jdGlvblxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgY29uc3QgcmFpbFJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgICAgICAgIGlmICghcmFpbFJlZi52YWx1ZSB8fCAhcHJvcHMucmdiYSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBvbignbW91c2Vtb3ZlJywgZG9jdW1lbnQsIGhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICAgICAgICBvbignbW91c2V1cCcsIGRvY3VtZW50LCBoYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgICAgIGhhbmRsZU1vdXNlTW92ZShlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmUoZSkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcmFpbEVsIH0gPSByYWlsUmVmO1xuICAgICAgICAgICAgaWYgKCFyYWlsRWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgbGVmdCB9ID0gcmFpbEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgbmV3QWxwaGEgPSAoZS5jbGllbnRYIC0gbGVmdCkgLyAod2lkdGggLSBIQU5ETEVfU0laRV9OVU0pO1xuICAgICAgICAgICAgcHJvcHMub25VcGRhdGVBbHBoYShub3JtYWxpemVBbHBoYShuZXdBbHBoYSkpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBvZmYoJ21vdXNlbW92ZScsIGRvY3VtZW50LCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgICAgICAgb2ZmKCdtb3VzZXVwJywgZG9jdW1lbnQsIGhhbmRsZU1vdXNlVXApO1xuICAgICAgICAgICAgKF9hID0gcHJvcHMub25Db21wbGV0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYWlsUmVmLFxuICAgICAgICAgICAgcmFpbEJhY2tncm91bmRJbWFnZTogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmdiYSB9ID0gcHJvcHM7XG4gICAgICAgICAgICAgICAgaWYgKCFyZ2JhKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYmEoJHtyZ2JhWzBdfSwgJHtyZ2JhWzFdfSwgJHtyZ2JhWzJdfSwgMCkgMCUsIHJnYmEoJHtyZ2JhWzBdfSwgJHtyZ2JhWzFdfSwgJHtyZ2JhWzJdfSwgMSkgMTAwJSlgO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoYW5kbGVNb3VzZURvd25cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjbHNQcmVmaXggfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1zbGlkZXJgLCByZWY6IFwicmFpbFJlZlwiLCBzdHlsZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogSEFORExFX1NJWkUsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBSQURJVVNcbiAgICAgICAgICAgIH0sIG9uTW91c2Vkb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93biB9LFxuICAgICAgICAgICAgaChcImRpdlwiLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1jaGVja2JvYXJkYCB9KSxcbiAgICAgICAgICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXNsaWRlcl9faW1hZ2VgLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGlzLnJhaWxCYWNrZ3JvdW5kSW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgfSB9KSksXG4gICAgICAgICAgICB0aGlzLnJnYmEgJiYgKGgoXCJkaXZcIiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMFxuICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLWhhbmRsZWAsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgY2FsYygke3RoaXMuYWxwaGEgKiAxMDB9JSAtICR7UkFESVVTfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBSQURJVVMsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogSEFORExFX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFXG4gICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1oYW5kbGVfX2ZpbGxgLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdG9SZ2JhU3RyaW5nKHRoaXMucmdiYSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBSQURJVVMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IEhBTkRMRV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogSEFORExFX1NJWkVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpKSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IHRvSHN2YVN0cmluZywgdG9SZ2JhU3RyaW5nLCB0b0hzbGFTdHJpbmcsIHRvSGV4YVN0cmluZywgdG9IZXhTdHJpbmcsIHRvSHN2U3RyaW5nLCB0b1JnYlN0cmluZywgdG9Ic2xTdHJpbmcgfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IE5JbnB1dEdyb3VwIH0gZnJvbSAnLi4vLi4vaW5wdXQnO1xuaW1wb3J0IENvbG9ySW5wdXRVbml0IGZyb20gJy4vQ29sb3JJbnB1dFVuaXQnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnQ29sb3JJbnB1dCcsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgY2xzUHJlZml4OiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtb2Rlczoge1xuICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzaG93QWxwaGE6IHtcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgLy8gZm9yIGhleCB0byBnZXQgcGVyY2lzZSB2YWx1ZVxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZUFycjoge1xuICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIG9uVXBkYXRlVmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb25VcGRhdGVNb2RlOiB7XG4gICAgICAgICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYW5kbGVVbml0VXBkYXRlVmFsdWUoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaG93QWxwaGEgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tb2RlID09PSAnaGV4Jykge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5vblVwZGF0ZVZhbHVlKChzaG93QWxwaGEgPyB0b0hleGFTdHJpbmcgOiB0b0hleFN0cmluZykodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbmV4dFZhbHVlQXJyO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wcy52YWx1ZUFyciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0VmFsdWVBcnIgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXh0VmFsdWVBcnIgPSBBcnJheS5mcm9tKHByb3BzLnZhbHVlQXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wcy5tb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hzdic6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VmFsdWVBcnJbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5vblVwZGF0ZVZhbHVlKChzaG93QWxwaGEgPyB0b0hzdmFTdHJpbmcgOiB0b0hzdlN0cmluZykobmV4dFZhbHVlQXJyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmdiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRWYWx1ZUFycltpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLm9uVXBkYXRlVmFsdWUoKHNob3dBbHBoYSA/IHRvUmdiYVN0cmluZyA6IHRvUmdiU3RyaW5nKShuZXh0VmFsdWVBcnIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdoc2wnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFZhbHVlQXJyW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMub25VcGRhdGVWYWx1ZSgoc2hvd0FscGhhID8gdG9Ic2xhU3RyaW5nIDogdG9Ic2xTdHJpbmcpKG5leHRWYWx1ZUFycikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNsc1ByZWZpeCwgbW9kZXMgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1pbnB1dGAgfSxcbiAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItaW5wdXRfX21vZGVgLCBvbkNsaWNrOiB0aGlzLm9uVXBkYXRlTW9kZSwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBtb2Rlcy5sZW5ndGggPT09IDEgPyAnJyA6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgIH0gfSwgdGhpcy5tb2RlLnRvVXBwZXJDYXNlKCkgKyAodGhpcy5zaG93QWxwaGEgPyAnQScgOiAnJykpLFxuICAgICAgICAgICAgaChOSW5wdXRHcm91cCwgbnVsbCwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtb2RlLCB2YWx1ZUFyciwgc2hvd0FscGhhIH0gPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2hleCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhleCBhbmQgcmdiYSBzaGFyZXMgdGhlIHNhbWUgdmFsdWUgYXJyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGV4VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhWYWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlQXJyID09PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKHNob3dBbHBoYSA/IHRvSGV4YVN0cmluZyA6IHRvSGV4U3RyaW5nKSh2YWx1ZUFycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChoKENvbG9ySW5wdXRVbml0LCB7IGxhYmVsOiAnSEVYJywgc2hvd0FscGhhOiBzaG93QWxwaGEsIHZhbHVlOiBoZXhWYWx1ZSwgb25VcGRhdGVWYWx1ZTogKHVuaXRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVVuaXRVcGRhdGVWYWx1ZSgwLCB1bml0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kZSArIChzaG93QWxwaGEgPyAnYScgOiAnJykpLnNwbGl0KCcnKS5tYXAoKHYsIGkpID0+IChoKENvbG9ySW5wdXRVbml0LCB7IGxhYmVsOiB2LnRvVXBwZXJDYXNlKCksIHZhbHVlOiB2YWx1ZUFyciA9PT0gbnVsbCA/IG51bGwgOiB2YWx1ZUFycltpXSwgb25VcGRhdGVWYWx1ZTogKHVuaXRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVW5pdFVwZGF0ZVZhbHVlKGksIHVuaXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgaCwgaW5qZWN0LCByZWYsIHdhdGNoRWZmZWN0IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IE5JbnB1dCB9IGZyb20gJy4uLy4uL2lucHV0JztcbmltcG9ydCB7IGNvbG9yUGlja2VySW5qZWN0aW9uS2V5IH0gZnJvbSAnLi9jb250ZXh0Jztcbi8vIDAgLSAyNTVcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJnYlVuaXQodmFsdWUpIHtcbiAgICBpZiAoL15cXGR7MSwzfVxcLj9cXGQqJC8udGVzdCh2YWx1ZS50cmltKCkpKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihwYXJzZUludCh2YWx1ZSksIDI1NSkpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyAwIC0gMzYwXG5mdW5jdGlvbiBub3JtYWxpemVIdWVVbml0KHZhbHVlKSB7XG4gICAgaWYgKC9eXFxkezEsM31cXC4/XFxkKiQvLnRlc3QodmFsdWUudHJpbSgpKSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4ocGFyc2VJbnQodmFsdWUpLCAzNjApKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gMCAtIDEwMFxuZnVuY3Rpb24gbm9ybWFsaXplU2x2VW5pdCh2YWx1ZSkge1xuICAgIGlmICgvXlxcZHsxLDN9XFwuP1xcZCokLy50ZXN0KHZhbHVlLnRyaW0oKSkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHBhcnNlSW50KHZhbHVlKSwgMTAwKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhleGFVbml0KHZhbHVlKSB7XG4gICAgY29uc3QgdHJpbW1lZFZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgIGlmICgvXiNbMC05YS1mQS1GXSskLy50ZXN0KHRyaW1tZWRWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIFs0LCA1LCA3LCA5XS5pbmNsdWRlcyh0cmltbWVkVmFsdWUubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gMCAtIDEwMCVcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFscGhhVW5pdCh2YWx1ZSkge1xuICAgIGlmICgvXlxcZHsxLDN9XFwuP1xcZColJC8udGVzdCh2YWx1ZS50cmltKCkpKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihwYXJzZUludCh2YWx1ZSkgLyAxMDAsIDEwMCkpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBpbnB1dFRoZW1lT3ZlcnJpZGVzID0ge1xuICAgIHBhZGRpbmdTbWFsbDogJzAgNHB4J1xufTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ0NvbG9ySW5wdXRVbml0JyxcbiAgICBwcm9wczoge1xuICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHNob3dBbHBoYTogQm9vbGVhbixcbiAgICAgICAgb25VcGRhdGVWYWx1ZToge1xuICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXR1cChwcm9wcykge1xuICAgICAgICBjb25zdCBpbnB1dFZhbHVlUmVmID0gcmVmKCcnKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgY29uc3QgeyB0aGVtZVJlZiB9ID0gaW5qZWN0KGNvbG9yUGlja2VySW5qZWN0aW9uS2V5LCBudWxsKTtcbiAgICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRWYWx1ZVJlZi52YWx1ZSA9IGdldElucHV0U3RyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBnZXRJbnB1dFN0cmluZygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIGNvbnN0IHsgbGFiZWwgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKGxhYmVsID09PSAnSEVYJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYWJlbCA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke01hdGguZmxvb3IodmFsdWUgKiAxMDApfSVgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhNYXRoLmZsb29yKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlSW5wdXRVcGRhdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgICAgaW5wdXRWYWx1ZVJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUlucHV0Q2hhbmdlKHZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgdW5pdDtcbiAgICAgICAgICAgIGxldCB2YWxpZDtcbiAgICAgICAgICAgIHN3aXRjaCAocHJvcHMubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdIRVgnOlxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IG5vcm1hbGl6ZUhleGFVbml0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5vblVwZGF0ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlUmVmLnZhbHVlID0gZ2V0SW5wdXRTdHJpbmcoKTsgLy8gdG8gbm9ybWFsaXplZCBuZXcgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnSCc6XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBub3JtYWxpemVIdWVVbml0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVuaXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlUmVmLnZhbHVlID0gZ2V0SW5wdXRTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLm9uVXBkYXRlVmFsdWUodW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBub3JtYWxpemVTbHZVbml0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVuaXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlUmVmLnZhbHVlID0gZ2V0SW5wdXRTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLm9uVXBkYXRlVmFsdWUodW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBub3JtYWxpemVBbHBoYVVuaXQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5pdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWVSZWYudmFsdWUgPSBnZXRJbnB1dFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMub25VcGRhdGVWYWx1ZSh1bml0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdSJzpcbiAgICAgICAgICAgICAgICBjYXNlICdHJzpcbiAgICAgICAgICAgICAgICBjYXNlICdCJzpcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IG5vcm1hbGl6ZVJnYlVuaXQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5pdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWVSZWYudmFsdWUgPSBnZXRJbnB1dFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMub25VcGRhdGVWYWx1ZSh1bml0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVyZ2VkVGhlbWU6IHRoZW1lUmVmLFxuICAgICAgICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZVJlZixcbiAgICAgICAgICAgIGhhbmRsZUlucHV0Q2hhbmdlLFxuICAgICAgICAgICAgaGFuZGxlSW5wdXRVcGRhdGVWYWx1ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IG1lcmdlZFRoZW1lIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGgoTklucHV0LCB7IHNpemU6IFwic21hbGxcIiwgcGxhY2Vob2xkZXI6IHRoaXMubGFiZWwsIHRoZW1lOiBtZXJnZWRUaGVtZS5wZWVycy5JbnB1dCwgdGhlbWVPdmVycmlkZXM6IG1lcmdlZFRoZW1lLnBlZXJPdmVycmlkZXMuSW5wdXQsIGJ1aWx0aW5UaGVtZU92ZXJyaWRlczogaW5wdXRUaGVtZU92ZXJyaWRlcywgdmFsdWU6IHRoaXMuaW5wdXRWYWx1ZSwgb25VcGRhdGVWYWx1ZTogdGhpcy5oYW5kbGVJbnB1dFVwZGF0ZVZhbHVlLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVJbnB1dENoYW5nZSwgXG4gICAgICAgICAgICAvLyBhZGQgbW9yZSBzcGFjZSBmb3IgeHh4JSBpbnB1dFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMubGFiZWwgPT09ICdBJyA/ICdmbGV4LWdyb3c6IDEuMjU7JyA6ICcnIH0pKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCwgcmVmLCBjb21wdXRlZCwgdG9SZWYsIHdhdGNoRWZmZWN0LCB3aXRoRGlyZWN0aXZlcywgVHJhbnNpdGlvbiwgcHJvdmlkZSwgd2F0Y2gsIG5leHRUaWNrIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGhzdjJyZ2IsIHJnYjJoc3YsIHJnYmEsIGhzdmEsIGhzbGEsIGhzbDJoc3YsIGhzdjJoc2wsIHJnYjJoc2wsIGhzbDJyZ2IsIHRvUmdiYVN0cmluZywgdG9Ic3ZhU3RyaW5nLCB0b0hzbGFTdHJpbmcsIHRvSGV4YVN0cmluZywgdG9Ic3ZTdHJpbmcsIHRvUmdiU3RyaW5nLCB0b0hleFN0cmluZywgdG9Ic2xTdHJpbmcsIGdldFByZWNpc2VFdmVudFRhcmdldCB9IGZyb20gJ3NlZW1seSc7XG5pbXBvcnQgeyB1c2VJc01vdW50ZWQsIHVzZU1lcmdlZFN0YXRlIH0gZnJvbSAndm9va3MnO1xuaW1wb3J0IHsgVkJpbmRlciwgVkZvbGxvd2VyLCBWVGFyZ2V0IH0gZnJvbSAndnVldWMnO1xuaW1wb3J0IHsgY2xpY2tvdXRzaWRlIH0gZnJvbSAndmRpcnMnO1xuaW1wb3J0IHsgY29sb3JQaWNrZXJMaWdodCB9IGZyb20gJy4uL3N0eWxlcyc7XG5pbXBvcnQgeyB1c2VGb3JtSXRlbSwgdXNlQ29uZmlnLCB1c2VUaGVtZSwgdXNlTG9jYWxlLCB1c2VUaGVtZUNsYXNzIH0gZnJvbSAnLi4vLi4vX21peGlucyc7XG5pbXBvcnQgeyBjYWxsLCBjcmVhdGVLZXksIHVzZUFkanVzdGVkVG8gfSBmcm9tICcuLi8uLi9fdXRpbHMnO1xuaW1wb3J0IHsgTkJ1dHRvbiB9IGZyb20gJy4uLy4uL2J1dHRvbic7XG5pbXBvcnQgSHVlU2xpZGVyIGZyb20gJy4vSHVlU2xpZGVyJztcbmltcG9ydCBBbHBoYVNsaWRlciBmcm9tICcuL0FscGhhU2xpZGVyJztcbmltcG9ydCBQYWxsZXRlIGZyb20gJy4vUGFsbGV0ZSc7XG5pbXBvcnQgQ29sb3JJbnB1dCBmcm9tICcuL0NvbG9ySW5wdXQnO1xuaW1wb3J0IENvbG9yUGlja2VyVHJpZ2dlciBmcm9tICcuL0NvbG9yUGlja2VyVHJpZ2dlcic7XG5pbXBvcnQgeyBkZXJpdmVEZWZhdWx0VmFsdWUsIGdldE1vZGVGcm9tVmFsdWUgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBDb2xvclBpY2tlclN3YXRjaGVzIGZyb20gJy4vQ29sb3JQaWNrZXJTd2F0Y2hlcyc7XG5pbXBvcnQgQ29sb3JQcmV2aWV3IGZyb20gJy4vQ29sb3JQcmV2aWV3JztcbmltcG9ydCB7IGNvbG9yUGlja2VySW5qZWN0aW9uS2V5IH0gZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlcy9pbmRleC5jc3NyJztcbmV4cG9ydCBjb25zdCBjb2xvclBpY2tlclByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB1c2VUaGVtZS5wcm9wcyksIHsgdmFsdWU6IFN0cmluZywgc2hvdzoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LCBkZWZhdWx0U2hvdzogQm9vbGVhbiwgZGVmYXVsdFZhbHVlOiBTdHJpbmcsIG1vZGVzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICAvLyBubyBoc3ZhIGJ5IGRlZmF1bHQgc2luY2UgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gWydyZ2InLCAnaGV4JywgJ2hzbCddXG4gICAgfSwgcGxhY2VtZW50OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJ2JvdHRvbS1zdGFydCdcbiAgICB9LCB0bzogdXNlQWRqdXN0ZWRUby5wcm9wVG8sIHNob3dBbHBoYToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSwgc2hvd1ByZXZpZXc6IEJvb2xlYW4sIHN3YXRjaGVzOiBBcnJheSwgZGlzYWJsZWQ6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfSwgYWN0aW9uczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sIGludGVybmFsQWN0aW9uczogQXJyYXksIHNpemU6IFN0cmluZywgcmVuZGVyTGFiZWw6IEZ1bmN0aW9uLCBvbkNvbXBsZXRlOiBGdW5jdGlvbiwgb25Db25maXJtOiBGdW5jdGlvbiwgJ29uVXBkYXRlOnNob3cnOiBbRnVuY3Rpb24sIEFycmF5XSwgb25VcGRhdGVTaG93OiBbRnVuY3Rpb24sIEFycmF5XSwgJ29uVXBkYXRlOnZhbHVlJzogW0Z1bmN0aW9uLCBBcnJheV0sIG9uVXBkYXRlVmFsdWU6IFtGdW5jdGlvbiwgQXJyYXldIH0pO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnQ29sb3JQaWNrZXInLFxuICAgIHByb3BzOiBjb2xvclBpY2tlclByb3BzLFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3Qgc2VsZlJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgbGV0IHVwY29taW5nVmFsdWUgPSBudWxsO1xuICAgICAgICBjb25zdCBmb3JtSXRlbSA9IHVzZUZvcm1JdGVtKHByb3BzKTtcbiAgICAgICAgY29uc3QgeyBtZXJnZWRTaXplUmVmLCBtZXJnZWREaXNhYmxlZFJlZiB9ID0gZm9ybUl0ZW07XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlUmVmIH0gPSB1c2VMb2NhbGUoJ2dsb2JhbCcpO1xuICAgICAgICBjb25zdCB7IG1lcmdlZENsc1ByZWZpeFJlZiwgbmFtZXNwYWNlUmVmLCBpbmxpbmVUaGVtZURpc2FibGVkIH0gPSB1c2VDb25maWcocHJvcHMpO1xuICAgICAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdDb2xvclBpY2tlcicsICctY29sb3ItcGlja2VyJywgc3R5bGUsIGNvbG9yUGlja2VyTGlnaHQsIHByb3BzLCBtZXJnZWRDbHNQcmVmaXhSZWYpO1xuICAgICAgICBwcm92aWRlKGNvbG9yUGlja2VySW5qZWN0aW9uS2V5LCB7XG4gICAgICAgICAgICB0aGVtZVJlZixcbiAgICAgICAgICAgIHJlbmRlckxhYmVsUmVmOiB0b1JlZihwcm9wcywgJ3JlbmRlckxhYmVsJyksXG4gICAgICAgICAgICBjb2xvclBpY2tlclNsb3RzOiBzbG90c1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdW5jb250cm9sbGVkU2hvd1JlZiA9IHJlZihwcm9wcy5kZWZhdWx0U2hvdyk7XG4gICAgICAgIGNvbnN0IG1lcmdlZFNob3dSZWYgPSB1c2VNZXJnZWRTdGF0ZSh0b1JlZihwcm9wcywgJ3Nob3cnKSwgdW5jb250cm9sbGVkU2hvd1JlZik7XG4gICAgICAgIGZ1bmN0aW9uIGRvVXBkYXRlU2hvdyh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgeyBvblVwZGF0ZVNob3csICdvblVwZGF0ZTpzaG93JzogX29uVXBkYXRlU2hvdyB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAob25VcGRhdGVTaG93KVxuICAgICAgICAgICAgICAgIGNhbGwob25VcGRhdGVTaG93LCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoX29uVXBkYXRlU2hvdylcbiAgICAgICAgICAgICAgICBjYWxsKF9vblVwZGF0ZVNob3csIHZhbHVlKTtcbiAgICAgICAgICAgIHVuY29udHJvbGxlZFNob3dSZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IHVuY29udHJvbGxlZFZhbHVlUmVmID0gcmVmKGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGRlcml2ZURlZmF1bHRWYWx1ZShwcm9wcy5tb2RlcywgcHJvcHMuc2hvd0FscGhhKVxuICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWUpO1xuICAgICAgICBjb25zdCBtZXJnZWRWYWx1ZVJlZiA9IHVzZU1lcmdlZFN0YXRlKHRvUmVmKHByb3BzLCAndmFsdWUnKSwgdW5jb250cm9sbGVkVmFsdWVSZWYpO1xuICAgICAgICBjb25zdCB1bmRvU3RhY2tSZWYgPSByZWYoW21lcmdlZFZhbHVlUmVmLnZhbHVlXSk7XG4gICAgICAgIGNvbnN0IHZhbHVlSW5kZXhSZWYgPSByZWYoMCk7XG4gICAgICAgIGNvbnN0IHZhbHVlTW9kZVJlZiA9IGNvbXB1dGVkKCgpID0+IGdldE1vZGVGcm9tVmFsdWUobWVyZ2VkVmFsdWVSZWYudmFsdWUpKTtcbiAgICAgICAgY29uc3QgeyBtb2RlcyB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IGRpc3BsYXllZE1vZGVSZWYgPSByZWYoZ2V0TW9kZUZyb21WYWx1ZShtZXJnZWRWYWx1ZVJlZi52YWx1ZSkgfHwgbW9kZXNbMF0gfHwgJ3JnYicpO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVVcGRhdGVEaXNwbGF5ZWRNb2RlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBtb2RlcyB9ID0gcHJvcHM7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBkaXNwbGF5ZWRNb2RlIH0gPSBkaXNwbGF5ZWRNb2RlUmVmO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE1vZGVJbmRleCA9IG1vZGVzLmZpbmRJbmRleCgobW9kZSkgPT4gbW9kZSA9PT0gZGlzcGxheWVkTW9kZSk7XG4gICAgICAgICAgICBpZiAofmN1cnJlbnRNb2RlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRNb2RlUmVmLnZhbHVlID0gbW9kZXNbKGN1cnJlbnRNb2RlSW5kZXggKyAxKSAlIG1vZGVzLmxlbmd0aF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRNb2RlUmVmLnZhbHVlID0gJ3JnYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF9oLCAvLyBhdm9pZCBjb25mbGljdCB3aXRoIHJlbmRlciBmdW5jdGlvbidzIGhcbiAgICAgICAgcywgbCwgdiwgciwgZywgYiwgYTtcbiAgICAgICAgY29uc3QgaHN2YVJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lcmdlZFZhbHVlIH0gPSBtZXJnZWRWYWx1ZVJlZjtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkVmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgc3dpdGNoICh2YWx1ZU1vZGVSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdoc3YnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHN2YShtZXJnZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnaHNsJzpcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBbX2gsIHMsIGwsIGFdID0gaHNsYShtZXJnZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uaHNsMmhzdihfaCwgcywgbCksIGFdO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JnYic6XG4gICAgICAgICAgICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBbciwgZywgYiwgYV0gPSByZ2JhKG1lcmdlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5yZ2IyaHN2KHIsIGcsIGIpLCBhXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJnYmFSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBtZXJnZWRWYWx1ZSB9ID0gbWVyZ2VkVmFsdWVSZWY7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZFZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWVNb2RlUmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncmdiJzpcbiAgICAgICAgICAgICAgICBjYXNlICdoZXgnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmdiYShtZXJnZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnaHN2JzpcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBbX2gsIHMsIHYsIGFdID0gaHN2YShtZXJnZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uaHN2MnJnYihfaCwgcywgdiksIGFdO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hzbCc6XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgW19oLCBzLCBsLCBhXSA9IGhzbGEobWVyZ2VkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmhzbDJyZ2IoX2gsIHMsIGwpLCBhXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGhzbGFSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBtZXJnZWRWYWx1ZSB9ID0gbWVyZ2VkVmFsdWVSZWY7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZFZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWVNb2RlUmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaHNsJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhzbGEobWVyZ2VkVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hzdic6XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgW19oLCBzLCB2LCBhXSA9IGhzdmEobWVyZ2VkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmhzdjJoc2woX2gsIHMsIHYpLCBhXTtcbiAgICAgICAgICAgICAgICBjYXNlICdyZ2InOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgW3IsIGcsIGIsIGFdID0gcmdiYShtZXJnZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4ucmdiMmhzbChyLCBnLCBiKSwgYV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtZXJnZWRWYWx1ZUFyclJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZGlzcGxheWVkTW9kZVJlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JnYic6XG4gICAgICAgICAgICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJnYmFSZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgY2FzZSAnaHN2JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhzdmFSZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgY2FzZSAnaHNsJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhzbGFSZWYudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkaXNwbGF5ZWRIdWVSZWYgPSByZWYoMCk7XG4gICAgICAgIGNvbnN0IGRpc3BsYXllZEFscGhhUmVmID0gcmVmKDEpO1xuICAgICAgICBjb25zdCBkaXNwbGF5ZWRTdlJlZiA9IHJlZihbMCwgMF0pO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVVcGRhdGVTdihzLCB2KSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBoc3ZhQXJyIH0gPSBoc3ZhUmVmO1xuICAgICAgICAgICAgY29uc3QgaHVlID0gZGlzcGxheWVkSHVlUmVmLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBoc3ZhQXJyID8gaHN2YUFyclszXSA6IDE7XG4gICAgICAgICAgICBkaXNwbGF5ZWRTdlJlZi52YWx1ZSA9IFtzLCB2XTtcbiAgICAgICAgICAgIGNvbnN0IHsgc2hvd0FscGhhIH0gPSBwcm9wcztcbiAgICAgICAgICAgIHN3aXRjaCAoZGlzcGxheWVkTW9kZVJlZi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hzdic6XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUoKHNob3dBbHBoYSA/IHRvSHN2YVN0cmluZyA6IHRvSHN2U3RyaW5nKShbaHVlLCBzLCB2LCBhbHBoYV0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hzbCc6XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUoKHNob3dBbHBoYSA/IHRvSHNsYVN0cmluZyA6IHRvSHNsU3RyaW5nKShbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5oc3YyaHNsKGh1ZSwgcywgdiksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYVxuICAgICAgICAgICAgICAgICAgICBdKSwgJ2N1cnNvcicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZ2InOlxuICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKChzaG93QWxwaGEgPyB0b1JnYmFTdHJpbmcgOiB0b1JnYlN0cmluZykoW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaHN2MnJnYihodWUsIHMsIHYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGFcbiAgICAgICAgICAgICAgICAgICAgXSksICdjdXJzb3InKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgICAgICAgICAgICAgZG9VcGRhdGVWYWx1ZSgoc2hvd0FscGhhID8gdG9IZXhhU3RyaW5nIDogdG9IZXhTdHJpbmcpKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmhzdjJyZ2IoaHVlLCBzLCB2KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhXG4gICAgICAgICAgICAgICAgICAgIF0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZUh1ZShodWUpIHtcbiAgICAgICAgICAgIGRpc3BsYXllZEh1ZVJlZi52YWx1ZSA9IGh1ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGhzdmFBcnIgfSA9IGhzdmFSZWY7XG4gICAgICAgICAgICBpZiAoIWhzdmFBcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBbLCBzLCB2LCBhXSA9IGhzdmFBcnI7XG4gICAgICAgICAgICBjb25zdCB7IHNob3dBbHBoYSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBzd2l0Y2ggKGRpc3BsYXllZE1vZGVSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdoc3YnOlxuICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKChzaG93QWxwaGEgPyB0b0hzdmFTdHJpbmcgOiB0b0hzdlN0cmluZykoW2h1ZSwgcywgdiwgYV0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JnYic6XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUoKHNob3dBbHBoYSA/IHRvUmdiYVN0cmluZyA6IHRvUmdiU3RyaW5nKShbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5oc3YycmdiKGh1ZSwgcywgdiksXG4gICAgICAgICAgICAgICAgICAgICAgICBhXG4gICAgICAgICAgICAgICAgICAgIF0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUoKHNob3dBbHBoYSA/IHRvSGV4YVN0cmluZyA6IHRvSGV4U3RyaW5nKShbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5oc3YycmdiKGh1ZSwgcywgdiksXG4gICAgICAgICAgICAgICAgICAgICAgICBhXG4gICAgICAgICAgICAgICAgICAgIF0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hzbCc6XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUoKHNob3dBbHBoYSA/IHRvSHNsYVN0cmluZyA6IHRvSHNsU3RyaW5nKShbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5oc3YyaHNsKGh1ZSwgcywgdiksXG4gICAgICAgICAgICAgICAgICAgICAgICBhXG4gICAgICAgICAgICAgICAgICAgIF0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZUFscGhhKGFscGhhKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGRpc3BsYXllZE1vZGVSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdoc3YnOlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIFtfaCwgcywgdl0gPSBoc3ZhUmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKHRvSHN2YVN0cmluZyhbX2gsIHMsIHYsIGFscGhhXSksICdjdXJzb3InKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmdiJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBbciwgZywgYl0gPSByZ2JhUmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKHRvUmdiYVN0cmluZyhbciwgZywgYiwgYWxwaGFdKSwgJ2N1cnNvcicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdoZXgnOlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIFtyLCBnLCBiXSA9IHJnYmFSZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUodG9IZXhhU3RyaW5nKFtyLCBnLCBiLCBhbHBoYV0pLCAnY3Vyc29yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hzbCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgW19oLCBzLCBsXSA9IGhzbGFSZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUodG9Ic2xhU3RyaW5nKFtfaCwgcywgbCwgYWxwaGFdKSwgJ2N1cnNvcicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3BsYXllZEFscGhhUmVmLnZhbHVlID0gYWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZG9VcGRhdGVWYWx1ZSh2YWx1ZSwgdXBkYXRlU291cmNlKSB7XG4gICAgICAgICAgICBpZiAodXBkYXRlU291cmNlID09PSAnY3Vyc29yJykge1xuICAgICAgICAgICAgICAgIHVwY29taW5nVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwY29taW5nVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBuVHJpZ2dlckZvcm1DaGFuZ2UsIG5UcmlnZ2VyRm9ybUlucHV0IH0gPSBmb3JtSXRlbTtcbiAgICAgICAgICAgIGNvbnN0IHsgb25VcGRhdGVWYWx1ZSwgJ29uVXBkYXRlOnZhbHVlJzogX29uVXBkYXRlVmFsdWUgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKG9uVXBkYXRlVmFsdWUpXG4gICAgICAgICAgICAgICAgY2FsbChvblVwZGF0ZVZhbHVlLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoX29uVXBkYXRlVmFsdWUpXG4gICAgICAgICAgICAgICAgY2FsbChfb25VcGRhdGVWYWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgblRyaWdnZXJGb3JtQ2hhbmdlKCk7XG4gICAgICAgICAgICBuVHJpZ2dlckZvcm1JbnB1dCgpO1xuICAgICAgICAgICAgdW5jb250cm9sbGVkVmFsdWVSZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVJbnB1dFVwZGF0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKHZhbHVlLCAnaW5wdXQnKTtcbiAgICAgICAgICAgIHZvaWQgbmV4dFRpY2soaGFuZGxlQ29tcGxldGUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKHB1c2hTdGFjayA9IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IG1lcmdlZFZhbHVlUmVmO1xuICAgICAgICAgICAgLy8gbm8gdmFsdWUgJiBvbmx5IGh1ZSBjaGFuZ2VzIHdpbGwgY29tcGxldGUgd2l0aCBubyB2YWx1ZVxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuVHJpZ2dlckZvcm1DaGFuZ2UsIG5UcmlnZ2VyRm9ybUlucHV0IH0gPSBmb3JtSXRlbTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9uQ29tcGxldGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGlmIChvbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHVuZG9TdGFjayB9ID0gdW5kb1N0YWNrUmVmO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHZhbHVlSW5kZXggfSA9IHZhbHVlSW5kZXhSZWY7XG4gICAgICAgICAgICAgICAgaWYgKHB1c2hTdGFjaykge1xuICAgICAgICAgICAgICAgICAgICB1bmRvU3RhY2suc3BsaWNlKHZhbHVlSW5kZXggKyAxLCB1bmRvU3RhY2subGVuZ3RoLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlSW5kZXhSZWYudmFsdWUgPSB2YWx1ZUluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgblRyaWdnZXJGb3JtQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgblRyaWdnZXJGb3JtSW5wdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB1bmRvKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogdmFsdWVJbmRleCB9ID0gdmFsdWVJbmRleFJlZjtcbiAgICAgICAgICAgIGlmICh2YWx1ZUluZGV4IC0gMSA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZG9VcGRhdGVWYWx1ZSh1bmRvU3RhY2tSZWYudmFsdWVbdmFsdWVJbmRleCAtIDFdLCAnaW5wdXQnKTtcbiAgICAgICAgICAgIGhhbmRsZUNvbXBsZXRlKGZhbHNlKTtcbiAgICAgICAgICAgIHZhbHVlSW5kZXhSZWYudmFsdWUgPSB2YWx1ZUluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZWRvKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogdmFsdWVJbmRleCB9ID0gdmFsdWVJbmRleFJlZjtcbiAgICAgICAgICAgIGlmICh2YWx1ZUluZGV4IDwgMCB8fCB2YWx1ZUluZGV4ICsgMSA+PSB1bmRvU3RhY2tSZWYudmFsdWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRvVXBkYXRlVmFsdWUodW5kb1N0YWNrUmVmLnZhbHVlW3ZhbHVlSW5kZXggKyAxXSwgJ2lucHV0Jyk7XG4gICAgICAgICAgICBoYW5kbGVDb21wbGV0ZShmYWxzZSk7XG4gICAgICAgICAgICB2YWx1ZUluZGV4UmVmLnZhbHVlID0gdmFsdWVJbmRleCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2xlYXIoKSB7XG4gICAgICAgICAgICBkb1VwZGF0ZVZhbHVlKG51bGwsICdpbnB1dCcpO1xuICAgICAgICAgICAgZG9VcGRhdGVTaG93KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDb25maXJtKCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gbWVyZ2VkVmFsdWVSZWY7XG4gICAgICAgICAgICBjb25zdCB7IG9uQ29uZmlybSB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAob25Db25maXJtKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIG9uQ29uZmlybSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb1VwZGF0ZVNob3coZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuZG9hYmxlUmVmID0gY29tcHV0ZWQoKCkgPT4gdmFsdWVJbmRleFJlZi52YWx1ZSA+PSAxKTtcbiAgICAgICAgY29uc3QgcmVkb2FibGVSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiB1bmRvU3RhY2sgfSA9IHVuZG9TdGFja1JlZjtcbiAgICAgICAgICAgIHJldHVybiB1bmRvU3RhY2subGVuZ3RoID4gMSAmJiB2YWx1ZUluZGV4UmVmLnZhbHVlIDwgdW5kb1N0YWNrLmxlbmd0aCAtIDE7XG4gICAgICAgIH0pO1xuICAgICAgICB3YXRjaChtZXJnZWRTaG93UmVmLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB1bmRvU3RhY2tSZWYudmFsdWUgPSBbbWVyZ2VkVmFsdWVSZWYudmFsdWVdO1xuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXhSZWYudmFsdWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHVwY29taW5nVmFsdWUgJiYgdXBjb21pbmdWYWx1ZSA9PT0gbWVyZ2VkVmFsdWVSZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgaXQgd29ya3MgaW4gdW5jb250cm9sbGVkIG1vZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGhzdmFSZWY7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZEh1ZVJlZi52YWx1ZSA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ZWRBbHBoYVJlZi52YWx1ZSA9IHZhbHVlWzNdO1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ZWRTdlJlZi52YWx1ZSA9IFt2YWx1ZVsxXSwgdmFsdWVbMl1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwY29taW5nVmFsdWUgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY3NzVmFyc1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lcmdlZFNpemUgfSA9IG1lcmdlZFNpemVSZWY7XG4gICAgICAgICAgICBjb25zdCB7IGNvbW1vbjogeyBjdWJpY0JlemllckVhc2VJbk91dCB9LCBzZWxmOiB7IHRleHRDb2xvciwgY29sb3IsIHBhbmVsRm9udFNpemUsIGJveFNoYWRvdywgYm9yZGVyLCBib3JkZXJSYWRpdXMsIGRpdmlkZXJDb2xvciwgW2NyZWF0ZUtleSgnaGVpZ2h0JywgbWVyZ2VkU2l6ZSldOiBoZWlnaHQsIFtjcmVhdGVLZXkoJ2ZvbnRTaXplJywgbWVyZ2VkU2l6ZSldOiBmb250U2l6ZSB9IH0gPSB0aGVtZVJlZi52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJy0tbi1iZXppZXInOiBjdWJpY0JlemllckVhc2VJbk91dCxcbiAgICAgICAgICAgICAgICAnLS1uLXRleHQtY29sb3InOiB0ZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tbi1jb2xvcic6IGNvbG9yLFxuICAgICAgICAgICAgICAgICctLW4tcGFuZWwtZm9udC1zaXplJzogcGFuZWxGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAnLS1uLWZvbnQtc2l6ZSc6IGZvbnRTaXplLFxuICAgICAgICAgICAgICAgICctLW4tYm94LXNoYWRvdyc6IGJveFNoYWRvdyxcbiAgICAgICAgICAgICAgICAnLS1uLWJvcmRlcic6IGJvcmRlcixcbiAgICAgICAgICAgICAgICAnLS1uLWJvcmRlci1yYWRpdXMnOiBib3JkZXJSYWRpdXMsXG4gICAgICAgICAgICAgICAgJy0tbi1oZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgJy0tbi1kaXZpZGVyLWNvbG9yJzogZGl2aWRlckNvbG9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdGhlbWVDbGFzc0hhbmRsZSA9IGlubGluZVRoZW1lRGlzYWJsZWRcbiAgICAgICAgICAgID8gdXNlVGhlbWVDbGFzcygnY29sb3ItcGlja2VyJywgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXJnZWRTaXplUmVmLnZhbHVlWzBdO1xuICAgICAgICAgICAgfSksIGNzc1ZhcnNSZWYsIHByb3BzKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlclBhbmVsKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcmdiYSB9ID0gcmdiYVJlZjtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGRpc3BsYXllZEh1ZSB9ID0gZGlzcGxheWVkSHVlUmVmO1xuICAgICAgICAgICAgY29uc3QgeyBpbnRlcm5hbEFjdGlvbnMsIG1vZGVzLCBhY3Rpb25zIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lcmdlZFRoZW1lIH0gPSB0aGVtZVJlZjtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lcmdlZENsc1ByZWZpeCB9ID0gbWVyZ2VkQ2xzUHJlZml4UmVmO1xuICAgICAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFtcbiAgICAgICAgICAgICAgICAgICAgYCR7bWVyZ2VkQ2xzUHJlZml4fS1jb2xvci1waWNrZXItcGFuZWxgLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUudGhlbWVDbGFzcy52YWx1ZVxuICAgICAgICAgICAgICAgIF0sIG9uRHJhZ3N0YXJ0OiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSwgc3R5bGU6IGlubGluZVRoZW1lRGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgOiBjc3NWYXJzUmVmLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1jb250cm9sYCB9LFxuICAgICAgICAgICAgICAgICAgICBoKFBhbGxldGUsIHsgY2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXgsIHJnYmE6IHJnYmEsIGRpc3BsYXllZEh1ZTogZGlzcGxheWVkSHVlLCBkaXNwbGF5ZWRTdjogZGlzcGxheWVkU3ZSZWYudmFsdWUsIG9uVXBkYXRlU1Y6IGhhbmRsZVVwZGF0ZVN2LCBvbkNvbXBsZXRlOiBoYW5kbGVDb21wbGV0ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1wcmV2aWV3YCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1wcmV2aWV3X19zbGlkZXJzYCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgoSHVlU2xpZGVyLCB7IGNsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4LCBodWU6IGRpc3BsYXllZEh1ZSwgb25VcGRhdGVIdWU6IGhhbmRsZVVwZGF0ZUh1ZSwgb25Db21wbGV0ZTogaGFuZGxlQ29tcGxldGUgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2hvd0FscGhhID8gKGgoQWxwaGFTbGlkZXIsIHsgY2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXgsIHJnYmE6IHJnYmEsIGFscGhhOiBkaXNwbGF5ZWRBbHBoYVJlZi52YWx1ZSwgb25VcGRhdGVBbHBoYTogaGFuZGxlVXBkYXRlQWxwaGEsIG9uQ29tcGxldGU6IGhhbmRsZUNvbXBsZXRlIH0pKSA6IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2hvd1ByZXZpZXcgPyAoaChDb2xvclByZXZpZXcsIHsgY2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXgsIG1vZGU6IGRpc3BsYXllZE1vZGVSZWYudmFsdWUsIGNvbG9yOiByZ2JhUmVmLnZhbHVlICYmIHRvSGV4U3RyaW5nKHJnYmFSZWYudmFsdWUpLCBvblVwZGF0ZUNvbG9yOiAoY29sb3IpID0+IHsgZG9VcGRhdGVWYWx1ZShjb2xvciwgJ2lucHV0Jyk7IH0gfSkpIDogbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGgoQ29sb3JJbnB1dCwgeyBjbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeCwgc2hvd0FscGhhOiBwcm9wcy5zaG93QWxwaGEsIG1vZGU6IGRpc3BsYXllZE1vZGVSZWYudmFsdWUsIG1vZGVzOiBtb2Rlcywgb25VcGRhdGVNb2RlOiBoYW5kbGVVcGRhdGVEaXNwbGF5ZWRNb2RlLCB2YWx1ZTogbWVyZ2VkVmFsdWVSZWYudmFsdWUsIHZhbHVlQXJyOiBtZXJnZWRWYWx1ZUFyclJlZi52YWx1ZSwgb25VcGRhdGVWYWx1ZTogaGFuZGxlSW5wdXRVcGRhdGVWYWx1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgKChfYSA9IHByb3BzLnN3YXRjaGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAmJiAoaChDb2xvclBpY2tlclN3YXRjaGVzLCB7IGNsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4LCBtb2RlOiBkaXNwbGF5ZWRNb2RlUmVmLnZhbHVlLCBzd2F0Y2hlczogcHJvcHMuc3dhdGNoZXMsIG9uVXBkYXRlQ29sb3I6IChjb2xvcikgPT4geyBkb1VwZGF0ZVZhbHVlKGNvbG9yLCAnaW5wdXQnKTsgfSB9KSkpLFxuICAgICAgICAgICAgICAgIChhY3Rpb25zID09PSBudWxsIHx8IGFjdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFjdGlvbnMubGVuZ3RoKSA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke21lcmdlZENsc1ByZWZpeH0tY29sb3ItcGlja2VyLWFjdGlvbmAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5pbmNsdWRlcygnY29uZmlybScpICYmIChoKE5CdXR0b24sIHsgc2l6ZTogXCJzbWFsbFwiLCBvbkNsaWNrOiBoYW5kbGVDb25maXJtLCB0aGVtZTogbWVyZ2VkVGhlbWUucGVlcnMuQnV0dG9uLCB0aGVtZU92ZXJyaWRlczogbWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5CdXR0b24gfSwgeyBkZWZhdWx0OiAoKSA9PiBsb2NhbGVSZWYudmFsdWUuY29uZmlybSB9KSksXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuaW5jbHVkZXMoJ2NsZWFyJykgJiYgKGgoTkJ1dHRvbiwgeyBzaXplOiBcInNtYWxsXCIsIG9uQ2xpY2s6IGhhbmRsZUNsZWFyLCBkaXNhYmxlZDogIW1lcmdlZFZhbHVlUmVmLnZhbHVlLCB0aGVtZTogbWVyZ2VkVGhlbWUucGVlcnMuQnV0dG9uLCB0aGVtZU92ZXJyaWRlczogbWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5CdXR0b24gfSwgeyBkZWZhdWx0OiAoKSA9PiBsb2NhbGVSZWYudmFsdWUuY2xlYXIgfSkpKSkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHNsb3RzLmFjdGlvbiA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke21lcmdlZENsc1ByZWZpeH0tY29sb3ItcGlja2VyLWFjdGlvbmAgfSwgeyBkZWZhdWx0OiBzbG90cy5hY3Rpb24gfSkpIDogaW50ZXJuYWxBY3Rpb25zID8gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS1jb2xvci1waWNrZXItYWN0aW9uYCB9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbEFjdGlvbnMuaW5jbHVkZXMoJ3VuZG8nKSAmJiAoaChOQnV0dG9uLCB7IHNpemU6IFwic21hbGxcIiwgb25DbGljazogdW5kbywgZGlzYWJsZWQ6ICF1bmRvYWJsZVJlZi52YWx1ZSwgdGhlbWU6IG1lcmdlZFRoZW1lLnBlZXJzLkJ1dHRvbiwgdGhlbWVPdmVycmlkZXM6IG1lcmdlZFRoZW1lLnBlZXJPdmVycmlkZXMuQnV0dG9uIH0sIHsgZGVmYXVsdDogKCkgPT4gbG9jYWxlUmVmLnZhbHVlLnVuZG8gfSkpLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbEFjdGlvbnMuaW5jbHVkZXMoJ3JlZG8nKSAmJiAoaChOQnV0dG9uLCB7IHNpemU6IFwic21hbGxcIiwgb25DbGljazogcmVkbywgZGlzYWJsZWQ6ICFyZWRvYWJsZVJlZi52YWx1ZSwgdGhlbWU6IG1lcmdlZFRoZW1lLnBlZXJzLkJ1dHRvbiwgdGhlbWVPdmVycmlkZXM6IG1lcmdlZFRoZW1lLnBlZXJPdmVycmlkZXMuQnV0dG9uIH0sIHsgZGVmYXVsdDogKCkgPT4gbG9jYWxlUmVmLnZhbHVlLnJlZG8gfSkpKSkgOiBudWxsKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lcmdlZENsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4UmVmLFxuICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VSZWYsXG4gICAgICAgICAgICBzZWxmUmVmLFxuICAgICAgICAgICAgaHNsYTogaHNsYVJlZixcbiAgICAgICAgICAgIHJnYmE6IHJnYmFSZWYsXG4gICAgICAgICAgICBtZXJnZWRTaG93OiBtZXJnZWRTaG93UmVmLFxuICAgICAgICAgICAgbWVyZ2VkRGlzYWJsZWQ6IG1lcmdlZERpc2FibGVkUmVmLFxuICAgICAgICAgICAgaXNNb3VudGVkOiB1c2VJc01vdW50ZWQoKSxcbiAgICAgICAgICAgIGFkanVzdGVkVG86IHVzZUFkanVzdGVkVG8ocHJvcHMpLFxuICAgICAgICAgICAgbWVyZ2VkVmFsdWU6IG1lcmdlZFZhbHVlUmVmLFxuICAgICAgICAgICAgaGFuZGxlVHJpZ2dlckNsaWNrKCkge1xuICAgICAgICAgICAgICAgIGRvVXBkYXRlU2hvdyh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYW5kbGVDbGlja091dHNpZGUoZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoKF9hID0gc2VsZlJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGdldFByZWNpc2VFdmVudFRhcmdldChlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb1VwZGF0ZVNob3coZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlclBhbmVsLFxuICAgICAgICAgICAgY3NzVmFyczogaW5saW5lVGhlbWVEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGNzc1ZhcnNSZWYsXG4gICAgICAgICAgICB0aGVtZUNsYXNzOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUudGhlbWVDbGFzcyxcbiAgICAgICAgICAgIG9uUmVuZGVyOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUub25SZW5kZXJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyAkc2xvdHMsIG1lcmdlZENsc1ByZWZpeCwgb25SZW5kZXIgfSA9IHRoaXM7XG4gICAgICAgIG9uUmVuZGVyID09PSBudWxsIHx8IG9uUmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblJlbmRlcigpO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogW3RoaXMudGhlbWVDbGFzcywgYCR7bWVyZ2VkQ2xzUHJlZml4fS1jb2xvci1waWNrZXJgXSwgcmVmOiBcInNlbGZSZWZcIiwgc3R5bGU6IHRoaXMuY3NzVmFycyB9LFxuICAgICAgICAgICAgaChWQmluZGVyLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gW1xuICAgICAgICAgICAgICAgICAgICBoKFZUYXJnZXQsIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IChoKENvbG9yUGlja2VyVHJpZ2dlciwgeyBjbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeCwgdmFsdWU6IHRoaXMubWVyZ2VkVmFsdWUsIGhzbGE6IHRoaXMuaHNsYSwgZGlzYWJsZWQ6IHRoaXMubWVyZ2VkRGlzYWJsZWQsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVHJpZ2dlckNsaWNrIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJHNsb3RzLmxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGgoVkZvbGxvd2VyLCB7IHBsYWNlbWVudDogdGhpcy5wbGFjZW1lbnQsIHNob3c6IHRoaXMubWVyZ2VkU2hvdywgY29udGFpbmVyQ2xhc3M6IHRoaXMubmFtZXNwYWNlLCB0ZWxlcG9ydERpc2FibGVkOiB0aGlzLmFkanVzdGVkVG8gPT09IHVzZUFkanVzdGVkVG8udGRrZXksIHRvOiB0aGlzLmFkanVzdGVkVG8gfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gKGgoVHJhbnNpdGlvbiwgeyBuYW1lOiBcImZhZGUtaW4tc2NhbGUtdXAtdHJhbnNpdGlvblwiLCBhcHBlYXI6IHRoaXMuaXNNb3VudGVkIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB0aGlzLm1lcmdlZFNob3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3aXRoRGlyZWN0aXZlcyh0aGlzLnJlbmRlclBhbmVsKCksIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja291dHNpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGlja091dHNpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2FwdHVyZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgaCwgY29tcHV0ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgaHN2MnJnYiwgaHN2YSwgdG9SZ2JhU3RyaW5nIH0gZnJvbSAnc2VlbWx5JztcbmltcG9ydCB7IGNvbnZlcnRDb2xvciwgZ2V0TW9kZUZyb21WYWx1ZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uL191dGlscyc7XG4vLyBUcnkgdG8gbm9ybWFsaXplIHRoZSBjb2xvciB2YWx1ZXMgdG8gZW5zdXJlIHRoYXQgdGhleSBhcmUgdmFsaWQgQ1NTIGNvbG9yc1xuZnVuY3Rpb24gbm9ybWFsaXplQ29sb3IoY29sb3IsIG1vZGUpIHtcbiAgICBpZiAobW9kZSA9PT0gJ2hzdicpIHtcbiAgICAgICAgY29uc3QgW2gsIHMsIHYsIGFdID0gaHN2YShjb2xvcik7XG4gICAgICAgIHJldHVybiB0b1JnYmFTdHJpbmcoWy4uLmhzdjJyZ2IoaCwgcywgdiksIGFdKTtcbiAgICB9XG4gICAgLy8gRm9yIHRoZSBtb2RlIHRoYXQgaXMgbm90IGluIHByZXNldCwgd2Uga2VlcCB0aGUgb3JpZ2luYWwgdmFsdWUuXG4gICAgLy8gRm9yIGNvbG9yIG5hbWVzLCB0aGV5IGFyZSBsZWdhbCB0byBDU1MsIHNvIHdlIGRvbuKAmXQgZGVhbCB3aXRoIHRoZW0sXG4gICAgLy8gYW5kIG9ubHkgc3RhbmRhcmRpemUgdGhlbSB3aGVuIG91dHB1dHRpbmcuXG4gICAgcmV0dXJuIGNvbG9yO1xufVxuZnVuY3Rpb24gZ2V0SGV4RnJvbU5hbWUoY29sb3IpIHtcbiAgICBjb25zdCBjdHggPSBkb2N1bWVudFxuICAgICAgICAuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICAgICAgLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHJldHVybiBjdHguZmlsbFN0eWxlO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnQ29sb3JQaWNrZXJTd2F0Y2hlcycsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgY2xzUHJlZml4OiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzd2F0Y2hlczoge1xuICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvblVwZGF0ZUNvbG9yOiB7XG4gICAgICAgICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFN3YXRjaGVzUmVmID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuc3dhdGNoZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZSA9IGdldE1vZGVGcm9tVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgIGxlZ2FsVmFsdWU6IG5vcm1hbGl6ZUNvbG9yKHZhbHVlLCBtb2RlKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemVPdXRwdXQocGFyc2VkKSB7XG4gICAgICAgICAgICBjb25zdCB7IG1vZGU6IG1vZGVQcm9wIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGxldCB7IHZhbHVlLCBtb2RlOiBzd2F0Y2hDb2xvck1vZGUgfSA9IHBhcnNlZDtcbiAgICAgICAgICAgIC8vIGNvbG9yIG5hbWUgaXMgY29udmVydGVkIHRvIGhleFxuICAgICAgICAgICAgaWYgKCFzd2F0Y2hDb2xvck1vZGUpIHtcbiAgICAgICAgICAgICAgICBzd2F0Y2hDb2xvck1vZGUgPSAnaGV4JztcbiAgICAgICAgICAgICAgICBpZiAoL15bYS16QS1aXSskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGdldEhleEZyb21OYW1lKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBpbnZhbGlkIGNvbG9yLCB3ZSBtYWtlIGl0IGJsYWNrXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ2NvbG9yLXBpY2tlcicsIGBjb2xvciAke3ZhbHVlfSBpbiBzd2F0Y2hlcyBpcyBpbnZhbGlkLmApO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICcjMDAwMDAwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3dhdGNoQ29sb3JNb2RlID09PSBtb2RlUHJvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAvLyBzd2F0Y2ggdmFsdWUgdG8gY3VycmVudCBtb2RlIHZhbHVlXG4gICAgICAgICAgICByZXR1cm4gY29udmVydENvbG9yKHZhbHVlLCBtb2RlUHJvcCwgc3dhdGNoQ29sb3JNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVTd2F0Y2hTZWxlY3QocGFyc2VkKSB7XG4gICAgICAgICAgICBwcm9wcy5vblVwZGF0ZUNvbG9yKG5vcm1hbGl6ZU91dHB1dChwYXJzZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVTd2F0Y2hLZXlEb3duKGUsIHBhcnNlZCkge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKVxuICAgICAgICAgICAgICAgIGhhbmRsZVN3YXRjaFNlbGVjdChwYXJzZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJzZWRTd2F0Y2hlc1JlZixcbiAgICAgICAgICAgIGhhbmRsZVN3YXRjaFNlbGVjdCxcbiAgICAgICAgICAgIGhhbmRsZVN3YXRjaEtleURvd25cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjbHNQcmVmaXggfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1zd2F0Y2hlc2AgfSwgdGhpcy5wYXJzZWRTd2F0Y2hlc1JlZi5tYXAoKHN3YXRjaCkgPT4gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItc3dhdGNoYCwgdGFiaW5kZXg6IDAsIG9uQ2xpY2s6ICgpID0+IHsgdGhpcy5oYW5kbGVTd2F0Y2hTZWxlY3Qoc3dhdGNoKTsgfSwgb25LZXlkb3duOiAoZSkgPT4geyB0aGlzLmhhbmRsZVN3YXRjaEtleURvd24oZSwgc3dhdGNoKTsgfSB9LFxuICAgICAgICAgICAgaChcImRpdlwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1zd2F0Y2hfX2ZpbGxgLCBzdHlsZTogeyBiYWNrZ3JvdW5kOiBzd2F0Y2gubGVnYWxWYWx1ZSB9IH0pKSkpKSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyB0b0hzbGFTdHJpbmcgfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBoLCBpbmplY3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgY29sb3JQaWNrZXJJbmplY3Rpb25LZXkgfSBmcm9tICcuL2NvbnRleHQnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnQ29sb3JQaWNrZXJUcmlnZ2VyJyxcbiAgICBwcm9wczoge1xuICAgICAgICBjbHNQcmVmaXg6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGhzbGE6IHtcbiAgICAgICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZDogQm9vbGVhbixcbiAgICAgICAgb25DbGljazogRnVuY3Rpb25cbiAgICB9LFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGNvbnN0IHsgY29sb3JQaWNrZXJTbG90cywgcmVuZGVyTGFiZWxSZWYgfSA9IGluamVjdChjb2xvclBpY2tlckluamVjdGlvbktleSwgbnVsbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGhzbGEsIHZhbHVlLCBjbHNQcmVmaXgsIG9uQ2xpY2ssIGRpc2FibGVkIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlckxhYmVsID0gY29sb3JQaWNrZXJTbG90cy5sYWJlbCB8fCByZW5kZXJMYWJlbFJlZi52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBbXG4gICAgICAgICAgICAgICAgICAgIGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXRyaWdnZXJgLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCAmJiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci10cmlnZ2VyLS1kaXNhYmxlZGBcbiAgICAgICAgICAgICAgICBdLCBvbkNsaWNrOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXRyaWdnZXJfX2ZpbGxgIH0sXG4gICAgICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItY2hlY2tib2FyZGAgfSksXG4gICAgICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGhzbGEgPyB0b0hzbGFTdHJpbmcoaHNsYSkgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgJiYgaHNsYSA/IChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXRyaWdnZXJfX3ZhbHVlYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaHNsYVsyXSA+IDUwIHx8IGhzbGFbM10gPCAwLjUgPyAnYmxhY2snIDogJ3doaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LCByZW5kZXJMYWJlbCA/IHJlbmRlckxhYmVsKHZhbHVlKSA6IHZhbHVlKSkgOiBudWxsKSkpO1xuICAgICAgICB9O1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBoIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGNvbnZlcnRDb2xvciwgZ2V0TW9kZUZyb21WYWx1ZSB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnQ29sb3JQcmV2aWV3JyxcbiAgICBwcm9wczoge1xuICAgICAgICBjbHNQcmVmaXg6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gZ2V0TW9kZUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4oIXZhbHVlIHx8IChtb2RlICYmIG1vZGUgIT09ICdoc3YnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uVXBkYXRlQ29sb3I6IHtcbiAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8vIGhleFxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIChfYSA9IHByb3BzLm9uVXBkYXRlQ29sb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBjb252ZXJ0Q29sb3IodmFsdWUudG9VcHBlckNhc2UoKSwgcHJvcHMubW9kZSwgJ2hleCcpKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNsc1ByZWZpeCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXByZXZpZXdfX3ByZXZpZXdgIH0sXG4gICAgICAgICAgICBoKFwic3BhblwiLCB7IGNsYXNzOiBgJHtjbHNQcmVmaXh9LWNvbG9yLXBpY2tlci1wcmV2aWV3X19maWxsYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdGhpcy5jb2xvciB8fCAnIzAwMDAwMCdcbiAgICAgICAgICAgICAgICB9IH0pLFxuICAgICAgICAgICAgaChcImlucHV0XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXByZXZpZXdfX2lucHV0YCwgdHlwZTogXCJjb2xvclwiLCB2YWx1ZTogdGhpcy5jb2xvciwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlIH0pKSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGgsIHJlZiB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBvZmYsIG9uIH0gZnJvbSAnZXZ0ZCc7XG5pbXBvcnQgeyBub3JtYWxpemVIdWUgfSBmcm9tICcuL3V0aWxzJztcbmNvbnN0IEhBTkRMRV9TSVpFID0gJzEycHgnO1xuY29uc3QgSEFORExFX1NJWkVfTlVNID0gMTI7XG5jb25zdCBSQURJVVMgPSAnNnB4JztcbmNvbnN0IFJBRElVU19OVU0gPSA2O1xuY29uc3QgR1JBRElFTlQgPSAnbGluZWFyLWdyYWRpZW50KDkwZGVnLHJlZCwjZmYwIDE2LjY2JSwjMGYwIDMzLjMzJSwjMGZmIDUwJSwjMDBmIDY2LjY2JSwjZjBmIDgzLjMzJSxyZWQpJztcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ0h1ZVNsaWRlcicsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgY2xzUHJlZml4OiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBodWU6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uVXBkYXRlSHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ29tcGxldGU6IEZ1bmN0aW9uXG4gICAgfSxcbiAgICBzZXR1cChwcm9wcykge1xuICAgICAgICBjb25zdCByYWlsUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgICAgICAgaWYgKCFyYWlsUmVmLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIG9uKCdtb3VzZW1vdmUnLCBkb2N1bWVudCwgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIG9uKCdtb3VzZXVwJywgZG9jdW1lbnQsIGhhbmRsZU1vdXNlVXApO1xuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiByYWlsRWwgfSA9IHJhaWxSZWY7XG4gICAgICAgICAgICBpZiAoIXJhaWxFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBsZWZ0IH0gPSByYWlsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBjb25zdCBuZXdIdWUgPSBub3JtYWxpemVIdWUoKChlLmNsaWVudFggLSBsZWZ0IC0gUkFESVVTX05VTSkgLyAod2lkdGggLSBIQU5ETEVfU0laRV9OVU0pKSAqIDM2MCk7XG4gICAgICAgICAgICBwcm9wcy5vblVwZGF0ZUh1ZShuZXdIdWUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBvZmYoJ21vdXNlbW92ZScsIGRvY3VtZW50LCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgICAgICAgb2ZmKCdtb3VzZXVwJywgZG9jdW1lbnQsIGhhbmRsZU1vdXNlVXApO1xuICAgICAgICAgICAgKF9hID0gcHJvcHMub25Db21wbGV0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYWlsUmVmLFxuICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xzUHJlZml4IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItc2xpZGVyYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogUkFESVVTXG4gICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICBoKFwiZGl2XCIsIHsgcmVmOiBcInJhaWxSZWZcIiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnaW5zZXQgMCAwIDJweCAwIHJnYmEoMCwgMCwgMCwgLjI0KScsXG4gICAgICAgICAgICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IEdSQURJRU5ULFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFJBRElVUyxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgICAgICAgICB9LCBvbk1vdXNlZG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24gfSxcbiAgICAgICAgICAgICAgICBoKFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFJBRElVUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMFxuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItaGFuZGxlYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgY2FsYygoJHt0aGlzLmh1ZX0lKSAvIDM1OSAqIDEwMCAtICR7UkFESVVTfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBIQU5ETEVfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLWhhbmRsZV9fZmlsbGAsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYGhzbCgke3RoaXMuaHVlfSwgMTAwJSwgNTAlKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogSEFORExFX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogSEFORExFX1NJWkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pKSkpKSk7XG4gICAgfVxufSk7XG4iLCJpbXBvcnQgeyBvbiwgb2ZmIH0gZnJvbSAnZXZ0ZCc7XG5pbXBvcnQgeyBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50LCBoLCByZWYgfSBmcm9tICd2dWUnO1xuY29uc3QgSEFORExFX1NJWkUgPSAnMTJweCc7XG5jb25zdCBSQURJVVMgPSAnNnB4JztcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ1BhbGxldGUnLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGNsc1ByZWZpeDoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcmdiYToge1xuICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIC8vIDAgLSAzNjBcbiAgICAgICAgZGlzcGxheWVkSHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBkaXNwbGF5ZWRTdjoge1xuICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvblVwZGF0ZVNWOiB7XG4gICAgICAgICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ29tcGxldGU6IEZ1bmN0aW9uXG4gICAgfSxcbiAgICBzZXR1cChwcm9wcykge1xuICAgICAgICBjb25zdCBwYWxsZXRlUmVmID0gcmVmKG51bGwpO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgICAgICAgaWYgKCFwYWxsZXRlUmVmLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIG9uKCdtb3VzZW1vdmUnLCBkb2N1bWVudCwgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIG9uKCdtb3VzZXVwJywgZG9jdW1lbnQsIGhhbmRsZU1vdXNlVXApO1xuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBwYWxsZXRlRWwgfSA9IHBhbGxldGVSZWY7XG4gICAgICAgICAgICBpZiAoIXBhbGxldGVFbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxlZnQsIGJvdHRvbSB9ID0gcGFsbGV0ZUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgbmV3ViA9IChib3R0b20gLSBlLmNsaWVudFkpIC8gaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgbmV3UyA9IChlLmNsaWVudFggLSBsZWZ0KSAvIHdpZHRoO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZE5ld1MgPSAxMDAgKiAobmV3UyA+IDEgPyAxIDogbmV3UyA8IDAgPyAwIDogbmV3Uyk7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkTmV3ViA9IDEwMCAqIChuZXdWID4gMSA/IDEgOiBuZXdWIDwgMCA/IDAgOiBuZXdWKTtcbiAgICAgICAgICAgIHByb3BzLm9uVXBkYXRlU1Yobm9ybWFsaXplZE5ld1MsIG5vcm1hbGl6ZWROZXdWKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgb2ZmKCdtb3VzZW1vdmUnLCBkb2N1bWVudCwgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIG9mZignbW91c2V1cCcsIGRvY3VtZW50LCBoYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgICAgIChfYSA9IHByb3BzLm9uQ29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFsbGV0ZVJlZixcbiAgICAgICAgICAgIGhhbmRsZUNvbG9yOiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZ2JhIH0gPSBwcm9wcztcbiAgICAgICAgICAgICAgICBpZiAoIXJnYmEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4gYHJnYigke3JnYmFbMF19LCAke3JnYmFbMV19LCAke3JnYmFbMl19KWA7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGhhbmRsZU1vdXNlRG93blxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNsc1ByZWZpeCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXBhbGxldGVgLCBvbk1vdXNlZG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sIHJlZjogXCJwYWxsZXRlUmVmXCIgfSxcbiAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItcGFsbGV0ZV9fbGF5ZXJgLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHdoaXRlLCBoc2woJHt0aGlzLmRpc3BsYXllZEh1ZX0sIDEwMCUsIDUwJSkpYFxuICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IGAke2Nsc1ByZWZpeH0tY29sb3ItcGlja2VyLXBhbGxldGVfX2xheWVyICR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItcGFsbGV0ZV9fbGF5ZXItLXNoYWRvd2VkYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAnbGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLCAwLCAwLCAwJSksIHJnYmEoMCwgMCwgMCwgMTAwJSkpJ1xuICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICB0aGlzLnJnYmEgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItaGFuZGxlYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IEhBTkRMRV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IEhBTkRMRV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFJBRElVUyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogYGNhbGMoJHt0aGlzLmRpc3BsYXllZFN2WzBdfSUgLSAke1JBRElVU30pYCxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBgY2FsYygke3RoaXMuZGlzcGxheWVkU3ZbMV19JSAtICR7UkFESVVTfSlgXG4gICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7Y2xzUHJlZml4fS1jb2xvci1waWNrZXItaGFuZGxlX19maWxsYCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5oYW5kbGVDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogUkFESVVTLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IEhBTkRMRV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBIQU5ETEVfU0laRVxuICAgICAgICAgICAgICAgICAgICB9IH0pKSkpKTtcbiAgICB9XG59KTtcbiIsImltcG9ydCB7IGNyZWF0ZUluamVjdGlvbktleSB9IGZyb20gJy4uLy4uL191dGlscyc7XG5leHBvcnQgY29uc3QgY29sb3JQaWNrZXJJbmplY3Rpb25LZXkgPSBjcmVhdGVJbmplY3Rpb25LZXkoJ24tY29sb3ItcGlja2VyJyk7XG4iLCJpbXBvcnQgeyBjLCBjQiwgY0UsIGNNIH0gZnJvbSAnLi4vLi4vLi4vX3V0aWxzL2Nzc3InO1xuaW1wb3J0IHsgZmFkZUluU2NhbGVVcFRyYW5zaXRpb24gfSBmcm9tICcuLi8uLi8uLi9fc3R5bGVzL3RyYW5zaXRpb25zL2ZhZGUtaW4tc2NhbGUtdXAuY3Nzcic7XG4vLyB2YXJzOlxuLy8gLS1uLWNvbG9yXG4vLyAtLW4tdGV4dC1jb2xvclxuLy8gLS1uLWJvcmRlci1yYWRpdXNcbi8vIC0tbi1wYW5lbC1mb250LXNpemVcbi8vIC0tbi1mb250LXNpemVcbi8vIC0tbi1iZXppZXJcbi8vIC0tbi1oZWlnaHRcbi8vIC0tbi1ib3gtc2hhZG93XG4vLyAtLW4tZGl2aWRlci1jb2xvclxuZXhwb3J0IGRlZmF1bHQgYyhbY0IoJ2NvbG9yLXBpY2tlcicsIGBcbiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gYm94LXNpemluZzogYm9yZGVyLWJveDtcbiBoZWlnaHQ6IHZhcigtLW4taGVpZ2h0KTtcbiBmb250LXNpemU6IHZhcigtLW4tZm9udC1zaXplKTtcbiB3aWR0aDogMTAwJTtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gYCksIGNCKCdjb2xvci1waWNrZXItcGFuZWwnLCBgXG4gbWFyZ2luOiA0cHggMDtcbiB3aWR0aDogMjQwcHg7XG4gZm9udC1zaXplOiB2YXIoLS1uLXBhbmVsLWZvbnQtc2l6ZSk7XG4gY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvcik7XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvcik7XG4gdHJhbnNpdGlvbjpcbiBib3gtc2hhZG93IC4zcyB2YXIoLS1uLWJlemllciksXG4gY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBiYWNrZ3JvdW5kLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYm9yZGVyLXJhZGl1czogdmFyKC0tbi1ib3JkZXItcmFkaXVzKTtcbiBib3gtc2hhZG93OiB2YXIoLS1uLWJveC1zaGFkb3cpO1xuIGAsIFtmYWRlSW5TY2FsZVVwVHJhbnNpdGlvbigpLCBjQignaW5wdXQnLCBgXG4gdGV4dC1hbGlnbjogY2VudGVyO1xuIGApXSksIGNCKCdjb2xvci1waWNrZXItY2hlY2tib2FyZCcsIGBcbiBiYWNrZ3JvdW5kOiB3aGl0ZTsgXG4gcG9zaXRpb246IGFic29sdXRlO1xuIGxlZnQ6IDA7XG4gcmlnaHQ6IDA7XG4gdG9wOiAwO1xuIGJvdHRvbTogMDtcbiBgLCBbYygnJjo6YWZ0ZXInLCBgXG4gYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjREREIDI1JSwgIzAwMDAgMjUlKSwgbGluZWFyLWdyYWRpZW50KC00NWRlZywgI0RERCAyNSUsICMwMDAwIDI1JSksIGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzAwMDAgNzUlLCAjREREIDc1JSksIGxpbmVhci1ncmFkaWVudCgtNDVkZWcsICMwMDAwIDc1JSwgI0RERCA3NSUpO1xuIGJhY2tncm91bmQtc2l6ZTogMTJweCAxMnB4O1xuIGJhY2tncm91bmQtcG9zaXRpb246IDAgMCwgMCA2cHgsIDZweCAtNnB4LCAtNnB4IDBweDtcbiBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0O1xuIGNvbnRlbnQ6IFwiXCI7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIGxlZnQ6IDA7XG4gcmlnaHQ6IDA7XG4gdG9wOiAwO1xuIGJvdHRvbTogMDtcbiBgKV0pLCBjQignY29sb3ItcGlja2VyLXNsaWRlcicsIGBcbiBtYXJnaW4tYm90dG9tOiA4cHg7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gYCwgW2NFKCdpbWFnZScsIGBcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gbGVmdDogMDtcbiByaWdodDogMDtcbiB0b3A6IDA7XG4gYm90dG9tOiAwO1xuIGApLCBjKCcmOjphZnRlcicsIGBcbiBjb250ZW50OiBcIlwiO1xuIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuIGxlZnQ6IDA7XG4gcmlnaHQ6IDA7XG4gdG9wOiAwO1xuIGJvdHRvbTogMDtcbiBib3gtc2hhZG93OiBpbnNldCAwIDAgMnB4IDAgcmdiYSgwLCAwLCAwLCAuMjQpO1xuIHBvaW50ZXItZXZlbnRzOiBub25lO1xuIGApXSksIGNCKCdjb2xvci1waWNrZXItaGFuZGxlJywgYFxuIHotaW5kZXg6IDE7XG4gYm94LXNoYWRvdzogMCAwIDJweCAwIHJnYmEoMCwgMCwgMCwgLjQ1KTtcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gb3ZlcmZsb3c6IGhpZGRlbjtcbiBgLCBbY0UoJ2ZpbGwnLCBgXG4gYm94LXNpemluZzogYm9yZGVyLWJveDtcbiBib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTtcbiBgKV0pLCBjQignY29sb3ItcGlja2VyLXBhbGxldGUnLCBgXG4gaGVpZ2h0OiAxODBweDtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gbWFyZ2luLWJvdHRvbTogOHB4O1xuIGN1cnNvcjogY3Jvc3NoYWlyO1xuIGAsIFtjRSgnbGF5ZXInLCBgXG4gcG9zaXRpb246IGFic29sdXRlO1xuIGxlZnQ6IDA7XG4gcmlnaHQ6IDA7XG4gdG9wOiAwO1xuIGJvdHRvbTogMDtcbiBgLCBbY00oJ3NoYWRvd2VkJywgYFxuIGJveC1zaGFkb3c6IGluc2V0IDAgMCAycHggMCByZ2JhKDAsIDAsIDAsIC4yNCk7XG4gYCldKV0pLCBjQignY29sb3ItcGlja2VyLXByZXZpZXcnLCBgXG4gZGlzcGxheTogZmxleDtcbiBgLCBbY0UoJ3NsaWRlcnMnLCBgXG4gZmxleDogMSAwIGF1dG87XG4gYCksIGNFKCdwcmV2aWV3JywgYFxuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiBoZWlnaHQ6IDMwcHg7XG4gd2lkdGg6IDMwcHg7XG4gbWFyZ2luOiAwIDAgOHB4IDZweDtcbiBib3JkZXItcmFkaXVzOiA1MCU7XG4gYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAuMTUpIDBweCAwcHggMHB4IDFweCBpbnNldDtcbiBvdmVyZmxvdzogaGlkZGVuO1xuIGApLCBjRSgnZmlsbCcsIGBcbiBkaXNwbGF5OiBibG9jaztcbiB3aWR0aDogMzBweDtcbiBoZWlnaHQ6IDMwcHg7XG4gYCksIGNFKCdpbnB1dCcsIGBcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gdG9wOiAwO1xuIGxlZnQ6IDA7XG4gd2lkdGg6IDMwcHg7XG4gaGVpZ2h0OiAzMHB4O1xuIG9wYWNpdHk6IDA7XG4gei1pbmRleDogMTtcbiBgKV0pLCBjQignY29sb3ItcGlja2VyLWlucHV0JywgYFxuIGRpc3BsYXk6IGZsZXg7XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBgLCBbY0IoJ2lucHV0JywgYFxuIGZsZXgtZ3JvdzogMTtcbiBmbGV4LWJhc2lzOiAwO1xuIGApLCBjRSgnbW9kZScsIGBcbiB3aWR0aDogNzJweDtcbiB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gYCldKSwgY0IoJ2NvbG9yLXBpY2tlci1jb250cm9sJywgYFxuIHBhZGRpbmc6IDEycHg7XG4gYCksIGNCKCdjb2xvci1waWNrZXItYWN0aW9uJywgYFxuIGRpc3BsYXk6IGZsZXg7XG4gbWFyZ2luLXRvcDogLTRweDtcbiBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbi1kaXZpZGVyLWNvbG9yKTtcbiBwYWRkaW5nOiA4cHggMTJweDtcbiBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuIGAsIFtjQignYnV0dG9uJywgJ21hcmdpbi1sZWZ0OiA4cHg7JyldKSwgY0IoJ2NvbG9yLXBpY2tlci10cmlnZ2VyJywgYFxuIGJvcmRlcjogdmFyKC0tbi1ib3JkZXIpO1xuIGhlaWdodDogMTAwJTtcbiBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gY3Vyc29yOiBwb2ludGVyO1xuIGAsIFtjRSgndmFsdWUnLCBgXG4gd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gYCksIGNFKCdmaWxsJywgYFxuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIGRpc3BsYXk6IGZsZXg7XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiBsZWZ0OiA0cHg7XG4gcmlnaHQ6IDRweDtcbiB0b3A6IDRweDtcbiBib3R0b206IDRweDtcbiBgKSwgY00oJ2Rpc2FibGVkJywgJ2N1cnNvcjogbm90LWFsbG93ZWQnKSwgY0IoJ2NvbG9yLXBpY2tlci1jaGVja2JvYXJkJywgYFxuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gYCwgW2MoJyY6OmFmdGVyJywgYFxuIC0tbi1ibG9jay1zaXplOiBjYWxjKCh2YXIoLS1uLWhlaWdodCkgLSA4cHgpIC8gMyk7XG4gYmFja2dyb3VuZC1zaXplOiBjYWxjKHZhcigtLW4tYmxvY2stc2l6ZSkgKiAyKSBjYWxjKHZhcigtLW4tYmxvY2stc2l6ZSkgKiAyKTtcbiBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDAgdmFyKC0tbi1ibG9jay1zaXplKSwgdmFyKC0tbi1ibG9jay1zaXplKSBjYWxjKC0xICogdmFyKC0tbi1ibG9jay1zaXplKSksIGNhbGMoLTEgKiB2YXIoLS1uLWJsb2NrLXNpemUpKSAwcHg7IFxuIGApXSldKSwgY0IoJ2NvbG9yLXBpY2tlci1zd2F0Y2hlcycsIGBcbiBkaXNwbGF5OiBncmlkO1xuIGdyaWQtZ2FwOiA4cHg7XG4gZmxleC13cmFwOiB3cmFwO1xuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIDE4cHgpO1xuIG1hcmdpbi10b3A6IDEwcHg7XG4gYCwgW2NCKCdjb2xvci1waWNrZXItc3dhdGNoJywgYFxuIHdpZHRoOiAxOHB4O1xuIGhlaWdodDogMThweDtcbiBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNEREQgMjUlLCAjMDAwMCAyNSUpLCBsaW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCAjREREIDI1JSwgIzAwMDAgMjUlKSwgbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjMDAwMCA3NSUsICNEREQgNzUlKSwgbGluZWFyLWdyYWRpZW50KC00NWRlZywgIzAwMDAgNzUlLCAjREREIDc1JSk7XG4gYmFja2dyb3VuZC1zaXplOiA4cHggOHB4O1xuIGJhY2tncm91bmQtcG9zaXRpb246IDBweCAwLCAwcHggNHB4LCA0cHggLTRweCwgLTRweCAwcHg7XG4gYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdDtcbiBgLCBbY0UoJ2ZpbGwnLCBgXG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIHdpZHRoOiAxMDAlO1xuIGhlaWdodDogMTAwJTtcbiBib3JkZXItcmFkaXVzOiAzcHg7XG4gYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAuMTUpIDBweCAwcHggMHB4IDFweCBpbnNldDtcbiBjdXJzb3I6IHBvaW50ZXI7XG4gYCksIGMoJyY6Zm9jdXMnLCBgXG4gb3V0bGluZTogbm9uZTtcbiBgLCBbY0UoJ2ZpbGwnLCBbYygnJjo6YWZ0ZXInLCBgXG4gcG9zaXRpb246IGFic29sdXRlO1xuIHRvcDogMDtcbiByaWdodDogMDtcbiBib3R0b206IDA7XG4gbGVmdDogMDtcbiBiYWNrZ3JvdW5kOiBpbmhlcml0O1xuIGZpbHRlcjogYmx1cigycHgpO1xuIGNvbnRlbnQ6IFwiXCI7XG4gYCldKV0pXSldKV0pOyIsImltcG9ydCB7IGhzbDJoc3YsIGhzbDJyZ2IsIGhzbGEsIGhzdjJoc2wsIGhzdjJyZ2IsIGhzdmEsIHJnYjJoc2wsIHJnYjJoc3YsIHJnYmEsIHRvSGV4YVN0cmluZywgdG9Ic2xhU3RyaW5nLCB0b0hzdmFTdHJpbmcsIHRvUmdiYVN0cmluZyB9IGZyb20gJ3NlZW1seSc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vX3V0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVEZWZhdWx0VmFsdWUobW9kZXMsIHNob3dBbHBoYSkge1xuICAgIGNvbnN0IG1vZGUgPSBtb2Rlc1swXTtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgICAgIHJldHVybiBzaG93QWxwaGEgPyAnIzAwMDAwMEZGJyA6ICcjMDAwMDAwJztcbiAgICAgICAgY2FzZSAncmdiJzpcbiAgICAgICAgICAgIHJldHVybiBzaG93QWxwaGEgPyAncmdiYSgwLCAwLCAwLCAxKScgOiAncmdiKDAsIDAsIDApJztcbiAgICAgICAgY2FzZSAnaHNsJzpcbiAgICAgICAgICAgIHJldHVybiBzaG93QWxwaGEgPyAnaHNsYSgwLCAwJSwgMCUsIDEpJyA6ICdoc2woMCwgMCUsIDAlKSc7XG4gICAgICAgIGNhc2UgJ2hzdic6XG4gICAgICAgICAgICByZXR1cm4gc2hvd0FscGhhID8gJ2hzdmEoMCwgMCUsIDAlLCAxKScgOiAnaHN2KDAsIDAlLCAwJSknO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgd2FybignY29sb3ItcGlja2VyJywgJ3Byb3BzLm1vZGVzIGlzIGludmFsaWQuJyk7XG4gICAgLy8gaW4gY2FzZSBvZiBpbnZhbGlkIG1vZGVzXG4gICAgcmV0dXJuICcjMDAwMDAwJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlRnJvbVZhbHVlKGNvbG9yKSB7XG4gICAgaWYgKGNvbG9yID09PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoL14gKiMvLnRlc3QoY29sb3IpKVxuICAgICAgICByZXR1cm4gJ2hleCc7XG4gICAgaWYgKGNvbG9yLmluY2x1ZGVzKCdyZ2InKSlcbiAgICAgICAgcmV0dXJuICdyZ2InO1xuICAgIGlmIChjb2xvci5pbmNsdWRlcygnaHNsJykpXG4gICAgICAgIHJldHVybiAnaHNsJztcbiAgICBpZiAoY29sb3IuaW5jbHVkZXMoJ2hzdicpKVxuICAgICAgICByZXR1cm4gJ2hzdic7XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvb3IoY29sb3IpIHtcbiAgICByZXR1cm4gY29sb3IubWFwKChjaGFubmVsKSA9PiBNYXRoLmZsb29yKGNoYW5uZWwpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVIdWUoaHVlKSB7XG4gICAgaHVlID0gTWF0aC5yb3VuZChodWUpO1xuICAgIHJldHVybiBodWUgPj0gMzYwID8gMzU5IDogaHVlIDwgMCA/IDAgOiBodWU7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplQWxwaGEoYWxwaGEpIHtcbiAgICBhbHBoYSA9IE1hdGgucm91bmQoYWxwaGEgKiAxMDApIC8gMTAwO1xuICAgIHJldHVybiBhbHBoYSA+IDEgPyAxIDogYWxwaGEgPCAwID8gMCA6IGFscGhhO1xufVxuY29uc3QgY29udmVydCA9IHtcbiAgICByZ2I6IHtcbiAgICAgICAgaGV4KHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9IZXhhU3RyaW5nKHJnYmEodmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgaHNsKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBbciwgZywgYiwgYV0gPSByZ2JhKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0b0hzbGFTdHJpbmcoWy4uLnJnYjJoc2wociwgZywgYiksIGFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgaHN2KHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBbciwgZywgYiwgYV0gPSByZ2JhKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0b0hzdmFTdHJpbmcoWy4uLnJnYjJoc3YociwgZywgYiksIGFdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGV4OiB7XG4gICAgICAgIHJnYih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRvUmdiYVN0cmluZyhyZ2JhKHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhzbCh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgW3IsIGcsIGIsIGFdID0gcmdiYSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdG9Ic2xhU3RyaW5nKFsuLi5yZ2IyaHNsKHIsIGcsIGIpLCBhXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhzdih2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgW3IsIGcsIGIsIGFdID0gcmdiYSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdG9Ic3ZhU3RyaW5nKFsuLi5yZ2IyaHN2KHIsIGcsIGIpLCBhXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhzbDoge1xuICAgICAgICBoZXgodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IFtoLCBzLCBsLCBhXSA9IGhzbGEodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRvSGV4YVN0cmluZyhbLi4uaHNsMnJnYihoLCBzLCBsKSwgYV0pO1xuICAgICAgICB9LFxuICAgICAgICByZ2IodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IFtoLCBzLCBsLCBhXSA9IGhzbGEodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRvUmdiYVN0cmluZyhbLi4uaHNsMnJnYihoLCBzLCBsKSwgYV0pO1xuICAgICAgICB9LFxuICAgICAgICBoc3YodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IFtoLCBzLCBsLCBhXSA9IGhzbGEodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRvSHN2YVN0cmluZyhbLi4uaHNsMmhzdihoLCBzLCBsKSwgYV0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoc3Y6IHtcbiAgICAgICAgaGV4KHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBbaCwgcywgdiwgYV0gPSBoc3ZhKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0b0hleGFTdHJpbmcoWy4uLmhzdjJyZ2IoaCwgcywgdiksIGFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmdiKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBbaCwgcywgdiwgYV0gPSBoc3ZhKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0b1JnYmFTdHJpbmcoWy4uLmhzdjJyZ2IoaCwgcywgdiksIGFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgaHNsKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBbaCwgcywgdiwgYV0gPSBoc3ZhKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0b0hzbGFTdHJpbmcoWy4uLmhzdjJoc2woaCwgcywgdiksIGFdKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyBpbXBsZW1lbnRhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRDb2xvcih2YWx1ZSwgbW9kZSwgb3JpZ2luYWxNb2RlKSB7XG4gICAgb3JpZ2luYWxNb2RlID0gb3JpZ2luYWxNb2RlIHx8IGdldE1vZGVGcm9tVmFsdWUodmFsdWUpO1xuICAgIGlmICghb3JpZ2luYWxNb2RlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAob3JpZ2luYWxNb2RlID09PSBtb2RlKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgY29udmVyc2lvbnMgPSBjb252ZXJ0W29yaWdpbmFsTW9kZV07XG4gICAgcmV0dXJuIGNvbnZlcnNpb25zW21vZGVdKHZhbHVlKTtcbn1cbiIsImltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyB1c2VDb25maWcsIHVzZVN0eWxlIH0gZnJvbSAnLi4vLi4vX21peGlucyc7XG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvaW5wdXQtZ3JvdXAuY3Nzcic7XG5leHBvcnQgY29uc3QgaW5wdXRHcm91cFByb3BzID0ge307XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdJbnB1dEdyb3VwJyxcbiAgICBwcm9wczogaW5wdXRHcm91cFByb3BzLFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgbWVyZ2VkQ2xzUHJlZml4UmVmIH0gPSB1c2VDb25maWcocHJvcHMpO1xuICAgICAgICB1c2VTdHlsZSgnLWlucHV0LWdyb3VwJywgc3R5bGUsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXJnZWRDbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeFJlZlxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IG1lcmdlZENsc1ByZWZpeCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS1pbnB1dC1ncm91cGAgfSwgdGhpcy4kc2xvdHMpO1xuICAgIH1cbn0pO1xuIiwiaW1wb3J0IHsgYywgY0IsIGNFIH0gZnJvbSAnLi4vLi4vLi4vX3V0aWxzL2Nzc3InO1xuZXhwb3J0IGRlZmF1bHQgY0IoJ2lucHV0LWdyb3VwJywgYFxuIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuIHdpZHRoOiAxMDAlO1xuIGZsZXgtd3JhcDogbm93cmFwO1xuIHZlcnRpY2FsLWFsaWduOiBib3R0b207XG5gLCBbYygnPicsIFtjQignaW5wdXQnLCBbYygnJjpub3QoOmxhc3QtY2hpbGQpJywgYFxuIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCksIGMoJyY6bm90KDpmaXJzdC1jaGlsZCknLCBgXG4gYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gbWFyZ2luLWxlZnQ6IC0xcHghaW1wb3J0YW50O1xuIGApXSksIGNCKCdidXR0b24nLCBbYygnJjpub3QoOmxhc3QtY2hpbGQpJywgYFxuIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCwgW2NFKCdzdGF0ZS1ib3JkZXIsIGJvcmRlcicsIGBcbiBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDAhaW1wb3J0YW50O1xuIGApXSksIGMoJyY6bm90KDpmaXJzdC1jaGlsZCknLCBgXG4gYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCwgW2NFKCdzdGF0ZS1ib3JkZXIsIGJvcmRlcicsIGBcbiBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBgKV0pXSksIGMoJyonLCBbYygnJjpub3QoOmxhc3QtY2hpbGQpJywgYFxuIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCwgW2MoJz4nLCBbY0IoJ2lucHV0JywgYFxuIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCksIGNCKCdiYXNlLXNlbGVjdGlvbicsIFtjQignYmFzZS1zZWxlY3Rpb24tbGFiZWwnLCBgXG4gYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDAhaW1wb3J0YW50O1xuIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXRhZ3MnLCBgXG4gYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDAhaW1wb3J0YW50O1xuIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBgKSwgY0UoJ2JveC1zaGFkb3csIGJvcmRlciwgc3RhdGUtYm9yZGVyJywgYFxuIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCldKV0pXSksIGMoJyY6bm90KDpmaXJzdC1jaGlsZCknLCBgXG4gbWFyZ2luLWxlZnQ6IC0xcHghaW1wb3J0YW50O1xuIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAhaW1wb3J0YW50O1xuIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAhaW1wb3J0YW50O1xuIGAsIFtjKCc+JywgW2NCKCdpbnB1dCcsIGBcbiBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uJywgW2NCKCdiYXNlLXNlbGVjdGlvbi1sYWJlbCcsIGBcbiBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXRhZ3MnLCBgXG4gYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMCFpbXBvcnRhbnQ7XG4gYCksIGNFKCdib3gtc2hhZG93LCBib3JkZXIsIHN0YXRlLWJvcmRlcicsIGBcbiBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwIWltcG9ydGFudDtcbiBgKV0pXSldKV0pXSldKTsiLCJleHBvcnQgZnVuY3Rpb24gZGVweCh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh2YWx1ZS5lbmRzV2l0aCgncHgnKSkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZS5zbGljZSgwLCB2YWx1ZS5sZW5ndGggLSAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHB4ZnkodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlfXB4YDtcbiAgICBpZiAodmFsdWUuZW5kc1dpdGgoJ3B4JykpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gYCR7dmFsdWV9cHhgO1xufVxuZXhwb3J0IHsgcHhmeSB9O1xuZnVuY3Rpb24gZ2V0TWFyZ2luKHZhbHVlLCBwb3NpdGlvbikge1xuICAgIGNvbnN0IHBhcnRzID0gdmFsdWUudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xuICAgIGNvbnN0IG1hcmdpbiA9IHtcbiAgICAgICAgdG9wOiBwYXJ0c1swXVxuICAgIH07XG4gICAgc3dpdGNoIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgbWFyZ2luLnJpZ2h0ID0gcGFydHNbMF07XG4gICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gcGFydHNbMF07XG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIG1hcmdpbi5yaWdodCA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBtYXJnaW4ucmlnaHQgPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSBwYXJ0c1syXTtcbiAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gcGFydHNbMV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgbWFyZ2luLnJpZ2h0ID0gcGFydHNbMV07XG4gICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gcGFydHNbMl07XG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IHBhcnRzWzNdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tzZWVtbHkvZ2V0TWFyZ2luXTonICsgdmFsdWUgKyAnIGlzIG5vdCBhIHZhbGlkIHZhbHVlLicpO1xuICAgIH1cbiAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIG1hcmdpbjtcbiAgICByZXR1cm4gbWFyZ2luW3Bvc2l0aW9uXTtcbn1cbmZ1bmN0aW9uIGdldEdhcCh2YWx1ZSwgb3JpZW50KSB7XG4gICAgY29uc3QgW3Jvd0dhcCwgY29sR2FwXSA9IHZhbHVlLnNwbGl0KCcgJyk7XG4gICAgaWYgKCFvcmllbnQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3c6IHJvd0dhcCxcbiAgICAgICAgICAgIGNvbDogY29sR2FwIHx8IHJvd0dhcFxuICAgICAgICB9O1xuICAgIHJldHVybiBvcmllbnQgPT09ICdyb3cnID8gcm93R2FwIDogY29sR2FwO1xufVxuZXhwb3J0IHsgZ2V0TWFyZ2luLCBnZXRNYXJnaW4gYXMgZ2V0UGFkZGluZywgZ2V0R2FwIH07XG5leHBvcnQgeyBwYXJzZVJlc3BvbnNpdmVQcm9wLCBwYXJzZVJlc3BvbnNpdmVQcm9wVmFsdWUgfSBmcm9tICcuL3Jlc3BvbnNpdmUnO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2l2ZVByb3AocmVwb25zaXZlUHJvcCkge1xuICAgIGlmICh0eXBlb2YgcmVwb25zaXZlUHJvcCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJyc6IHJlcG9uc2l2ZVByb3AudG9TdHJpbmcoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICByZXBvbnNpdmVQcm9wLnNwbGl0KC8gKy8pLmZvckVhY2goKHBhaXJMaXRlcmFsKSA9PiB7XG4gICAgICAgIGlmIChwYWlyTGl0ZXJhbCA9PT0gJycpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IFtwcmVmaXgsIHZhbHVlXSA9IHBhaXJMaXRlcmFsLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXNbJyddID0gcHJlZml4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zW3ByZWZpeF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwYXJhbXM7XG59XG5mdW5jdGlvbiBwYXJzZVJlc3BvbnNpdmVQcm9wVmFsdWUocmVwb25zaXZlUHJvcCwgYWN0aXZlS2V5T3JTaXplKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChyZXBvbnNpdmVQcm9wID09PSB1bmRlZmluZWQgfHwgcmVwb25zaXZlUHJvcCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBjbGFzc09iaiA9IHBhcnNlUmVzcG9uc2l2ZVByb3AocmVwb25zaXZlUHJvcCk7XG4gICAgaWYgKGFjdGl2ZUtleU9yU2l6ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gY2xhc3NPYmpbJyddO1xuICAgIGlmICh0eXBlb2YgYWN0aXZlS2V5T3JTaXplID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gKF9hID0gY2xhc3NPYmpbYWN0aXZlS2V5T3JTaXplXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY2xhc3NPYmpbJyddO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFjdGl2ZUtleU9yU2l6ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUtleU9yU2l6ZS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYWN0aXZlS2V5T3JTaXplW2ldO1xuICAgICAgICAgICAgaWYgKGtleSBpbiBjbGFzc09iailcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NPYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xhc3NPYmpbJyddO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSGVyZSB3ZSBzdXBwb3NlIGFsbCB0aGUga2V5cyBhcmUgbnVtYmVyIGZvcm1hdHRlZFxuICAgICAgICBsZXQgYWN0aXZlVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBhY3RpdmVLZXkgPSAtMTtcbiAgICAgICAgT2JqZWN0LmtleXMoY2xhc3NPYmopLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5QXNOdW0gPSBOdW1iZXIoa2V5KTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGtleUFzTnVtKSAmJlxuICAgICAgICAgICAgICAgIGFjdGl2ZUtleU9yU2l6ZSA+PSBrZXlBc051bSAmJlxuICAgICAgICAgICAgICAgIGtleUFzTnVtID49IGFjdGl2ZUtleSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUtleSA9IGtleUFzTnVtO1xuICAgICAgICAgICAgICAgIGFjdGl2ZVZhbHVlID0gY2xhc3NPYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhY3RpdmVWYWx1ZTtcbiAgICB9XG59XG5leHBvcnQgeyBwYXJzZVJlc3BvbnNpdmVQcm9wVmFsdWUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==