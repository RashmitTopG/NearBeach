"use strict";
(self["webpackChunknearbeach"] = self["webpackChunknearbeach"] || []).push([["vendors-node_modules_naive-ui_es_select_src_Select_mjs"],{

/***/ "./node_modules/seemly/es/css/index.js":
/*!*********************************************!*\
  !*** ./node_modules/seemly/es/css/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   depx: () => (/* binding */ depx),
/* harmony export */   getGap: () => (/* binding */ getGap),
/* harmony export */   getMargin: () => (/* binding */ getMargin),
/* harmony export */   getPadding: () => (/* binding */ getMargin),
/* harmony export */   parseResponsiveProp: () => (/* reexport safe */ _responsive__WEBPACK_IMPORTED_MODULE_0__.parseResponsiveProp),
/* harmony export */   parseResponsivePropValue: () => (/* reexport safe */ _responsive__WEBPACK_IMPORTED_MODULE_0__.parseResponsivePropValue),
/* harmony export */   pxfy: () => (/* binding */ pxfy)
/* harmony export */ });
/* harmony import */ var _responsive__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./responsive */ "./node_modules/seemly/es/css/responsive.js");
function depx(value) {
    if (typeof value === 'string') {
        if (value.endsWith('px')) {
            return Number(value.slice(0, value.length - 2));
        }
        return Number(value);
    }
    return value;
}
function pxfy(value) {
    if (value === undefined || value === null)
        return undefined;
    if (typeof value === 'number')
        return `${value}px`;
    if (value.endsWith('px'))
        return value;
    return `${value}px`;
}

function getMargin(value, position) {
    const parts = value.trim().split(/\s+/g);
    const margin = {
        top: parts[0]
    };
    switch (parts.length) {
        case 1:
            margin.right = parts[0];
            margin.bottom = parts[0];
            margin.left = parts[0];
            break;
        case 2:
            margin.right = parts[1];
            margin.left = parts[1];
            margin.bottom = parts[0];
            break;
        case 3:
            margin.right = parts[1];
            margin.bottom = parts[2];
            margin.left = parts[1];
            break;
        case 4:
            margin.right = parts[1];
            margin.bottom = parts[2];
            margin.left = parts[3];
            break;
        default:
            throw new Error('[seemly/getMargin]:' + value + ' is not a valid value.');
    }
    if (position === undefined)
        return margin;
    return margin[position];
}
function getGap(value, orient) {
    const [rowGap, colGap] = value.split(' ');
    if (!orient)
        return {
            row: rowGap,
            col: colGap || rowGap
        };
    return orient === 'row' ? rowGap : colGap;
}




/***/ }),

/***/ "./node_modules/seemly/es/css/responsive.js":
/*!**************************************************!*\
  !*** ./node_modules/seemly/es/css/responsive.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parseResponsiveProp: () => (/* binding */ parseResponsiveProp),
/* harmony export */   parseResponsivePropValue: () => (/* binding */ parseResponsivePropValue)
/* harmony export */ });
function parseResponsiveProp(reponsiveProp) {
    if (typeof reponsiveProp === "number") {
        return {
            '': reponsiveProp.toString()
        };
    }
    const params = {};
    reponsiveProp.split(/ +/).forEach((pairLiteral) => {
        if (pairLiteral === '')
            return;
        const [prefix, value] = pairLiteral.split(':');
        if (value === undefined) {
            params[''] = prefix;
        }
        else {
            params[prefix] = value;
        }
    });
    return params;
}
function parseResponsivePropValue(reponsiveProp, activeKeyOrSize) {
    var _a;
    if (reponsiveProp === undefined || reponsiveProp === null)
        return undefined;
    const classObj = parseResponsiveProp(reponsiveProp);
    if (activeKeyOrSize === undefined)
        return classObj[''];
    if (typeof activeKeyOrSize === 'string') {
        return (_a = classObj[activeKeyOrSize]) !== null && _a !== void 0 ? _a : classObj[''];
    }
    else if (Array.isArray(activeKeyOrSize)) {
        for (let i = activeKeyOrSize.length - 1; i >= 0; --i) {
            const key = activeKeyOrSize[i];
            if (key in classObj)
                return classObj[key];
        }
        return classObj[''];
    }
    else {
        // Here we suppose all the keys are number formatted
        let activeValue = undefined;
        let activeKey = -1;
        Object.keys(classObj).forEach((key) => {
            const keyAsNum = Number(key);
            if (!Number.isNaN(keyAsNum) &&
                activeKeyOrSize >= keyAsNum &&
                keyAsNum >= activeKey) {
                activeKey = keyAsNum;
                activeValue = classObj[key];
            }
        });
        return activeValue;
    }
}



/***/ }),

/***/ "./node_modules/seemly/es/dom/happens-in.js":
/*!**************************************************!*\
  !*** ./node_modules/seemly/es/dom/happens-in.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   happensIn: () => (/* binding */ happensIn)
/* harmony export */ });
function happensIn(e, dataSetPropName) {
    let { target } = e;
    while (target) {
        if (target.dataset) {
            if (target.dataset[dataSetPropName] !== undefined)
                return true;
        }
        target = target.parentElement;
    }
    return false;
}


/***/ }),

/***/ "./node_modules/treemate/es/check.js":
/*!*******************************************!*\
  !*** ./node_modules/treemate/es/check.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SubtreeNotLoadedError: () => (/* binding */ SubtreeNotLoadedError),
/* harmony export */   getCheckedKeys: () => (/* binding */ getCheckedKeys),
/* harmony export */   getExtendedCheckedKeySet: () => (/* binding */ getExtendedCheckedKeySet)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/treemate/es/utils.js");

class SubtreeNotLoadedError extends Error {
    constructor() {
        super();
        this.message =
            'SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded.';
    }
}
function getExtendedCheckedKeySetAfterCheck(checkKeys, currentCheckedKeys, treeMate, allowNotLoaded) {
    return getExtendedCheckedKeySet(currentCheckedKeys.concat(checkKeys), treeMate, allowNotLoaded, false);
}
function getAvailableAscendantNodeSet(uncheckedKeys, treeMate) {
    const visitedKeys = new Set();
    uncheckedKeys.forEach((uncheckedKey) => {
        const uncheckedTreeNode = treeMate.treeNodeMap.get(uncheckedKey);
        if (uncheckedTreeNode !== undefined) {
            let nodeCursor = uncheckedTreeNode.parent;
            while (nodeCursor !== null) {
                if (nodeCursor.disabled)
                    break;
                if (visitedKeys.has(nodeCursor.key))
                    break;
                else {
                    visitedKeys.add(nodeCursor.key);
                }
                nodeCursor = nodeCursor.parent;
            }
        }
    });
    return visitedKeys;
}
function getExtendedCheckedKeySetAfterUncheck(uncheckedKeys, currentCheckedKeys, treeMate, allowNotLoaded) {
    const extendedCheckedKeySet = getExtendedCheckedKeySet(currentCheckedKeys, treeMate, allowNotLoaded, false);
    const extendedKeySetToUncheck = getExtendedCheckedKeySet(uncheckedKeys, treeMate, allowNotLoaded, true);
    const ascendantKeySet = getAvailableAscendantNodeSet(uncheckedKeys, treeMate);
    const keysToRemove = [];
    extendedCheckedKeySet.forEach((key) => {
        if (extendedKeySetToUncheck.has(key) || ascendantKeySet.has(key)) {
            keysToRemove.push(key);
        }
    });
    keysToRemove.forEach((key) => extendedCheckedKeySet.delete(key));
    return extendedCheckedKeySet;
}
function getCheckedKeys(options, treeMate) {
    const { checkedKeys, keysToCheck, keysToUncheck, indeterminateKeys, cascade, leafOnly, checkStrategy, allowNotLoaded } = options;
    if (!cascade) {
        if (keysToCheck !== undefined) {
            return {
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.merge)(checkedKeys, keysToCheck),
                indeterminateKeys: Array.from(indeterminateKeys)
            };
        }
        else if (keysToUncheck !== undefined) {
            return {
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.minus)(checkedKeys, keysToUncheck),
                indeterminateKeys: Array.from(indeterminateKeys)
            };
        }
        else {
            return {
                checkedKeys: Array.from(checkedKeys),
                indeterminateKeys: Array.from(indeterminateKeys)
            };
        }
    }
    const { levelTreeNodeMap } = treeMate;
    let extendedCheckedKeySet;
    if (keysToUncheck !== undefined) {
        extendedCheckedKeySet = getExtendedCheckedKeySetAfterUncheck(keysToUncheck, checkedKeys, treeMate, allowNotLoaded);
    }
    else if (keysToCheck !== undefined) {
        extendedCheckedKeySet = getExtendedCheckedKeySetAfterCheck(keysToCheck, checkedKeys, treeMate, allowNotLoaded);
    }
    else {
        extendedCheckedKeySet = getExtendedCheckedKeySet(checkedKeys, treeMate, allowNotLoaded, false);
    }
    const checkStrategyIsParent = checkStrategy === 'parent';
    const checkStrategyIsChild = checkStrategy === 'child' || leafOnly;
    const syntheticCheckedKeySet = extendedCheckedKeySet;
    const syntheticIndeterminateKeySet = new Set();
    const maxLevel = Math.max.apply(null, Array.from(levelTreeNodeMap.keys()));
    // cascade check
    // 1. if tree is fully loaded, it just works
    // 2. if the tree is not fully loaded, we assume that keys which is in not
    //    loaded tree are not in checked keys
    //    for example:
    //    a -- b(fully-loaded)   -- c(fully-loaded)
    //      |- d(partial-loaded) -- ?e(not-loaded)
    //    in the case, `e` is assumed not to be checked, nor we can't calc `d`'s
    //    and `a`'s status
    for (let level = maxLevel; level >= 0; level -= 1) {
        const levelIsZero = level === 0;
        // it should exists, nor it is a bug
        const levelTreeNodes = levelTreeNodeMap.get(level);
        for (const levelTreeNode of levelTreeNodes) {
            if (levelTreeNode.isLeaf)
                continue;
            const { key: levelTreeNodeKey, shallowLoaded } = levelTreeNode;
            if (checkStrategyIsChild && shallowLoaded) {
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                levelTreeNode.children.forEach((v) => {
                    if (!v.disabled &&
                        !v.isLeaf &&
                        v.shallowLoaded &&
                        syntheticCheckedKeySet.has(v.key)) {
                        syntheticCheckedKeySet.delete(v.key);
                    }
                });
            }
            if (levelTreeNode.disabled || !shallowLoaded) {
                continue;
            }
            let fullyChecked = true;
            let partialChecked = false;
            let allDisabled = true;
            // it is shallow loaded, so `children` must exist
            for (const childNode of levelTreeNode.children) {
                const childKey = childNode.key;
                if (childNode.disabled)
                    continue;
                if (allDisabled)
                    allDisabled = false;
                if (syntheticCheckedKeySet.has(childKey)) {
                    partialChecked = true;
                }
                else if (syntheticIndeterminateKeySet.has(childKey)) {
                    partialChecked = true;
                    fullyChecked = false;
                    break;
                }
                else {
                    fullyChecked = false;
                    if (partialChecked) {
                        break;
                    }
                }
            }
            if (fullyChecked && !allDisabled) {
                if (checkStrategyIsParent) {
                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                    levelTreeNode.children.forEach((v) => {
                        if (!v.disabled && syntheticCheckedKeySet.has(v.key)) {
                            syntheticCheckedKeySet.delete(v.key);
                        }
                    });
                }
                syntheticCheckedKeySet.add(levelTreeNodeKey);
            }
            else if (partialChecked) {
                syntheticIndeterminateKeySet.add(levelTreeNodeKey);
            }
            if (levelIsZero &&
                checkStrategyIsChild &&
                syntheticCheckedKeySet.has(levelTreeNodeKey)) {
                syntheticCheckedKeySet.delete(levelTreeNodeKey);
            }
        }
    }
    return {
        checkedKeys: Array.from(syntheticCheckedKeySet),
        indeterminateKeys: Array.from(syntheticIndeterminateKeySet)
    };
}
// unchecking is safe when doing cascade uncheck in async mode
function getExtendedCheckedKeySet(checkedKeys, treeMate, allowNotLoaded, isUnchecking) {
    const { treeNodeMap, getChildren } = treeMate;
    const visitedKeySet = new Set();
    const extendedKeySet = new Set(checkedKeys);
    checkedKeys.forEach((checkedKey) => {
        const checkedTreeNode = treeNodeMap.get(checkedKey);
        if (checkedTreeNode !== undefined) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.traverseWithCb)(checkedTreeNode, (treeNode) => {
                if (treeNode.disabled) {
                    return _utils__WEBPACK_IMPORTED_MODULE_0__.TRAVERSE_COMMAND.STOP;
                }
                const { key } = treeNode;
                if (visitedKeySet.has(key))
                    return;
                visitedKeySet.add(key);
                // Adding keys before loaded check is okay, since if not valid error
                // would be thrown
                extendedKeySet.add(key);
                if ((0,_utils__WEBPACK_IMPORTED_MODULE_0__.isExpilicitlyNotLoaded)(treeNode.rawNode, getChildren)) {
                    if (isUnchecking) {
                        return _utils__WEBPACK_IMPORTED_MODULE_0__.TRAVERSE_COMMAND.STOP;
                    }
                    else if (!allowNotLoaded) {
                        throw new SubtreeNotLoadedError();
                    }
                }
            });
        }
    });
    return extendedKeySet;
}


/***/ }),

/***/ "./node_modules/treemate/es/contains.js":
/*!**********************************************!*\
  !*** ./node_modules/treemate/es/contains.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   contains: () => (/* binding */ contains)
/* harmony export */ });
function contains(parent, child) {
    const parentKey = parent.key;
    // eslint-disable-next-line no-unmodified-loop-condition
    while (child) {
        if (child.key === parentKey)
            return true;
        child = child.parent;
    }
    return false;
}


/***/ }),

/***/ "./node_modules/treemate/es/create.js":
/*!********************************************!*\
  !*** ./node_modules/treemate/es/create.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createTreeMate: () => (/* binding */ createTreeMate)
/* harmony export */ });
/* harmony import */ var _check__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./check */ "./node_modules/treemate/es/check.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/treemate/es/utils.js");
/* harmony import */ var _path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./path */ "./node_modules/treemate/es/path.js");
/* harmony import */ var _move__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./move */ "./node_modules/treemate/es/move.js");
/* harmony import */ var _flatten__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flatten */ "./node_modules/treemate/es/flatten.js");
/* harmony import */ var _contains__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contains */ "./node_modules/treemate/es/contains.js");






function createTreeNodes(rawNodes, treeNodeMap, levelTreeNodeMap, nodeProto, getChildren, parent = null, level = 0) {
    const treeNodes = [];
    rawNodes.forEach((rawNode, index) => {
        var _a;
        if ( true &&
            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isNodeInvalid)(rawNode, getChildren)) {
            console.error('[treemate]: node', rawNode, 'is invalid');
        }
        const treeNode = Object.create(nodeProto);
        treeNode.rawNode = rawNode;
        treeNode.siblings = treeNodes;
        treeNode.level = level;
        treeNode.index = index;
        treeNode.isFirstChild = index === 0;
        treeNode.isLastChild = index + 1 === rawNodes.length;
        treeNode.parent = parent;
        if (!treeNode.ignored) {
            const rawChildren = getChildren(rawNode);
            if (Array.isArray(rawChildren)) {
                treeNode.children = createTreeNodes(rawChildren, treeNodeMap, levelTreeNodeMap, nodeProto, getChildren, treeNode, level + 1);
            }
        }
        treeNodes.push(treeNode);
        treeNodeMap.set(treeNode.key, treeNode);
        if (!levelTreeNodeMap.has(level))
            levelTreeNodeMap.set(level, []);
        (_a = levelTreeNodeMap.get(level)) === null || _a === void 0 ? void 0 : _a.push(treeNode);
    });
    return treeNodes;
}
function createTreeMate(rawNodes, options = {}) {
    var _a;
    const treeNodeMap = new Map();
    const levelTreeNodeMap = new Map();
    const { getDisabled = _utils__WEBPACK_IMPORTED_MODULE_0__.isDisabled, getIgnored = _utils__WEBPACK_IMPORTED_MODULE_0__.isIgnored, getIsGroup = _utils__WEBPACK_IMPORTED_MODULE_0__.isGroup, getKey = _utils__WEBPACK_IMPORTED_MODULE_0__.defaultGetKey } = options;
    const _getChildren = (_a = options.getChildren) !== null && _a !== void 0 ? _a : _utils__WEBPACK_IMPORTED_MODULE_0__.defaultGetChildren;
    const getChildren = options.ignoreEmptyChildren
        ? (node) => {
            const children = _getChildren(node);
            if (Array.isArray(children)) {
                if (!children.length)
                    return null;
                return children;
            }
            return children;
        }
        : _getChildren;
    const nodeProto = Object.assign({
        get key() {
            // do not pass parent or related things to it
            // the key need to be specified explicitly
            return getKey(this.rawNode);
        },
        get disabled() {
            return getDisabled(this.rawNode);
        },
        get isGroup() {
            return getIsGroup(this.rawNode);
        },
        get isLeaf() {
            return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isLeaf)(this.rawNode, getChildren);
        },
        get shallowLoaded() {
            return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isShallowLoaded)(this.rawNode, getChildren);
        },
        get ignored() {
            return getIgnored(this.rawNode);
        },
        contains(node) {
            return (0,_contains__WEBPACK_IMPORTED_MODULE_1__.contains)(this, node);
        }
    }, _move__WEBPACK_IMPORTED_MODULE_2__.moveMethods);
    const treeNodes = createTreeNodes(rawNodes, treeNodeMap, levelTreeNodeMap, nodeProto, getChildren);
    function getNode(key) {
        if (key === null || key === undefined)
            return null;
        const tmNode = treeNodeMap.get(key);
        if (tmNode && !tmNode.isGroup && !tmNode.ignored) {
            return tmNode;
        }
        return null;
    }
    function _getNode(key) {
        if (key === null || key === undefined)
            return null;
        const tmNode = treeNodeMap.get(key);
        if (tmNode && !tmNode.ignored) {
            return tmNode;
        }
        return null;
    }
    function getPrev(key, options) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getPrev(options);
    }
    function getNext(key, options) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getNext(options);
    }
    function getParent(key) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getParent();
    }
    function getChild(key) {
        const node = _getNode(key);
        if (!node)
            return null;
        return node.getChild();
    }
    const treemate = {
        treeNodes,
        treeNodeMap,
        levelTreeNodeMap,
        maxLevel: Math.max(...levelTreeNodeMap.keys()),
        getChildren,
        getFlattenedNodes(expandedKeys) {
            return (0,_flatten__WEBPACK_IMPORTED_MODULE_3__.flatten)(treeNodes, expandedKeys);
        },
        getNode,
        getPrev,
        getNext,
        getParent,
        getChild,
        getFirstAvailableNode() {
            return (0,_move__WEBPACK_IMPORTED_MODULE_2__.getFirstAvailableNode)(treeNodes);
        },
        getPath(key, options = {}) {
            return (0,_path__WEBPACK_IMPORTED_MODULE_4__.getPath)(key, options, treemate);
        },
        getCheckedKeys(checkedKeys, options = {}) {
            const { cascade = true, leafOnly = false, checkStrategy = 'all', allowNotLoaded = false } = options;
            return (0,_check__WEBPACK_IMPORTED_MODULE_5__.getCheckedKeys)({
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapCheckedKeys)(checkedKeys),
                indeterminateKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapIndeterminateKeys)(checkedKeys),
                cascade,
                leafOnly,
                checkStrategy,
                allowNotLoaded
            }, treemate);
        },
        check(keysToCheck, checkedKeys, options = {}) {
            const { cascade = true, leafOnly = false, checkStrategy = 'all', allowNotLoaded = false } = options;
            return (0,_check__WEBPACK_IMPORTED_MODULE_5__.getCheckedKeys)({
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapCheckedKeys)(checkedKeys),
                indeterminateKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapIndeterminateKeys)(checkedKeys),
                keysToCheck: keysToCheck === undefined || keysToCheck === null
                    ? []
                    : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.toArray)(keysToCheck),
                cascade,
                leafOnly,
                checkStrategy,
                allowNotLoaded
            }, treemate);
        },
        uncheck(keysToUncheck, checkedKeys, options = {}) {
            const { cascade = true, leafOnly = false, checkStrategy = 'all', allowNotLoaded = false } = options;
            return (0,_check__WEBPACK_IMPORTED_MODULE_5__.getCheckedKeys)({
                checkedKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapCheckedKeys)(checkedKeys),
                indeterminateKeys: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.unwrapIndeterminateKeys)(checkedKeys),
                keysToUncheck: keysToUncheck === null || keysToUncheck === undefined
                    ? []
                    : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.toArray)(keysToUncheck),
                cascade,
                leafOnly,
                checkStrategy,
                allowNotLoaded
            }, treemate);
        },
        getNonLeafKeys(options = {}) {
            return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getNonLeafKeys)(treeNodes, options);
        }
    };
    return treemate;
}


/***/ }),

/***/ "./node_modules/treemate/es/flatten.js":
/*!*********************************************!*\
  !*** ./node_modules/treemate/es/flatten.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   flatten: () => (/* binding */ flatten)
/* harmony export */ });
function flatten(treeNodes, expandedKeys) {
    const expandedKeySet = expandedKeys ? new Set(expandedKeys) : undefined;
    const flattenedNodes = [];
    function traverse(treeNodes) {
        treeNodes.forEach((treeNode) => {
            flattenedNodes.push(treeNode);
            if (treeNode.isLeaf || !treeNode.children || treeNode.ignored)
                return;
            if (treeNode.isGroup) {
                // group node shouldn't be expanded
                traverse(treeNode.children);
            }
            else if (
            // normal non-leaf node
            expandedKeySet === undefined ||
                expandedKeySet.has(treeNode.key)) {
                traverse(treeNode.children);
            }
        });
    }
    traverse(treeNodes);
    return flattenedNodes;
}


/***/ }),

/***/ "./node_modules/treemate/es/move.js":
/*!******************************************!*\
  !*** ./node_modules/treemate/es/move.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFirstAvailableNode: () => (/* binding */ getFirstAvailableNode),
/* harmony export */   moveMethods: () => (/* binding */ moveMethods)
/* harmony export */ });
function getFirstAvailableNode(nodes) {
    if (nodes.length === 0)
        return null;
    const node = nodes[0];
    if (node.isGroup || node.ignored || node.disabled) {
        return node.getNext();
    }
    return node;
}
function rawGetNext(node, loop) {
    const sibs = node.siblings;
    const l = sibs.length;
    const { index } = node;
    if (loop) {
        return sibs[(index + 1) % l];
    }
    else {
        if (index === sibs.length - 1)
            return null;
        return sibs[index + 1];
    }
}
function move(fromNode, dir, { loop = false, includeDisabled = false } = {}) {
    const iterate = dir === 'prev' ? rawGetPrev : rawGetNext;
    const getChildOptions = {
        reverse: dir === 'prev'
    };
    let meet = false;
    let endNode = null;
    function traverse(node) {
        if (node === null)
            return;
        if (node === fromNode) {
            if (!meet) {
                meet = true;
            }
            else if (!fromNode.disabled && !fromNode.isGroup) {
                endNode = fromNode;
                return;
            }
        }
        else {
            if ((!node.disabled || includeDisabled) &&
                !node.ignored &&
                !node.isGroup) {
                endNode = node;
                return;
            }
        }
        if (node.isGroup) {
            const child = getChild(node, getChildOptions);
            if (child !== null) {
                endNode = child;
            }
            else {
                traverse(iterate(node, loop));
            }
        }
        else {
            const nextNode = iterate(node, false);
            if (nextNode !== null) {
                traverse(nextNode);
            }
            else {
                const parent = rawGetParent(node);
                if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {
                    traverse(iterate(parent, loop));
                }
                else if (loop) {
                    traverse(iterate(node, true));
                }
            }
        }
    }
    traverse(fromNode);
    return endNode;
}
function rawGetPrev(node, loop) {
    const sibs = node.siblings;
    const l = sibs.length;
    const { index } = node;
    if (loop) {
        return sibs[(index - 1 + l) % l];
    }
    else {
        if (index === 0)
            return null;
        return sibs[index - 1];
    }
}
function rawGetParent(node) {
    return node.parent;
}
function getChild(node, options = {}) {
    const { reverse = false } = options;
    const { children } = node;
    if (children) {
        const { length } = children;
        const start = reverse ? length - 1 : 0;
        const end = reverse ? -1 : length;
        const delta = reverse ? -1 : 1;
        for (let i = start; i !== end; i += delta) {
            const child = children[i];
            if (!child.disabled && !child.ignored) {
                if (child.isGroup) {
                    const childInGroup = getChild(child, options);
                    if (childInGroup !== null)
                        return childInGroup;
                }
                else {
                    return child;
                }
            }
        }
    }
    return null;
}
const moveMethods = {
    getChild() {
        if (this.ignored)
            return null;
        return getChild(this);
    },
    getParent() {
        const { parent } = this;
        if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {
            return parent.getParent();
        }
        return parent;
    },
    getNext(options = {}) {
        return move(this, 'next', options);
    },
    getPrev(options = {}) {
        return move(this, 'prev', options);
    }
};


/***/ }),

/***/ "./node_modules/treemate/es/path.js":
/*!******************************************!*\
  !*** ./node_modules/treemate/es/path.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getPath: () => (/* binding */ getPath)
/* harmony export */ });
function getPath(key, { includeGroup = false, includeSelf = true }, treeMate) {
    var _a;
    const treeNodeMap = treeMate.treeNodeMap;
    let treeNode = key === null || key === undefined ? null : (_a = treeNodeMap.get(key)) !== null && _a !== void 0 ? _a : null;
    const mergedPath = {
        keyPath: [],
        treeNodePath: [],
        treeNode: treeNode
    };
    if (treeNode === null || treeNode === void 0 ? void 0 : treeNode.ignored) {
        mergedPath.treeNode = null;
        return mergedPath;
    }
    while (treeNode) {
        if (!treeNode.ignored && (includeGroup || !treeNode.isGroup)) {
            mergedPath.treeNodePath.push(treeNode);
        }
        treeNode = treeNode.parent;
    }
    mergedPath.treeNodePath.reverse();
    if (!includeSelf)
        mergedPath.treeNodePath.pop();
    mergedPath.keyPath = mergedPath.treeNodePath.map((treeNode) => treeNode.key);
    return mergedPath;
}


/***/ }),

/***/ "./node_modules/treemate/es/utils.js":
/*!*******************************************!*\
  !*** ./node_modules/treemate/es/utils.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TRAVERSE_COMMAND: () => (/* binding */ TRAVERSE_COMMAND),
/* harmony export */   createIndexGetter: () => (/* binding */ createIndexGetter),
/* harmony export */   defaultGetChildren: () => (/* binding */ defaultGetChildren),
/* harmony export */   defaultGetKey: () => (/* binding */ defaultGetKey),
/* harmony export */   getNonLeafKeys: () => (/* binding */ getNonLeafKeys),
/* harmony export */   isDisabled: () => (/* binding */ isDisabled),
/* harmony export */   isExpilicitlyNotLoaded: () => (/* binding */ isExpilicitlyNotLoaded),
/* harmony export */   isGroup: () => (/* binding */ isGroup),
/* harmony export */   isIgnored: () => (/* binding */ isIgnored),
/* harmony export */   isLeaf: () => (/* binding */ isLeaf),
/* harmony export */   isNodeInvalid: () => (/* binding */ isNodeInvalid),
/* harmony export */   isShallowLoaded: () => (/* binding */ isShallowLoaded),
/* harmony export */   merge: () => (/* binding */ merge),
/* harmony export */   minus: () => (/* binding */ minus),
/* harmony export */   toArray: () => (/* binding */ toArray),
/* harmony export */   traverseWithCb: () => (/* binding */ traverseWithCb),
/* harmony export */   unwrapCheckedKeys: () => (/* binding */ unwrapCheckedKeys),
/* harmony export */   unwrapIndeterminateKeys: () => (/* binding */ unwrapIndeterminateKeys)
/* harmony export */ });
function toArray(arg) {
    if (Array.isArray(arg))
        return arg;
    return [arg];
}
// Do not use enum for lint plugin has error
const TRAVERSE_COMMAND = {
    STOP: 'STOP'
};
function traverseWithCb(treeNode, callback) {
    const command = callback(treeNode);
    if (treeNode.children !== undefined && command !== TRAVERSE_COMMAND.STOP) {
        treeNode.children.forEach((childNode) => traverseWithCb(childNode, callback));
    }
}
function getNonLeafKeys(treeNodes, options = {}) {
    const { preserveGroup = false } = options;
    const keys = [];
    const cb = preserveGroup
        ? (node) => {
            if (!node.isLeaf) {
                keys.push(node.key);
                traverse(node.children);
            }
        }
        : (node) => {
            if (!node.isLeaf) {
                if (!node.isGroup)
                    keys.push(node.key);
                traverse(node.children);
            }
        };
    function traverse(nodes) {
        nodes.forEach(cb);
    }
    traverse(treeNodes);
    return keys;
}
function isLeaf(rawNode, getChildren) {
    const { isLeaf } = rawNode;
    if (isLeaf !== undefined)
        return isLeaf;
    else if (!getChildren(rawNode))
        return true;
    return false;
}
function defaultGetChildren(node) {
    return node.children;
}
function defaultGetKey(node) {
    return node.key;
}
function isIgnored() {
    return false;
}
function isShallowLoaded(rawNode, getChildren) {
    const { isLeaf } = rawNode;
    if (isLeaf === false && !Array.isArray(getChildren(rawNode)))
        return false;
    return true;
}
function isDisabled(rawNode) {
    return rawNode.disabled === true;
}
function isExpilicitlyNotLoaded(rawNode, getChildren) {
    return (rawNode.isLeaf === false && !Array.isArray(getChildren(rawNode)));
}
function isNodeInvalid(rawNode, getChildren) {
    if (rawNode.isLeaf === true) {
        const children = getChildren(rawNode);
        if (Array.isArray(children) && children.length > 0)
            return true;
    }
    return false;
}
function unwrapCheckedKeys(result) {
    var _a;
    if (result === undefined || result === null)
        return [];
    if (Array.isArray(result))
        return result;
    return (_a = result.checkedKeys) !== null && _a !== void 0 ? _a : [];
}
function unwrapIndeterminateKeys(result) {
    var _a;
    if (result === undefined || result === null || Array.isArray(result)) {
        return [];
    }
    return (_a = result.indeterminateKeys) !== null && _a !== void 0 ? _a : [];
}
function merge(originalKeys, keysToAdd) {
    const set = new Set(originalKeys);
    keysToAdd.forEach((key) => {
        if (!set.has(key)) {
            set.add(key);
        }
    });
    return Array.from(set);
}
function minus(originalKeys, keysToRemove) {
    const set = new Set(originalKeys);
    keysToRemove.forEach((key) => {
        if (set.has(key)) {
            set.delete(key);
        }
    });
    return Array.from(set);
}
function isGroup(rawNode) {
    return (rawNode === null || rawNode === void 0 ? void 0 : rawNode.type) === 'group';
}
function createIndexGetter(treeNodes) {
    const map = new Map();
    treeNodes.forEach((treeNode, i) => {
        map.set(treeNode.key, i);
    });
    return (key) => { var _a; return (_a = map.get(key)) !== null && _a !== void 0 ? _a : null; };
}


/***/ }),

/***/ "./node_modules/vueuc/es/overflow/src/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/vueuc/es/overflow/src/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _css_render_vue3_ssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @css-render/vue3-ssr */ "./node_modules/@css-render/vue3-ssr/esm/index.js");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "./node_modules/vueuc/es/shared/cssr.js");
/* eslint-disable @typescript-eslint/strict-boolean-expressions */



const hiddenAttr = 'v-hidden';
const style = (0,_shared__WEBPACK_IMPORTED_MODULE_1__.c)('[v-hidden]', {
    display: 'none!important'
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'Overflow',
    props: {
        getCounter: Function,
        getTail: Function,
        updateCounter: Function,
        onUpdateCount: Function,
        onUpdateOverflow: Function
    },
    setup(props, { slots }) {
        const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const counterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        function deriveCounter(options) {
            const { value: self } = selfRef;
            const { getCounter, getTail } = props;
            let counter;
            if (getCounter !== undefined)
                counter = getCounter();
            else {
                counter = counterRef.value;
            }
            if (!self || !counter)
                return;
            if (counter.hasAttribute(hiddenAttr)) {
                counter.removeAttribute(hiddenAttr);
            }
            const { children } = self;
            if (options.showAllItemsBeforeCalculate) {
                for (const child of children) {
                    if (child.hasAttribute(hiddenAttr)) {
                        child.removeAttribute(hiddenAttr);
                    }
                }
            }
            const containerWidth = self.offsetWidth;
            const childWidths = [];
            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;
            let childWidthSum = tail ? tail.offsetWidth : 0;
            let overflow = false;
            const len = self.children.length - (slots.tail ? 1 : 0);
            for (let i = 0; i < len - 1; ++i) {
                if (i < 0)
                    continue;
                const child = children[i];
                if (overflow) {
                    if (!child.hasAttribute(hiddenAttr)) {
                        child.setAttribute(hiddenAttr, '');
                    }
                    continue;
                }
                else if (child.hasAttribute(hiddenAttr)) {
                    child.removeAttribute(hiddenAttr);
                }
                const childWidth = child.offsetWidth;
                childWidthSum += childWidth;
                childWidths[i] = childWidth;
                if (childWidthSum > containerWidth) {
                    const { updateCounter } = props;
                    for (let j = i; j >= 0; --j) {
                        const restCount = len - 1 - j;
                        if (updateCounter !== undefined) {
                            updateCounter(restCount);
                        }
                        else {
                            counter.textContent = `${restCount}`;
                        }
                        const counterWidth = counter.offsetWidth;
                        childWidthSum -= childWidths[j];
                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {
                            overflow = true;
                            i = j - 1;
                            if (tail) {
                                // tail too long or 1st element too long
                                // we only consider tail now
                                if (i === -1) {
                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;
                                    tail.style.boxSizing = 'border-box';
                                }
                                else {
                                    tail.style.maxWidth = '';
                                }
                            }
                            const { onUpdateCount } = props;
                            if (onUpdateCount)
                                onUpdateCount(restCount);
                            break;
                        }
                    }
                }
            }
            const { onUpdateOverflow } = props;
            if (!overflow) {
                if (onUpdateOverflow !== undefined) {
                    onUpdateOverflow(false);
                }
                counter.setAttribute(hiddenAttr, '');
            }
            else {
                if (onUpdateOverflow !== undefined) {
                    onUpdateOverflow(true);
                }
            }
        }
        const ssrAdapter = (0,_css_render_vue3_ssr__WEBPACK_IMPORTED_MODULE_2__.useSsrAdapter)();
        style.mount({
            id: 'vueuc/overflow',
            head: true,
            anchorMetaName: _shared__WEBPACK_IMPORTED_MODULE_1__.cssrAnchorMetaName,
            ssr: ssrAdapter
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => deriveCounter({
            showAllItemsBeforeCalculate: false
        }));
        // besides onMounted, other case should be manually triggered, or we shoud watch items
        return {
            selfRef,
            counterRef,
            sync: deriveCounter
        };
    },
    render() {
        const { $slots } = this;
        // eslint-disable-next-line @typescript-eslint/no-floating-promises
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(() => this.sync({
            showAllItemsBeforeCalculate: false
        }));
        // It shouldn't have border
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', {
            class: 'v-overflow',
            ref: 'selfRef'
        }, [
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)($slots, 'default'),
            // $slots.counter should only has 1 element
            $slots.counter
                ? $slots.counter()
                : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('span', {
                    style: {
                        display: 'inline-block'
                    },
                    ref: 'counterRef'
                }),
            // $slots.tail should only has 1 element
            $slots.tail ? $slots.tail() : null
        ]);
    }
}));


/***/ }),

/***/ "./node_modules/vueuc/es/shared/finweck-tree.js":
/*!******************************************************!*\
  !*** ./node_modules/vueuc/es/shared/finweck-tree.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FinweckTree: () => (/* binding */ FinweckTree)
/* harmony export */ });
function lowBit(n) {
    return n & -n;
}
class FinweckTree {
    /**
     * @param l length of the array
     * @param min min value of the array
     */
    constructor(l, min) {
        this.l = l;
        this.min = min;
        const ft = new Array(l + 1);
        for (let i = 0; i < l + 1; ++i) {
            ft[i] = 0;
        }
        this.ft = ft;
    }
    /**
     * Add arr[i] by n, start from 0
     * @param i the index of the element to be added
     * @param n the value to be added
     */
    add(i, n) {
        if (n === 0)
            return;
        const { l, ft } = this;
        i += 1;
        while (i <= l) {
            ft[i] += n;
            i += lowBit(i);
        }
    }
    /**
     * Get the value of index i
     * @param i index
     * @returns value of the index
     */
    get(i) {
        return this.sum(i + 1) - this.sum(i);
    }
    /**
     * Get the sum of first i elements
     * @param i count of head elements to be added
     * @returns the sum of first i elements
     */
    sum(i) {
        if (i === undefined)
            i = this.l;
        if (i <= 0)
            return 0;
        const { ft, min, l } = this;
        if (i > l)
            throw new Error('[FinweckTree.sum]: `i` is larger than length.');
        let ret = i * min;
        while (i > 0) {
            ret += ft[i];
            i -= lowBit(i);
        }
        return ret;
    }
    /**
     * Get the largest count of head elements whose sum are <= threshold
     * @param threshold
     * @returns the largest count of head elements whose sum are <= threshold
     */
    getBound(threshold) {
        let l = 0;
        let r = this.l;
        while (r > l) {
            const m = Math.floor((l + r) / 2);
            const sumM = this.sum(m);
            if (sumM > threshold) {
                r = m;
                continue;
            }
            else if (sumM < threshold) {
                if (l === m) {
                    if (this.sum(l + 1) <= threshold)
                        return l + 1;
                    return m;
                }
                l = m;
            }
            else {
                return m;
            }
        }
        return l;
    }
}


/***/ }),

/***/ "./node_modules/vueuc/es/virtual-list/src/VirtualList.js":
/*!***************************************************************!*\
  !*** ./node_modules/vueuc/es/virtual-list/src/VirtualList.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/css/index.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/animation/next-frame-once.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-memo.js");
/* harmony import */ var _css_render_vue3_ssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @css-render/vue3-ssr */ "./node_modules/@css-render/vue3-ssr/esm/index.js");
/* harmony import */ var _resize_observer_src_VResizeObserver__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../resize-observer/src/VResizeObserver */ "./node_modules/vueuc/es/resize-observer/src/VResizeObserver.js");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "./node_modules/vueuc/es/shared/cssr.js");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared */ "./node_modules/vueuc/es/shared/finweck-tree.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config */ "./node_modules/vueuc/es/virtual-list/src/config.js");
/* eslint-disable no-void */
/* eslint-disable @typescript-eslint/restrict-plus-operands */







const styles = (0,_shared__WEBPACK_IMPORTED_MODULE_1__.c)('.v-vl', {
    maxHeight: 'inherit',
    height: '100%',
    overflow: 'auto',
    minWidth: '1px' // a zero width container won't be scrollable
}, [
    (0,_shared__WEBPACK_IMPORTED_MODULE_1__.c)('&:not(.v-vl--show-scrollbar)', {
        scrollbarWidth: 'none'
    }, [
        (0,_shared__WEBPACK_IMPORTED_MODULE_1__.c)('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {
            width: 0,
            height: 0,
            display: 'none'
        })
    ])
]);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
    name: 'VirtualList',
    inheritAttrs: false,
    props: {
        showScrollbar: {
            type: Boolean,
            default: true
        },
        items: {
            type: Array,
            default: () => []
        },
        // it is suppose to be the min height
        itemSize: {
            type: Number,
            required: true
        },
        itemResizable: Boolean,
        itemsStyle: [String, Object],
        visibleItemsTag: {
            type: [String, Object],
            default: 'div'
        },
        visibleItemsProps: Object,
        ignoreItemResize: Boolean,
        onScroll: Function,
        onWheel: Function,
        onResize: Function,
        defaultScrollKey: [Number, String],
        defaultScrollIndex: Number,
        keyField: {
            type: String,
            default: 'key'
        },
        // Whether it is a good API?
        // ResizeObserver + footer & header is not enough.
        // Too complex for simple case
        paddingTop: {
            type: [Number, String],
            default: 0
        },
        paddingBottom: {
            type: [Number, String],
            default: 0
        }
    },
    setup(props) {
        const ssrAdapter = (0,_css_render_vue3_ssr__WEBPACK_IMPORTED_MODULE_2__.useSsrAdapter)();
        styles.mount({
            id: 'vueuc/virtual-list',
            head: true,
            anchorMetaName: _shared__WEBPACK_IMPORTED_MODULE_1__.cssrAnchorMetaName,
            ssr: ssrAdapter
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
            const { defaultScrollIndex, defaultScrollKey } = props;
            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {
                scrollTo({ index: defaultScrollIndex });
            }
            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {
                scrollTo({ key: defaultScrollKey });
            }
        });
        let isDeactivated = false;
        let activateStateInitialized = false;
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onActivated)(() => {
            isDeactivated = false;
            if (!activateStateInitialized) {
                activateStateInitialized = true;
                return;
            }
            // remount
            scrollTo({ top: scrollTopRef.value, left: scrollLeft });
        });
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onDeactivated)(() => {
            isDeactivated = true;
            if (!activateStateInitialized) {
                activateStateInitialized = true;
            }
        });
        const keyIndexMapRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const map = new Map();
            const { keyField } = props;
            props.items.forEach((item, index) => {
                map.set(item[keyField], index);
            });
            return map;
        });
        const listElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
        const listHeightRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(undefined);
        const keyToHeightOffset = new Map();
        const finweckTreeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { items, itemSize, keyField } = props;
            const ft = new _shared__WEBPACK_IMPORTED_MODULE_3__.FinweckTree(items.length, itemSize);
            items.forEach((item, index) => {
                const key = item[keyField];
                const heightOffset = keyToHeightOffset.get(key);
                if (heightOffset !== undefined) {
                    ft.add(index, heightOffset);
                }
            });
            return ft;
        });
        const finweckTreeUpdateTrigger = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);
        let scrollLeft = 0;
        const scrollTopRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(0);
        const startIndexRef = (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - (0,seemly__WEBPACK_IMPORTED_MODULE_5__.depx)(props.paddingTop)) - 1, 0);
        });
        const viewportItemsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
            const { value: listHeight } = listHeightRef;
            if (listHeight === undefined)
                return [];
            const { items, itemSize } = props;
            const startIndex = startIndexRef.value;
            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);
            const viewportItems = [];
            for (let i = startIndex; i <= endIndex; ++i) {
                viewportItems.push(items[i]);
            }
            return viewportItems;
        });
        const scrollTo = (options, y) => {
            if (typeof options === 'number') {
                scrollToPosition(options, y, 'auto');
                return;
            }
            const { left, top, index, key, position, behavior, debounce = true } = options;
            if (left !== undefined || top !== undefined) {
                scrollToPosition(left, top, behavior);
            }
            else if (index !== undefined) {
                scrollToIndex(index, behavior, debounce);
            }
            else if (key !== undefined) {
                const toIndex = keyIndexMapRef.value.get(key);
                if (toIndex !== undefined)
                    scrollToIndex(toIndex, behavior, debounce);
            }
            else if (position === 'bottom') {
                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);
            }
            else if (position === 'top') {
                scrollToPosition(0, 0, behavior);
            }
        };
        let anchorIndex;
        let anchorTimerId = null;
        function scrollToIndex(index, behavior, debounce) {
            const { value: ft } = finweckTreeRef;
            const targetTop = ft.sum(index) + (0,seemly__WEBPACK_IMPORTED_MODULE_5__.depx)(props.paddingTop);
            if (!debounce) {
                listElRef.value.scrollTo({
                    left: 0,
                    top: targetTop,
                    behavior
                });
            }
            else {
                anchorIndex = index;
                if (anchorTimerId !== null) {
                    window.clearTimeout(anchorTimerId);
                }
                anchorTimerId = window.setTimeout(() => {
                    anchorIndex = undefined;
                    anchorTimerId = null;
                }, 16); // use 0 ms may be ealier than resize callback...
                const { scrollTop, offsetHeight } = listElRef.value;
                if (targetTop > scrollTop) {
                    const itemSize = ft.get(index);
                    if (targetTop + itemSize <= scrollTop + offsetHeight) {
                        // do nothing
                    }
                    else {
                        listElRef.value.scrollTo({
                            left: 0,
                            top: targetTop + itemSize - offsetHeight,
                            behavior
                        });
                    }
                }
                else {
                    listElRef.value.scrollTo({
                        left: 0,
                        top: targetTop,
                        behavior
                    });
                }
            }
        }
        function scrollToPosition(left, top, behavior) {
            listElRef.value.scrollTo({
                left,
                top,
                behavior
            });
        }
        function handleItemResize(key, entry) {
            var _a, _b, _c;
            if (isDeactivated)
                return;
            if (props.ignoreItemResize)
                return;
            if (isHideByVShow(entry.target))
                return;
            const { value: ft } = finweckTreeRef;
            const index = keyIndexMapRef.value.get(key);
            const previousHeight = ft.get(index);
            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;
            if (height === previousHeight)
                return;
            // height offset based on itemSize
            // used when rebuild the finweck tree
            const offset = height - props.itemSize;
            if (offset === 0) {
                keyToHeightOffset.delete(key);
            }
            else {
                keyToHeightOffset.set(key, height - props.itemSize);
            }
            // delta height based on finweck tree data
            const delta = height - previousHeight;
            if (delta === 0)
                return;
            ft.add(index, delta);
            const listEl = listElRef.value;
            if (listEl != null) {
                if (anchorIndex === undefined) {
                    const previousHeightSum = ft.sum(index);
                    if (listEl.scrollTop > previousHeightSum) {
                        listEl.scrollBy(0, delta);
                    }
                }
                else {
                    if (index < anchorIndex) {
                        listEl.scrollBy(0, delta);
                    }
                    else if (index === anchorIndex) {
                        const previousHeightSum = ft.sum(index);
                        if (height + previousHeightSum >
                            // Note, listEl shouldn't have border, nor offsetHeight won't be
                            // correct
                            listEl.scrollTop + listEl.offsetHeight) {
                            listEl.scrollBy(0, delta);
                        }
                    }
                }
                syncViewport();
            }
            finweckTreeUpdateTrigger.value++;
        }
        const mayUseWheel = !(0,_config__WEBPACK_IMPORTED_MODULE_6__.ensureMaybeTouch)();
        let wheelCatched = false;
        function handleListScroll(e) {
            var _a;
            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);
            if (!mayUseWheel || !wheelCatched) {
                syncViewport();
            }
        }
        function handleListWheel(e) {
            var _a;
            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);
            if (mayUseWheel) {
                const listEl = listElRef.value;
                if (listEl != null) {
                    if (e.deltaX === 0) {
                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {
                            return;
                        }
                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&
                            e.deltaY >= 0) {
                            return;
                        }
                    }
                    e.preventDefault();
                    listEl.scrollTop += e.deltaY / (0,_config__WEBPACK_IMPORTED_MODULE_6__.ensureWheelScale)();
                    listEl.scrollLeft += e.deltaX / (0,_config__WEBPACK_IMPORTED_MODULE_6__.ensureWheelScale)();
                    syncViewport();
                    wheelCatched = true;
                    (0,seemly__WEBPACK_IMPORTED_MODULE_7__.beforeNextFrameOnce)(() => {
                        wheelCatched = false;
                    });
                }
            }
        }
        function handleListResize(entry) {
            if (isDeactivated)
                return;
            // List is HTMLElement
            if (isHideByVShow(entry.target))
                return;
            // If height is same, return
            if (entry.contentRect.height === listHeightRef.value)
                return;
            listHeightRef.value = entry.contentRect.height;
            const { onResize } = props;
            if (onResize !== undefined)
                onResize(entry);
        }
        function syncViewport() {
            const { value: listEl } = listElRef;
            // sometime ref el can be null
            // https://github.com/TuSimple/naive-ui/issues/811
            if (listEl == null)
                return;
            scrollTopRef.value = listEl.scrollTop;
            scrollLeft = listEl.scrollLeft;
        }
        function isHideByVShow(el) {
            let cursor = el;
            while (cursor !== null) {
                if (cursor.style.display === 'none')
                    return true;
                cursor = cursor.parentElement;
            }
            return false;
        }
        return {
            listHeight: listHeightRef,
            listStyle: {
                overflow: 'auto'
            },
            keyToIndex: keyIndexMapRef,
            itemsStyle: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                const { itemResizable } = props;
                const height = (0,seemly__WEBPACK_IMPORTED_MODULE_5__.pxfy)(finweckTreeRef.value.sum());
                // eslint-disable-next-line @typescript-eslint/no-unused-expressions
                finweckTreeUpdateTrigger.value;
                return [
                    props.itemsStyle,
                    {
                        boxSizing: 'content-box',
                        height: itemResizable ? '' : height,
                        minHeight: itemResizable ? height : '',
                        paddingTop: (0,seemly__WEBPACK_IMPORTED_MODULE_5__.pxfy)(props.paddingTop),
                        paddingBottom: (0,seemly__WEBPACK_IMPORTED_MODULE_5__.pxfy)(props.paddingBottom)
                    }
                ];
            }),
            visibleItemsStyle: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
                // eslint-disable-next-line @typescript-eslint/no-unused-expressions
                finweckTreeUpdateTrigger.value;
                return {
                    transform: `translateY(${(0,seemly__WEBPACK_IMPORTED_MODULE_5__.pxfy)(finweckTreeRef.value.sum(startIndexRef.value))})`
                };
            }),
            viewportItems: viewportItemsRef,
            listElRef,
            itemsElRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),
            scrollTo,
            handleListResize,
            handleListScroll,
            handleListWheel,
            handleItemResize
        };
    },
    render() {
        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;
        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_resize_observer_src_VResizeObserver__WEBPACK_IMPORTED_MODULE_8__["default"], {
            onResize: this.handleListResize
        }, {
            default: () => {
                var _a, _b;
                return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', (0,vue__WEBPACK_IMPORTED_MODULE_0__.mergeProps)(this.$attrs, {
                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],
                    onScroll: this.handleListScroll,
                    onWheel: this.handleListWheel,
                    ref: 'listElRef'
                }), [
                    this.items.length !== 0
                        ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)('div', {
                            ref: 'itemsElRef',
                            class: 'v-vl-items',
                            style: this.itemsStyle
                        }, [
                            (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(visibleItemsTag, Object.assign({
                                class: 'v-vl-visible-items',
                                style: this.visibleItemsStyle
                            }, this.visibleItemsProps), {
                                default: () => this.viewportItems.map((item) => {
                                    const key = item[keyField];
                                    const index = keyToIndex.get(key);
                                    const itemVNode = this.$slots.default({
                                        item,
                                        index
                                    })[0];
                                    if (itemResizable) {
                                        return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_resize_observer_src_VResizeObserver__WEBPACK_IMPORTED_MODULE_8__["default"], {
                                            key,
                                            onResize: (entry) => this.handleItemResize(key, entry)
                                        }, {
                                            default: () => itemVNode
                                        });
                                    }
                                    itemVNode.key = key;
                                    return itemVNode;
                                })
                            })
                        ])
                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)
                ]);
            }
        });
    }
}));


/***/ }),

/***/ "./node_modules/vueuc/es/virtual-list/src/config.js":
/*!**********************************************************!*\
  !*** ./node_modules/vueuc/es/virtual-list/src/config.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ensureMaybeTouch: () => (/* binding */ ensureMaybeTouch),
/* harmony export */   ensureWheelScale: () => (/* binding */ ensureWheelScale)
/* harmony export */ });
let maybeTouch;
function ensureMaybeTouch() {
    if (typeof document === 'undefined')
        return false;
    if (maybeTouch === undefined) {
        if ('matchMedia' in window) {
            maybeTouch = window.matchMedia('(pointer:coarse)').matches;
        }
        else {
            maybeTouch = false;
        }
    }
    return maybeTouch;
}
let wheelScale;
function ensureWheelScale() {
    if (typeof document === 'undefined')
        return 1;
    if (wheelScale === undefined) {
        wheelScale = 'chrome' in window ? window.devicePixelRatio : 1;
    }
    return wheelScale;
}


/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/clear/src/Clear.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/clear/src/Clear.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-style.mjs");
/* harmony import */ var _icons_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../icons/index.mjs */ "./node_modules/naive-ui/es/_internal/icons/Clear.mjs");
/* harmony import */ var _icon_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../icon/index.mjs */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.mjs");
/* harmony import */ var _icon_switch_transition_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon-switch-transition/index.mjs */ "./node_modules/naive-ui/es/_internal/icon-switch-transition/src/IconSwitchTransition.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.mjs");







/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'BaseClear',
  props: {
    clsPrefix: {
      type: String,
      required: true
    },
    show: Boolean,
    onClear: Function
  },
  setup(props) {
    (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('-base-clear', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
    return {
      handleMouseDown(e) {
        e.preventDefault();
      }
    };
  },
  render() {
    const {
      clsPrefix
    } = this;
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-clear`
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon_switch_transition_index_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], null, {
      default: () => {
        var _a, _b;
        return this.show ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          key: "dismiss",
          class: `${clsPrefix}-base-clear__clear`,
          onClick: this.onClear,
          onMousedown: this.handleMouseDown,
          "data-clear": true
        }, (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__.resolveSlot)(this.$slots.icon, () => [(0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon_index_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], {
          clsPrefix: clsPrefix
        }, {
          default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons_index_mjs__WEBPACK_IMPORTED_MODULE_6__["default"], null)
        })])) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          key: "icon",
          class: `${clsPrefix}-base-clear__placeholder`
        }, (_b = (_a = this.$slots).placeholder) === null || _b === void 0 ? void 0 : _b.call(_a));
      }
    }));
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _styles_transitions_icon_switch_cssr_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_styles/transitions/icon-switch.cssr.mjs */ "./node_modules/naive-ui/es/_styles/transitions/icon-switch.cssr.mjs");


// vars:
// --n-bezier
// --n-clear-color
// --n-clear-size
// --n-clear-color-hover
// --n-clear-color-pressed
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-clear', `
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('>', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('clear', `
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', `
 color: var(--n-clear-color-hover)!important;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', `
 color: var(--n-clear-color-pressed)!important;
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('placeholder', `
 display: flex;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('clear, placeholder', `
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `, [(0,_styles_transitions_icon_switch_cssr_mjs__WEBPACK_IMPORTED_MODULE_1__.iconSwitchTransition)({
  originalTransform: 'translateX(-50%) translateY(-50%)',
  left: '50%',
  top: '50%'
})])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/close/src/Close.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/close/src/Close.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-style.mjs");
/* harmony import */ var _icon_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/index.mjs */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.mjs");
/* harmony import */ var _icons_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icons/index.mjs */ "./node_modules/naive-ui/es/_internal/icons/Close.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/_internal/close/src/styles/index.cssr.mjs");





/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'BaseClose',
  props: {
    isButtonTag: {
      type: Boolean,
      default: true
    },
    clsPrefix: {
      type: String,
      required: true
    },
    disabled: {
      type: Boolean,
      default: undefined
    },
    focusable: {
      type: Boolean,
      default: true
    },
    round: Boolean,
    onClick: Function,
    absolute: Boolean
  },
  setup(props) {
    (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('-base-close', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
    return () => {
      const {
        clsPrefix,
        disabled,
        absolute,
        round,
        isButtonTag
      } = props;
      const Tag = isButtonTag ? 'button' : 'div';
      return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(Tag, {
        type: isButtonTag ? 'button' : undefined,
        tabindex: disabled || !props.focusable ? -1 : 0,
        "aria-disabled": disabled,
        "aria-label": "close",
        role: isButtonTag ? undefined : 'button',
        disabled: disabled,
        class: [`${clsPrefix}-base-close`, absolute && `${clsPrefix}-base-close--absolute`, disabled && `${clsPrefix}-base-close--disabled`, round && `${clsPrefix}-base-close--round`],
        onMousedown: e => {
          if (!props.focusable) {
            e.preventDefault();
          }
        },
        onClick: props.onClick
      }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon_index_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], {
        clsPrefix: clsPrefix
      }, {
        default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons_index_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], null)
      }));
    };
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/close/src/styles/index.cssr.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/close/src/styles/index.cssr.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");

// vars:
// --n-close-border-radius
// --n-close-color-hover
// --n-close-color-pressed
// --n-close-icon-color
// --n-close-icon-color-hover
// --n-close-icon-color-pressed
// --n-close-icon-color-disabled
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-close', `
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('absolute', `
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&::before', `
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', `
 color: var(--n-close-icon-color-hover);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover::before', `
 background-color: var(--n-close-color-hover);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:focus::before', `
 background-color: var(--n-close-color-hover);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', `
 color: var(--n-close-icon-color-pressed);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:active::before', `
 background-color: var(--n-close-color-pressed);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', `
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('round', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&::before', `
 border-radius: 50%;
 `)])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/focus-detector/index.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/focus-detector/index.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_FocusDetector_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/FocusDetector.mjs */ "./node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.mjs");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_src_FocusDetector_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.mjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.mjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  props: {
    onFocus: Function,
    onBlur: Function
  },
  setup(props) {
    return () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      style: "width: 0; height: 0",
      tabindex: 0,
      onFocus: props.onFocus,
      onBlur: props.onBlur
    });
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Checkmark.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Checkmark.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'Checkmark',
  render() {
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 16 16"
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
      fill: "none"
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",
      fill: "currentColor"
    })));
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/ChevronDown.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/ChevronDown.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'ChevronDown',
  render() {
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      viewBox: "0 0 16 16",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg"
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",
      fill: "currentColor"
    }));
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Clear.mjs":
/*!************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Clear.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _replaceable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./replaceable.mjs */ "./node_modules/naive-ui/es/_internal/icons/replaceable.mjs");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_replaceable_mjs__WEBPACK_IMPORTED_MODULE_1__.replaceable)('clear', (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
  viewBox: "0 0 16 16",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg"
}, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
  stroke: "none",
  "stroke-width": "1",
  fill: "none",
  "fill-rule": "evenodd"
}, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
  fill: "currentColor",
  "fill-rule": "nonzero"
}, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
  d: "M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"
}))))));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Close.mjs":
/*!************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Close.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _replaceable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./replaceable.mjs */ "./node_modules/naive-ui/es/_internal/icons/replaceable.mjs");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_replaceable_mjs__WEBPACK_IMPORTED_MODULE_1__.replaceable)('close', (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
  viewBox: "0 0 12 12",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg",
  "aria-hidden": true
}, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
  stroke: "none",
  "stroke-width": "1",
  fill: "none",
  "fill-rule": "evenodd"
}, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("g", {
  fill: "currentColor",
  "fill-rule": "nonzero"
}, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
  d: "M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"
}))))));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/icons/Empty.mjs":
/*!************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/icons/Empty.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'Empty',
  render() {
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg", {
      viewBox: "0 0 28 28",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg"
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",
      fill: "currentColor"
    }), (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("path", {
      d: "M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",
      fill: "currentColor"
    }));
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/render.mjs");
/* harmony import */ var _interface_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interface.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/interface.mjs");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'NBaseSelectGroupHeader',
  props: {
    clsPrefix: {
      type: String,
      required: true
    },
    tmNode: {
      type: Object,
      required: true
    }
  },
  setup() {
    const {
      renderLabelRef,
      renderOptionRef,
      labelFieldRef,
      nodePropsRef
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    } = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_interface_mjs__WEBPACK_IMPORTED_MODULE_1__.internalSelectionMenuInjectionKey);
    return {
      labelField: labelFieldRef,
      nodeProps: nodePropsRef,
      renderLabel: renderLabelRef,
      renderOption: renderOptionRef
    };
  },
  render() {
    const {
      clsPrefix,
      renderLabel,
      renderOption,
      nodeProps,
      tmNode: {
        rawNode
      }
    } = this;
    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);
    const children = renderLabel ? renderLabel(rawNode, false) : (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__.render)(rawNode[this.labelField], rawNode, false);
    const node = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", Object.assign({}, attrs, {
      class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class]
    }), children);
    return rawNode.render ? rawNode.render({
      node,
      option: rawNode
    }) : renderOption ? renderOption({
      node,
      option: rawNode,
      selected: false
    }) : node;
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var treemate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! treemate */ "./node_modules/treemate/es/utils.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/virtual-list/src/VirtualList.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/css/index.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/dom/happens-in.js");
/* harmony import */ var _empty_index_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../empty/index.mjs */ "./node_modules/naive-ui/es/empty/src/Empty.mjs");
/* harmony import */ var _scrollbar_index_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../scrollbar/index.mjs */ "./node_modules/naive-ui/es/_internal/scrollbar/src/Scrollbar.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/composable/use-resize.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.mjs");
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-theme.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-config.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-rtl.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.mjs");
/* harmony import */ var _loading_index_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../loading/index.mjs */ "./node_modules/naive-ui/es/_internal/loading/src/Loading.mjs");
/* harmony import */ var _focus_detector_index_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../focus-detector/index.mjs */ "./node_modules/naive-ui/es/_internal/focus-detector/index.mjs");
/* harmony import */ var _styles_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/index.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/styles/light.mjs");
/* harmony import */ var _SelectOption_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./SelectOption.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.mjs");
/* harmony import */ var _SelectGroupHeader_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./SelectGroupHeader.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.mjs");
/* harmony import */ var _interface_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interface.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/interface.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.mjs");
















/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'InternalSelectMenu',
  props: Object.assign(Object.assign({}, _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].props), {
    clsPrefix: {
      type: String,
      required: true
    },
    scrollable: {
      type: Boolean,
      default: true
    },
    treeMate: {
      type: Object,
      required: true
    },
    multiple: Boolean,
    size: {
      type: String,
      default: 'medium'
    },
    value: {
      type: [String, Number, Array],
      default: null
    },
    autoPending: Boolean,
    virtualScroll: {
      type: Boolean,
      default: true
    },
    // show is used to toggle pending state initialization
    show: {
      type: Boolean,
      default: true
    },
    labelField: {
      type: String,
      default: 'label'
    },
    valueField: {
      type: String,
      default: 'value'
    },
    loading: Boolean,
    focusable: Boolean,
    renderLabel: Function,
    renderOption: Function,
    nodeProps: Function,
    showCheckmark: {
      type: Boolean,
      default: true
    },
    onMousedown: Function,
    onScroll: Function,
    onFocus: Function,
    onBlur: Function,
    onKeyup: Function,
    onKeydown: Function,
    onTabOut: Function,
    onMouseenter: Function,
    onMouseleave: Function,
    onResize: Function,
    resetMenuOnOptionsChange: {
      type: Boolean,
      default: true
    },
    inlineThemeDisabled: Boolean,
    // deprecated
    onToggle: Function
  }),
  setup(props) {
    const {
      mergedClsPrefixRef,
      mergedRtlRef
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])(props);
    const rtlEnabledRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_3__.useRtl)('InternalSelectMenu', mergedRtlRef, mergedClsPrefixRef);
    const themeRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('InternalSelectMenu', '-internal-select-menu', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], _styles_index_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], props, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
    const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const virtualListRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const scrollbarRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const flattenedNodesRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => props.treeMate.getFlattenedNodes());
    const fIndexGetterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => (0,treemate__WEBPACK_IMPORTED_MODULE_6__.createIndexGetter)(flattenedNodesRef.value));
    const pendingNodeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    function initPendingNode() {
      const {
        treeMate
      } = props;
      let defaultPendingNode = null;
      const {
        value
      } = props;
      if (value === null) {
        defaultPendingNode = treeMate.getFirstAvailableNode();
      } else {
        if (props.multiple) {
          defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);
        } else {
          defaultPendingNode = treeMate.getNode(value);
        }
        if (!defaultPendingNode || defaultPendingNode.disabled) {
          defaultPendingNode = treeMate.getFirstAvailableNode();
        }
      }
      if (defaultPendingNode) {
        setPendingTmNode(defaultPendingNode);
      } else {
        setPendingTmNode(null);
      }
    }
    function clearPendingNodeIfInvalid() {
      const {
        value: pendingNode
      } = pendingNodeRef;
      if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {
        pendingNodeRef.value = null;
      }
    }
    let initPendingNodeWatchStopHandle;
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(() => props.show, show => {
      if (show) {
        initPendingNodeWatchStopHandle = (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(() => props.treeMate, () => {
          if (props.resetMenuOnOptionsChange) {
            if (props.autoPending) {
              initPendingNode();
            } else {
              clearPendingNodeIfInvalid();
            }
            void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(scrollToPendingNode);
          } else {
            clearPendingNodeIfInvalid();
          }
        }, {
          immediate: true
        });
      } else {
        initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();
      }
    }, {
      immediate: true
    });
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUnmount)(() => {
      initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();
    });
    const itemSizeRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      return (0,seemly__WEBPACK_IMPORTED_MODULE_7__.depx)(themeRef.value.self[(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('optionHeight', props.size)]);
    });
    const paddingRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      return (0,seemly__WEBPACK_IMPORTED_MODULE_7__.getPadding)(themeRef.value.self[(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('padding', props.size)]);
    });
    const valueSetRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      if (props.multiple && Array.isArray(props.value)) {
        return new Set(props.value);
      }
      return new Set();
    });
    const emptyRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const tmNodes = flattenedNodesRef.value;
      return tmNodes && tmNodes.length === 0;
    });
    function doToggle(tmNode) {
      const {
        onToggle
      } = props;
      if (onToggle) onToggle(tmNode);
    }
    function doScroll(e) {
      const {
        onScroll
      } = props;
      if (onScroll) onScroll(e);
    }
    // required, scroller sync need to be triggered manually
    function handleVirtualListScroll(e) {
      var _a;
      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();
      doScroll(e);
    }
    function handleVirtualListResize() {
      var _a;
      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();
    }
    function getPendingTmNode() {
      const {
        value: pendingTmNode
      } = pendingNodeRef;
      if (pendingTmNode) return pendingTmNode;
      return null;
    }
    function handleOptionMouseEnter(e, tmNode) {
      if (tmNode.disabled) return;
      setPendingTmNode(tmNode, false);
    }
    function handleOptionClick(e, tmNode) {
      if (tmNode.disabled) return;
      doToggle(tmNode);
    }
    // keyboard related methods
    function handleKeyUp(e) {
      var _a;
      if ((0,seemly__WEBPACK_IMPORTED_MODULE_9__.happensIn)(e, 'action')) return;
      (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);
    }
    function handleKeyDown(e) {
      var _a;
      if ((0,seemly__WEBPACK_IMPORTED_MODULE_9__.happensIn)(e, 'action')) return;
      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);
    }
    function handleMouseDown(e) {
      var _a;
      (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);
      if (props.focusable) return;
      e.preventDefault();
    }
    function next() {
      const {
        value: pendingTmNode
      } = pendingNodeRef;
      if (pendingTmNode) {
        setPendingTmNode(pendingTmNode.getNext({
          loop: true
        }), true);
      }
    }
    function prev() {
      const {
        value: pendingTmNode
      } = pendingNodeRef;
      if (pendingTmNode) {
        setPendingTmNode(pendingTmNode.getPrev({
          loop: true
        }), true);
      }
    }
    function setPendingTmNode(tmNode, doScroll = false) {
      pendingNodeRef.value = tmNode;
      if (doScroll) scrollToPendingNode();
    }
    function scrollToPendingNode() {
      var _a, _b;
      const tmNode = pendingNodeRef.value;
      if (!tmNode) return;
      const fIndex = fIndexGetterRef.value(tmNode.key);
      if (fIndex === null) return;
      if (props.virtualScroll) {
        (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({
          index: fIndex
        });
      } else {
        (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({
          index: fIndex,
          elSize: itemSizeRef.value
        });
      }
    }
    function handleFocusin(e) {
      var _a, _b;
      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {
        (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);
      }
    }
    function handleFocusout(e) {
      var _a, _b;
      if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {
        (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);
      }
    }
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_interface_mjs__WEBPACK_IMPORTED_MODULE_10__.internalSelectionMenuInjectionKey, {
      handleOptionMouseEnter,
      handleOptionClick,
      valueSetRef,
      pendingTmNodeRef: pendingNodeRef,
      nodePropsRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'nodeProps'),
      showCheckmarkRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'showCheckmark'),
      multipleRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'multiple'),
      valueRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'value'),
      renderLabelRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'renderLabel'),
      renderOptionRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'renderOption'),
      labelFieldRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'labelField'),
      valueFieldRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'valueField')
    });
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(_interface_mjs__WEBPACK_IMPORTED_MODULE_10__.internalSelectionMenuBodyInjectionKey, selfRef);
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
      const {
        value
      } = scrollbarRef;
      if (value) value.sync();
    });
    const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        size
      } = props;
      const {
        common: {
          cubicBezierEaseInOut
        },
        self: {
          height,
          borderRadius,
          color,
          groupHeaderTextColor,
          actionDividerColor,
          optionTextColorPressed,
          optionTextColor,
          optionTextColorDisabled,
          optionTextColorActive,
          optionOpacityDisabled,
          optionCheckColor,
          actionTextColor,
          optionColorPending,
          optionColorActive,
          loadingColor,
          loadingSize,
          optionColorActivePending,
          [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('optionFontSize', size)]: fontSize,
          [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('optionHeight', size)]: optionHeight,
          [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('optionPadding', size)]: optionPadding
        }
      } = themeRef.value;
      return {
        '--n-height': height,
        '--n-action-divider-color': actionDividerColor,
        '--n-action-text-color': actionTextColor,
        '--n-bezier': cubicBezierEaseInOut,
        '--n-border-radius': borderRadius,
        '--n-color': color,
        '--n-option-font-size': fontSize,
        '--n-group-header-text-color': groupHeaderTextColor,
        '--n-option-check-color': optionCheckColor,
        '--n-option-color-pending': optionColorPending,
        '--n-option-color-active': optionColorActive,
        '--n-option-color-active-pending': optionColorActivePending,
        '--n-option-height': optionHeight,
        '--n-option-opacity-disabled': optionOpacityDisabled,
        '--n-option-text-color': optionTextColor,
        '--n-option-text-color-active': optionTextColorActive,
        '--n-option-text-color-disabled': optionTextColorDisabled,
        '--n-option-text-color-pressed': optionTextColorPressed,
        '--n-option-padding': optionPadding,
        '--n-option-padding-left': (0,seemly__WEBPACK_IMPORTED_MODULE_7__.getPadding)(optionPadding, 'left'),
        '--n-option-padding-right': (0,seemly__WEBPACK_IMPORTED_MODULE_7__.getPadding)(optionPadding, 'right'),
        '--n-loading-color': loadingColor,
        '--n-loading-size': loadingSize
      };
    });
    const {
      inlineThemeDisabled
    } = props;
    const themeClassHandle = inlineThemeDisabled ? (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_11__.useThemeClass)('internal-select-menu', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => props.size[0]), cssVarsRef, props) : undefined;
    const exposedProps = {
      selfRef,
      next,
      prev,
      getPendingTmNode
    };
    (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_12__.useOnResize)(selfRef, props.onResize);
    return Object.assign({
      mergedTheme: themeRef,
      mergedClsPrefix: mergedClsPrefixRef,
      rtlEnabled: rtlEnabledRef,
      virtualListRef,
      scrollbarRef,
      itemSize: itemSizeRef,
      padding: paddingRef,
      flattenedNodes: flattenedNodesRef,
      empty: emptyRef,
      virtualListContainer() {
        const {
          value
        } = virtualListRef;
        return value === null || value === void 0 ? void 0 : value.listElRef;
      },
      virtualListContent() {
        const {
          value
        } = virtualListRef;
        return value === null || value === void 0 ? void 0 : value.itemsElRef;
      },
      doScroll,
      handleFocusin,
      handleFocusout,
      handleKeyUp,
      handleKeyDown,
      handleMouseDown,
      handleVirtualListResize,
      handleVirtualListScroll,
      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
    }, exposedProps);
  },
  render() {
    const {
      $slots,
      virtualScroll,
      clsPrefix,
      mergedTheme,
      themeClass,
      onRender
    } = this;
    onRender === null || onRender === void 0 ? void 0 : onRender();
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      ref: "selfRef",
      tabindex: this.focusable ? 0 : -1,
      class: [`${clsPrefix}-base-select-menu`, this.rtlEnabled && `${clsPrefix}-base-select-menu--rtl`, themeClass, this.multiple && `${clsPrefix}-base-select-menu--multiple`],
      style: this.cssVars,
      onFocusin: this.handleFocusin,
      onFocusout: this.handleFocusout,
      onKeyup: this.handleKeyUp,
      onKeydown: this.handleKeyDown,
      onMousedown: this.handleMouseDown,
      onMouseenter: this.onMouseenter,
      onMouseleave: this.onMouseleave
    }, (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.resolveWrappedSlot)($slots.header, children => children && (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-select-menu__header`,
      "data-header": true,
      key: "header"
    }, children)), this.loading ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-select-menu__loading`
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_loading_index_mjs__WEBPACK_IMPORTED_MODULE_14__["default"], {
      clsPrefix: clsPrefix,
      strokeWidth: 20
    })) : !this.empty ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_scrollbar_index_mjs__WEBPACK_IMPORTED_MODULE_15__["default"], {
      ref: "scrollbarRef",
      theme: mergedTheme.peers.Scrollbar,
      themeOverrides: mergedTheme.peerOverrides.Scrollbar,
      scrollable: this.scrollable,
      container: virtualScroll ? this.virtualListContainer : undefined,
      content: virtualScroll ? this.virtualListContent : undefined,
      onScroll: virtualScroll ? undefined : this.doScroll
    }, {
      default: () => {
        return virtualScroll ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_16__["default"], {
          ref: "virtualListRef",
          class: `${clsPrefix}-virtual-list`,
          items: this.flattenedNodes,
          itemSize: this.itemSize,
          showScrollbar: false,
          paddingTop: this.padding.top,
          paddingBottom: this.padding.bottom,
          onResize: this.handleVirtualListResize,
          onScroll: this.handleVirtualListScroll,
          itemResizable: true
        }, {
          default: ({
            item: tmNode
          }) => {
            return tmNode.isGroup ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectGroupHeader_mjs__WEBPACK_IMPORTED_MODULE_17__["default"], {
              key: tmNode.key,
              clsPrefix: clsPrefix,
              tmNode: tmNode
            }) : tmNode.ignored ? null : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectOption_mjs__WEBPACK_IMPORTED_MODULE_18__["default"], {
              clsPrefix: clsPrefix,
              key: tmNode.key,
              tmNode: tmNode
            });
          }
        }) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-select-menu-option-wrapper`,
          style: {
            paddingTop: this.padding.top,
            paddingBottom: this.padding.bottom
          }
        }, this.flattenedNodes.map(tmNode => tmNode.isGroup ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectGroupHeader_mjs__WEBPACK_IMPORTED_MODULE_17__["default"], {
          key: tmNode.key,
          clsPrefix: clsPrefix,
          tmNode: tmNode
        }) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_SelectOption_mjs__WEBPACK_IMPORTED_MODULE_18__["default"], {
          clsPrefix: clsPrefix,
          key: tmNode.key,
          tmNode: tmNode
        })));
      }
    }) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-select-menu__empty`,
      "data-empty": true
    }, (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.resolveSlot)($slots.empty, () => [(0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_empty_index_mjs__WEBPACK_IMPORTED_MODULE_19__["default"], {
      theme: mergedTheme.peers.Empty,
      themeOverrides: mergedTheme.peerOverrides.Empty
    })])), (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.resolveWrappedSlot)($slots.action, children => children && [(0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-select-menu__action`,
      "data-action": true,
      key: "action"
    }, children), (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_focus_detector_index_mjs__WEBPACK_IMPORTED_MODULE_20__["default"], {
      onFocus: this.onTabOut,
      key: "focus-detector"
    })]));
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-memo.js");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/render.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/merge-handlers.mjs");
/* harmony import */ var _icons_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../icons/index.mjs */ "./node_modules/naive-ui/es/_internal/icons/Checkmark.mjs");
/* harmony import */ var _icon_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../icon/index.mjs */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.mjs");
/* harmony import */ var _interface_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interface.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/interface.mjs");






function renderCheckMark(show, clsPrefix) {
  return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, {
    name: "fade-in-scale-up-transition"
  }, {
    default: () => show ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], {
      clsPrefix: clsPrefix,
      class: `${clsPrefix}-base-select-option__check`
    }, {
      default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons_index_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])
    }) : null
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'NBaseSelectOption',
  props: {
    clsPrefix: {
      type: String,
      required: true
    },
    tmNode: {
      type: Object,
      required: true
    }
  },
  setup(props) {
    const {
      valueRef,
      pendingTmNodeRef,
      multipleRef,
      valueSetRef,
      renderLabelRef,
      renderOptionRef,
      labelFieldRef,
      valueFieldRef,
      showCheckmarkRef,
      nodePropsRef,
      handleOptionClick,
      handleOptionMouseEnter
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    } = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_interface_mjs__WEBPACK_IMPORTED_MODULE_3__.internalSelectionMenuInjectionKey);
    const isPendingRef = (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
      const {
        value: pendingTmNode
      } = pendingTmNodeRef;
      if (!pendingTmNode) return false;
      return props.tmNode.key === pendingTmNode.key;
    });
    function handleClick(e) {
      const {
        tmNode
      } = props;
      if (tmNode.disabled) return;
      handleOptionClick(e, tmNode);
    }
    function handleMouseEnter(e) {
      const {
        tmNode
      } = props;
      if (tmNode.disabled) return;
      handleOptionMouseEnter(e, tmNode);
    }
    function handleMouseMove(e) {
      const {
        tmNode
      } = props;
      const {
        value: isPending
      } = isPendingRef;
      if (tmNode.disabled || isPending) return;
      handleOptionMouseEnter(e, tmNode);
    }
    return {
      multiple: multipleRef,
      isGrouped: (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
        const {
          tmNode
        } = props;
        const {
          parent
        } = tmNode;
        return parent && parent.rawNode.type === 'group';
      }),
      showCheckmark: showCheckmarkRef,
      nodeProps: nodePropsRef,
      isPending: isPendingRef,
      isSelected: (0,vooks__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
        const {
          value
        } = valueRef;
        const {
          value: multiple
        } = multipleRef;
        if (value === null) return false;
        const optionValue = props.tmNode.rawNode[valueFieldRef.value];
        if (multiple) {
          const {
            value: valueSet
          } = valueSetRef;
          return valueSet.has(optionValue);
        } else {
          return value === optionValue;
        }
      }),
      labelField: labelFieldRef,
      renderLabel: renderLabelRef,
      renderOption: renderOptionRef,
      handleMouseMove,
      handleMouseEnter,
      handleClick
    };
  },
  render() {
    const {
      clsPrefix,
      tmNode: {
        rawNode
      },
      isSelected,
      isPending,
      isGrouped,
      showCheckmark,
      nodeProps,
      renderOption,
      renderLabel,
      handleClick,
      handleMouseEnter,
      handleMouseMove
    } = this;
    const checkmark = renderCheckMark(isSelected, clsPrefix);
    const children = renderLabel ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark] : [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_5__.render)(rawNode[this.labelField], rawNode, isSelected), showCheckmark && checkmark];
    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);
    const node = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", Object.assign({}, attrs, {
      class: [`${clsPrefix}-base-select-option`, rawNode.class, attrs === null || attrs === void 0 ? void 0 : attrs.class, {
        [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,
        [`${clsPrefix}-base-select-option--selected`]: isSelected,
        [`${clsPrefix}-base-select-option--grouped`]: isGrouped,
        [`${clsPrefix}-base-select-option--pending`]: isPending,
        [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark
      }],
      style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''],
      onClick: (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.mergeEventHandlers)([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]),
      onMouseenter: (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.mergeEventHandlers)([handleMouseEnter, attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter]),
      onMousemove: (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.mergeEventHandlers)([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove])
    }), (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-select-option__content`
    }, children));
    return rawNode.render ? rawNode.render({
      node,
      option: rawNode,
      selected: isSelected
    }) : renderOption ? renderOption({
      node,
      option: rawNode,
      selected: isSelected
    }) : node;
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _styles_transitions_fade_in_scale_up_cssr_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_styles/transitions/fade-in-scale-up.cssr.mjs */ "./node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.mjs");


// --n-loading-color
// --n-loading-size
// --n-option-padding-right
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-menu', `
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('scrollbar', `
 max-height: var(--n-height);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('virtual-list', `
 max-height: var(--n-height);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-option', `
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-group-header', `
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-menu-option-wrapper', `
 position: relative;
 width: 100%;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('loading, empty', `
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('loading', `
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('header', `
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('action', `
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-group-header', `
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-select-option', `
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('show-checkmark', `
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&::before', `
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', `
 color: var(--n-option-text-color-pressed);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('grouped', `
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('pending', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&::before', `
 background-color: var(--n-option-color-pending);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('selected', `
 color: var(--n-option-text-color-active);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&::before', `
 background-color: var(--n-option-color-active);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('pending', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&::before', `
 background-color: var(--n-option-color-active-pending);
 `)])]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', `
 cursor: not-allowed;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('selected', `
 color: var(--n-option-text-color-disabled);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('selected', `
 opacity: var(--n-option-opacity-disabled);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('check', `
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `, [(0,_styles_transitions_fade_in_scale_up_cssr_mjs__WEBPACK_IMPORTED_MODULE_1__.fadeInScaleUpTransition)({
  enterScale: '0.5'
})])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/selection/src/Selection.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/selection/src/Selection.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/overflow/src/index.js");
/* harmony import */ var _popover_index_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../popover/index.mjs */ "./node_modules/naive-ui/es/popover/src/Popover.mjs");
/* harmony import */ var _tag_index_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../tag/index.mjs */ "./node_modules/naive-ui/es/tag/src/Tag.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-theme.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-config.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-rtl.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/render.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/composable/use-resize.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/wrapper.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/naive/attribute.mjs");
/* harmony import */ var _suffix_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../suffix/index.mjs */ "./node_modules/naive-ui/es/_internal/suffix/src/Suffix.mjs");
/* harmony import */ var _styles_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/index.mjs */ "./node_modules/naive-ui/es/_internal/selection/styles/light.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.mjs");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/css/index.js");
/* eslint-disable @typescript-eslint/no-non-null-assertion */










/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'InternalSelection',
  props: Object.assign(Object.assign({}, _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].props), {
    clsPrefix: {
      type: String,
      required: true
    },
    bordered: {
      type: Boolean,
      default: undefined
    },
    active: Boolean,
    pattern: {
      type: String,
      default: ''
    },
    placeholder: String,
    selectedOption: {
      type: Object,
      default: null
    },
    selectedOptions: {
      type: Array,
      default: null
    },
    labelField: {
      type: String,
      default: 'label'
    },
    valueField: {
      type: String,
      default: 'value'
    },
    multiple: Boolean,
    filterable: Boolean,
    clearable: Boolean,
    disabled: Boolean,
    size: {
      type: String,
      default: 'medium'
    },
    loading: Boolean,
    autofocus: Boolean,
    showArrow: {
      type: Boolean,
      default: true
    },
    inputProps: Object,
    focused: Boolean,
    renderTag: Function,
    onKeydown: Function,
    onClick: Function,
    onBlur: Function,
    onFocus: Function,
    onDeleteOption: Function,
    maxTagCount: [String, Number],
    ellipsisTagPopoverProps: Object,
    onClear: Function,
    onPatternInput: Function,
    onPatternFocus: Function,
    onPatternBlur: Function,
    renderLabel: Function,
    status: String,
    inlineThemeDisabled: Boolean,
    ignoreComposition: {
      type: Boolean,
      default: true
    },
    onResize: Function
  }),
  setup(props) {
    const {
      mergedClsPrefixRef,
      mergedRtlRef
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])(props);
    const rtlEnabledRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_3__.useRtl)('InternalSelection', mergedRtlRef, mergedClsPrefixRef);
    const patternInputMirrorRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const patternInputRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const selfRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const multipleElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const singleElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const patternInputWrapperRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const counterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const counterWrapperRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const overflowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const inputTagElRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const showTagsPopoverRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    const patternInputFocusedRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    const hoverRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    const themeRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('InternalSelection', '-internal-selection', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], _styles_index_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], props, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'clsPrefix'));
    const mergedClearableRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      return props.clearable && !props.disabled && (hoverRef.value || props.active);
    });
    const filterablePlaceholderRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      return props.selectedOption ? props.renderTag ? props.renderTag({
        option: props.selectedOption,
        handleClose: () => {}
      }) : props.renderLabel ? props.renderLabel(props.selectedOption, true) : (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.render)(props.selectedOption[props.labelField], props.selectedOption, true) : props.placeholder;
    });
    const labelRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const option = props.selectedOption;
      if (!option) return undefined;
      return option[props.labelField];
    });
    const selectedRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      if (props.multiple) {
        return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);
      } else {
        return props.selectedOption !== null;
      }
    });
    function syncMirrorWidth() {
      var _a;
      const {
        value: patternInputMirrorEl
      } = patternInputMirrorRef;
      if (patternInputMirrorEl) {
        const {
          value: patternInputEl
        } = patternInputRef;
        if (patternInputEl) {
          patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;
          if (props.maxTagCount !== 'responsive') {
            (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync({
              showAllItemsBeforeCalculate: false
            });
          }
        }
      }
    }
    function hideInputTag() {
      const {
        value: inputTagEl
      } = inputTagElRef;
      if (inputTagEl) inputTagEl.style.display = 'none';
    }
    function showInputTag() {
      const {
        value: inputTagEl
      } = inputTagElRef;
      if (inputTagEl) inputTagEl.style.display = 'inline-block';
    }
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'active'), value => {
      if (!value) hideInputTag();
    });
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'pattern'), () => {
      if (props.multiple) {
        void (0,vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)(syncMirrorWidth);
      }
    });
    function doFocus(e) {
      const {
        onFocus
      } = props;
      if (onFocus) onFocus(e);
    }
    function doBlur(e) {
      const {
        onBlur
      } = props;
      if (onBlur) onBlur(e);
    }
    function doDeleteOption(value) {
      const {
        onDeleteOption
      } = props;
      if (onDeleteOption) onDeleteOption(value);
    }
    function doClear(e) {
      const {
        onClear
      } = props;
      if (onClear) onClear(e);
    }
    function doPatternInput(value) {
      const {
        onPatternInput
      } = props;
      if (onPatternInput) onPatternInput(value);
    }
    function handleFocusin(e) {
      var _a;
      if (!e.relatedTarget || !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {
        doFocus(e);
      }
    }
    function handleFocusout(e) {
      var _a;
      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) return;
      doBlur(e);
    }
    function handleClear(e) {
      doClear(e);
    }
    function handleMouseEnter() {
      hoverRef.value = true;
    }
    function handleMouseLeave() {
      hoverRef.value = false;
    }
    function handleMouseDown(e) {
      if (!props.active || !props.filterable) return;
      if (e.target === patternInputRef.value) return;
      e.preventDefault();
    }
    function handleDeleteOption(option) {
      doDeleteOption(option);
    }
    function handlePatternKeyDown(e) {
      if (e.key === 'Backspace' && !isComposingRef.value) {
        if (!props.pattern.length) {
          const {
            selectedOptions
          } = props;
          if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {
            handleDeleteOption(selectedOptions[selectedOptions.length - 1]);
          }
        }
      }
    }
    const isComposingRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    // the composition end is later than its input so we can cached the event
    // and return the input event
    let cachedInputEvent = null;
    function handlePatternInputInput(e) {
      // we should sync mirror width here
      const {
        value: patternInputMirrorEl
      } = patternInputMirrorRef;
      if (patternInputMirrorEl) {
        const inputText = e.target.value;
        patternInputMirrorEl.textContent = inputText;
        syncMirrorWidth();
      }
      if (props.ignoreComposition) {
        if (!isComposingRef.value) {
          doPatternInput(e);
        } else {
          cachedInputEvent = e;
        }
      } else {
        doPatternInput(e);
      }
    }
    function handleCompositionStart() {
      isComposingRef.value = true;
    }
    function handleCompositionEnd() {
      isComposingRef.value = false;
      if (props.ignoreComposition) {
        doPatternInput(cachedInputEvent);
      }
      cachedInputEvent = null;
    }
    function handlePatternInputFocus(e) {
      var _a;
      patternInputFocusedRef.value = true;
      (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);
    }
    function handlePatternInputBlur(e) {
      var _a;
      patternInputFocusedRef.value = false;
      (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);
    }
    function blur() {
      var _a, _b;
      if (props.filterable) {
        patternInputFocusedRef.value = false;
        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();
        (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();
      } else if (props.multiple) {
        const {
          value: multipleEl
        } = multipleElRef;
        multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();
      } else {
        const {
          value: singleEl
        } = singleElRef;
        singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();
      }
    }
    function focus() {
      var _a, _b, _c;
      if (props.filterable) {
        patternInputFocusedRef.value = false;
        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();
      } else if (props.multiple) {
        (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();
      } else {
        (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();
      }
    }
    function focusInput() {
      const {
        value: patternInputEl
      } = patternInputRef;
      if (patternInputEl) {
        showInputTag();
        patternInputEl.focus();
      }
    }
    function blurInput() {
      const {
        value: patternInputEl
      } = patternInputRef;
      if (patternInputEl) {
        patternInputEl.blur();
      }
    }
    function updateCounter(count) {
      const {
        value
      } = counterRef;
      if (value) {
        value.setTextContent(`+${count}`);
      }
    }
    function getCounter() {
      const {
        value
      } = counterWrapperRef;
      return value;
    }
    function getTail() {
      return patternInputRef.value;
    }
    let enterTimerId = null;
    function clearEnterTimer() {
      if (enterTimerId !== null) window.clearTimeout(enterTimerId);
    }
    function handleMouseEnterCounter() {
      if (props.active) return;
      clearEnterTimer();
      enterTimerId = window.setTimeout(() => {
        if (selectedRef.value) {
          showTagsPopoverRef.value = true;
        }
      }, 100);
    }
    function handleMouseLeaveCounter() {
      clearEnterTimer();
    }
    function onPopoverUpdateShow(show) {
      if (!show) {
        clearEnterTimer();
        showTagsPopoverRef.value = false;
      }
    }
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)(selectedRef, value => {
      if (!value) {
        showTagsPopoverRef.value = false;
      }
    });
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
      (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
        const patternInputWrapperEl = patternInputWrapperRef.value;
        if (!patternInputWrapperEl) return;
        if (props.disabled) {
          patternInputWrapperEl.removeAttribute('tabindex');
        } else {
          patternInputWrapperEl.tabIndex = patternInputFocusedRef.value ? -1 : 0;
        }
      });
    });
    (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_7__.useOnResize)(selfRef, props.onResize);
    const {
      inlineThemeDisabled
    } = props;
    const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        size
      } = props;
      const {
        common: {
          cubicBezierEaseInOut
        },
        self: {
          borderRadius,
          color,
          placeholderColor,
          textColor,
          paddingSingle,
          paddingMultiple,
          caretColor,
          colorDisabled,
          textColorDisabled,
          placeholderColorDisabled,
          colorActive,
          boxShadowFocus,
          boxShadowActive,
          boxShadowHover,
          border,
          borderFocus,
          borderHover,
          borderActive,
          arrowColor,
          arrowColorDisabled,
          loadingColor,
          // form warning
          colorActiveWarning,
          boxShadowFocusWarning,
          boxShadowActiveWarning,
          boxShadowHoverWarning,
          borderWarning,
          borderFocusWarning,
          borderHoverWarning,
          borderActiveWarning,
          // form error
          colorActiveError,
          boxShadowFocusError,
          boxShadowActiveError,
          boxShadowHoverError,
          borderError,
          borderFocusError,
          borderHoverError,
          borderActiveError,
          // clear
          clearColor,
          clearColorHover,
          clearColorPressed,
          clearSize,
          // arrow
          arrowSize,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('height', size)]: height,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('fontSize', size)]: fontSize
        }
      } = themeRef.value;
      const paddingSingleDiscrete = (0,seemly__WEBPACK_IMPORTED_MODULE_9__.getPadding)(paddingSingle);
      const paddingMultipleDiscrete = (0,seemly__WEBPACK_IMPORTED_MODULE_9__.getPadding)(paddingMultiple);
      return {
        '--n-bezier': cubicBezierEaseInOut,
        '--n-border': border,
        '--n-border-active': borderActive,
        '--n-border-focus': borderFocus,
        '--n-border-hover': borderHover,
        '--n-border-radius': borderRadius,
        '--n-box-shadow-active': boxShadowActive,
        '--n-box-shadow-focus': boxShadowFocus,
        '--n-box-shadow-hover': boxShadowHover,
        '--n-caret-color': caretColor,
        '--n-color': color,
        '--n-color-active': colorActive,
        '--n-color-disabled': colorDisabled,
        '--n-font-size': fontSize,
        '--n-height': height,
        '--n-padding-single-top': paddingSingleDiscrete.top,
        '--n-padding-multiple-top': paddingMultipleDiscrete.top,
        '--n-padding-single-right': paddingSingleDiscrete.right,
        '--n-padding-multiple-right': paddingMultipleDiscrete.right,
        '--n-padding-single-left': paddingSingleDiscrete.left,
        '--n-padding-multiple-left': paddingMultipleDiscrete.left,
        '--n-padding-single-bottom': paddingSingleDiscrete.bottom,
        '--n-padding-multiple-bottom': paddingMultipleDiscrete.bottom,
        '--n-placeholder-color': placeholderColor,
        '--n-placeholder-color-disabled': placeholderColorDisabled,
        '--n-text-color': textColor,
        '--n-text-color-disabled': textColorDisabled,
        '--n-arrow-color': arrowColor,
        '--n-arrow-color-disabled': arrowColorDisabled,
        '--n-loading-color': loadingColor,
        // form warning
        '--n-color-active-warning': colorActiveWarning,
        '--n-box-shadow-focus-warning': boxShadowFocusWarning,
        '--n-box-shadow-active-warning': boxShadowActiveWarning,
        '--n-box-shadow-hover-warning': boxShadowHoverWarning,
        '--n-border-warning': borderWarning,
        '--n-border-focus-warning': borderFocusWarning,
        '--n-border-hover-warning': borderHoverWarning,
        '--n-border-active-warning': borderActiveWarning,
        // form error
        '--n-color-active-error': colorActiveError,
        '--n-box-shadow-focus-error': boxShadowFocusError,
        '--n-box-shadow-active-error': boxShadowActiveError,
        '--n-box-shadow-hover-error': boxShadowHoverError,
        '--n-border-error': borderError,
        '--n-border-focus-error': borderFocusError,
        '--n-border-hover-error': borderHoverError,
        '--n-border-active-error': borderActiveError,
        // clear
        '--n-clear-size': clearSize,
        '--n-clear-color': clearColor,
        '--n-clear-color-hover': clearColorHover,
        '--n-clear-color-pressed': clearColorPressed,
        // arrow-size
        '--n-arrow-size': arrowSize
      };
    });
    const themeClassHandle = inlineThemeDisabled ? (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_10__.useThemeClass)('internal-selection', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      return props.size[0];
    }), cssVarsRef, props) : undefined;
    return {
      mergedTheme: themeRef,
      mergedClearable: mergedClearableRef,
      mergedClsPrefix: mergedClsPrefixRef,
      rtlEnabled: rtlEnabledRef,
      patternInputFocused: patternInputFocusedRef,
      filterablePlaceholder: filterablePlaceholderRef,
      label: labelRef,
      selected: selectedRef,
      showTagsPanel: showTagsPopoverRef,
      isComposing: isComposingRef,
      // dom ref
      counterRef,
      counterWrapperRef,
      patternInputMirrorRef,
      patternInputRef,
      selfRef,
      multipleElRef,
      singleElRef,
      patternInputWrapperRef,
      overflowRef,
      inputTagElRef,
      handleMouseDown,
      handleFocusin,
      handleClear,
      handleMouseEnter,
      handleMouseLeave,
      handleDeleteOption,
      handlePatternKeyDown,
      handlePatternInputInput,
      handlePatternInputBlur,
      handlePatternInputFocus,
      handleMouseEnterCounter,
      handleMouseLeaveCounter,
      handleFocusout,
      handleCompositionEnd,
      handleCompositionStart,
      onPopoverUpdateShow,
      focus,
      focusInput,
      blur,
      blurInput,
      updateCounter,
      getCounter,
      getTail,
      renderLabel: props.renderLabel,
      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
    };
  },
  render() {
    const {
      status,
      multiple,
      size,
      disabled,
      filterable,
      maxTagCount,
      bordered,
      clsPrefix,
      ellipsisTagPopoverProps,
      onRender,
      renderTag,
      renderLabel
    } = this;
    onRender === null || onRender === void 0 ? void 0 : onRender();
    const maxTagCountResponsive = maxTagCount === 'responsive';
    const maxTagCountNumeric = typeof maxTagCount === 'number';
    const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;
    const suffix = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_utils_index_mjs__WEBPACK_IMPORTED_MODULE_11__.Wrapper, null, {
      default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_suffix_index_mjs__WEBPACK_IMPORTED_MODULE_12__["default"], {
        clsPrefix: clsPrefix,
        loading: this.loading,
        showArrow: this.showArrow,
        showClear: this.mergedClearable && this.selected,
        onClear: this.handleClear
      }, {
        default: () => {
          var _a, _b;
          return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a);
        }
      })
    });
    let body;
    if (multiple) {
      const {
        labelField
      } = this;
      const createTag = option => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: `${clsPrefix}-base-selection-tag-wrapper`,
        key: option.value
      }, renderTag ? renderTag({
        option,
        handleClose: () => {
          this.handleDeleteOption(option);
        }
      }) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_tag_index_mjs__WEBPACK_IMPORTED_MODULE_13__["default"], {
        size: size,
        closable: !option.disabled,
        disabled: disabled,
        onClose: () => {
          this.handleDeleteOption(option);
        },
        internalCloseIsButtonTag: false,
        internalCloseFocusable: false
      }, {
        default: () => renderLabel ? renderLabel(option, true) : (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.render)(option[labelField], option, true)
      }));
      const createOriginalTagNodes = () => (maxTagCountNumeric ? this.selectedOptions.slice(0, maxTagCount) : this.selectedOptions).map(createTag);
      const input = filterable ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: `${clsPrefix}-base-selection-input-tag`,
        ref: "inputTagElRef",
        key: "__input-tag__"
      }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("input", Object.assign({}, this.inputProps, {
        ref: "patternInputRef",
        tabindex: -1,
        disabled: disabled,
        value: this.pattern,
        autofocus: this.autofocus,
        class: `${clsPrefix}-base-selection-input-tag__input`,
        onBlur: this.handlePatternInputBlur,
        onFocus: this.handlePatternInputFocus,
        onKeydown: this.handlePatternKeyDown,
        onInput: this.handlePatternInputInput,
        onCompositionstart: this.handleCompositionStart,
        onCompositionend: this.handleCompositionEnd
      })), (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
        ref: "patternInputMirrorRef",
        class: `${clsPrefix}-base-selection-input-tag__mirror`
      }, this.pattern)) : null;
      // May Overflow
      const renderCounter = maxTagCountResponsive ? () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: `${clsPrefix}-base-selection-tag-wrapper`,
        ref: "counterWrapperRef"
      }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_tag_index_mjs__WEBPACK_IMPORTED_MODULE_13__["default"], {
        size: size,
        ref: "counterRef",
        onMouseenter: this.handleMouseEnterCounter,
        onMouseleave: this.handleMouseLeaveCounter,
        disabled: disabled
      })) : undefined;
      let counter;
      if (maxTagCountNumeric) {
        const rest = this.selectedOptions.length - maxTagCount;
        if (rest > 0) {
          counter = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
            class: `${clsPrefix}-base-selection-tag-wrapper`,
            key: "__counter__"
          }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_tag_index_mjs__WEBPACK_IMPORTED_MODULE_13__["default"], {
            size: size,
            ref: "counterRef",
            onMouseenter: this.handleMouseEnterCounter,
            disabled: disabled
          }, {
            default: () => `+${rest}`
          }));
        }
      }
      const tags = maxTagCountResponsive ? filterable ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_14__["default"], {
        ref: "overflowRef",
        updateCounter: this.updateCounter,
        getCounter: this.getCounter,
        getTail: this.getTail,
        style: {
          width: '100%',
          display: 'flex',
          overflow: 'hidden'
        }
      }, {
        default: createOriginalTagNodes,
        counter: renderCounter,
        tail: () => input
      }) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_14__["default"], {
        ref: "overflowRef",
        updateCounter: this.updateCounter,
        getCounter: this.getCounter,
        style: {
          width: '100%',
          display: 'flex',
          overflow: 'hidden'
        }
      }, {
        default: createOriginalTagNodes,
        counter: renderCounter
      }) : maxTagCountNumeric && counter ? createOriginalTagNodes().concat(counter) : createOriginalTagNodes();
      const renderPopover = useMaxTagCount ? () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: `${clsPrefix}-base-selection-popover`
      }, maxTagCountResponsive ? createOriginalTagNodes() : this.selectedOptions.map(createTag)) : undefined;
      const popoverProps = useMaxTagCount ? Object.assign({
        show: this.showTagsPanel,
        trigger: 'hover',
        overlap: true,
        placement: 'top',
        width: 'trigger',
        onUpdateShow: this.onPopoverUpdateShow,
        theme: this.mergedTheme.peers.Popover,
        themeOverrides: this.mergedTheme.peerOverrides.Popover
      }, ellipsisTagPopoverProps) : null;
      const showPlaceholder = this.selected ? false : this.active ? !this.pattern && !this.isComposing : true;
      const placeholder = showPlaceholder ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`
      }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        class: `${clsPrefix}-base-selection-placeholder__inner`
      }, this.placeholder)) : null;
      const popoverTrigger = filterable ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        ref: "patternInputWrapperRef",
        class: `${clsPrefix}-base-selection-tags`
      }, tags, maxTagCountResponsive ? null : input, suffix) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
        ref: "multipleElRef",
        class: `${clsPrefix}-base-selection-tags`,
        tabindex: disabled ? undefined : 0
      }, tags, suffix);
      body = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, useMaxTagCount ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_popover_index_mjs__WEBPACK_IMPORTED_MODULE_15__["default"], Object.assign({}, popoverProps, {
        scrollable: true,
        style: "max-height: calc(var(--v-target-height) * 6.6);"
      }), {
        trigger: () => popoverTrigger,
        default: renderPopover
      }) : popoverTrigger, placeholder);
    } else {
      if (filterable) {
        const hasInput = this.pattern || this.isComposing;
        const showPlaceholder = this.active ? !hasInput : !this.selected;
        const showSelectedLabel = this.active ? false : this.selected;
        body = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          ref: "patternInputWrapperRef",
          class: `${clsPrefix}-base-selection-label`,
          title: this.patternInputFocused ? undefined : (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_16__.getTitleAttribute)(this.label)
        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("input", Object.assign({}, this.inputProps, {
          ref: "patternInputRef",
          class: `${clsPrefix}-base-selection-input`,
          value: this.active ? this.pattern : '',
          placeholder: "",
          readonly: disabled,
          disabled: disabled,
          tabindex: -1,
          autofocus: this.autofocus,
          onFocus: this.handlePatternInputFocus,
          onBlur: this.handlePatternInputBlur,
          onInput: this.handlePatternInputInput,
          onCompositionstart: this.handleCompositionStart,
          onCompositionend: this.handleCompositionEnd
        })), showSelectedLabel ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`,
          key: "input"
        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-overlay__wrapper`
        }, renderTag ? renderTag({
          option: this.selectedOption,
          handleClose: () => {}
        }) : renderLabel ? renderLabel(this.selectedOption, true) : (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.render)(this.label, this.selectedOption, true))) : null, showPlaceholder ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,
          key: "placeholder"
        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-overlay__wrapper`
        }, this.filterablePlaceholder)) : null, suffix);
      } else {
        body = (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          ref: "singleElRef",
          class: `${clsPrefix}-base-selection-label`,
          tabindex: this.disabled ? undefined : 0
        }, this.label !== undefined ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-input`,
          title: (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_16__.getTitleAttribute)(this.label),
          key: "input"
        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-input__content`
        }, renderTag ? renderTag({
          option: this.selectedOption,
          handleClose: () => {}
        }) : renderLabel ? renderLabel(this.selectedOption, true) : (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.render)(this.label, this.selectedOption, true))) : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,
          key: "placeholder"
        }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
          class: `${clsPrefix}-base-selection-placeholder__inner`
        }, this.placeholder)), suffix);
      }
    }
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      ref: "selfRef",
      class: [`${clsPrefix}-base-selection`, this.rtlEnabled && `${clsPrefix}-base-selection--rtl`, this.themeClass, status && `${clsPrefix}-base-selection--${status}-status`, {
        [`${clsPrefix}-base-selection--active`]: this.active,
        [`${clsPrefix}-base-selection--selected`]: this.selected || this.active && this.pattern,
        [`${clsPrefix}-base-selection--disabled`]: this.disabled,
        [`${clsPrefix}-base-selection--multiple`]: this.multiple,
        // focus is not controlled by selection itself since it always need
        // to be managed together with menu. provide :focus style will cause
        // many redundant codes.
        [`${clsPrefix}-base-selection--focus`]: this.focused
      }],
      style: this.cssVars,
      onClick: this.onClick,
      onMouseenter: this.handleMouseEnter,
      onMouseleave: this.handleMouseLeave,
      onKeydown: this.onKeydown,
      onFocusin: this.handleFocusin,
      onFocusout: this.handleFocusout,
      onMousedown: this.handleMouseDown
    }, body, bordered ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-selection__border`
    }) : null, bordered ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${clsPrefix}-base-selection__state-border`
    }) : null);
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");

// vars:
// --n-bezier
// --n-border
// --n-border-active
// --n-border-focus
// --n-border-hover
// --n-border-radius
// --n-box-shadow-active
// --n-box-shadow-focus
// --n-box-shadow-hover
// --n-caret-color
// --n-color
// --n-color-active
// --n-color-disabled
// --n-font-size
// --n-height
// --n-padding-single
// --n-padding-multiple
// --n-placeholder-color
// --n-placeholder-color-disabled
// --n-text-color
// --n-text-color-disabled
// --n-arrow-color
// --n-arrow-size
// --n-loading-color
// ...clear vars
// ...form item vars
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)([(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection', `
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-loading', `
 color: var(--n-loading-color);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', 'min-height: var(--n-height);'), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('border, state-border', `
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 z-index: 1;
 border-color: #0000;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-suffix', `
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('arrow', `
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-overlay', `
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('wrapper', `
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-placeholder', `
 color: var(--n-placeholder-color);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('inner', `
 max-width: 100%;
 overflow: hidden;
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-input', `
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('render-label', `
 color: var(--n-text-color);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('focus', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('active', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', 'background-color: var(--n-color-active);'), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', 'background-color: var(--n-color-active);')])]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', 'cursor: not-allowed;', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('arrow', `
 color: var(--n-arrow-color-disabled);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-input', `
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('render-label', `
 color: var(--n-text-color-disabled);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-placeholder', `
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-input-tag', `
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('input', `
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('mirror', `
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]), ['warning', 'error'].map(status => (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)(`${status}-status`, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `border: var(--n-border-${status});`), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-hover-${status});
 border: var(--n-border-hover-${status});
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('active', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-active-${status});
 border: var(--n-border-active-${status});
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-label', `background-color: var(--n-color-active-${status});`), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('focus', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('state-border', `
 box-shadow: var(--n-box-shadow-focus-${status});
 border: var(--n-border-focus-${status});
 `)])])]))]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-popover', `
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('base-selection-tag-wrapper', `
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:last-child', 'padding-right: 0;'), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('tag', `
 font-size: 14px;
 max-width: 100%;
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('content', `
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/_internal/suffix/src/Suffix.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/naive-ui/es/_internal/suffix/src/Suffix.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _clear_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../clear/index.mjs */ "./node_modules/naive-ui/es/_internal/clear/src/Clear.mjs");
/* harmony import */ var _loading_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../loading/index.mjs */ "./node_modules/naive-ui/es/_internal/loading/src/Loading.mjs");
/* harmony import */ var _icon_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/index.mjs */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.mjs");
/* harmony import */ var _icons_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../icons/index.mjs */ "./node_modules/naive-ui/es/_internal/icons/ChevronDown.mjs");
/* harmony import */ var _utils_vue_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_utils/vue/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.mjs");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'InternalSelectionSuffix',
  props: {
    clsPrefix: {
      type: String,
      required: true
    },
    showArrow: {
      type: Boolean,
      default: undefined
    },
    showClear: {
      type: Boolean,
      default: undefined
    },
    loading: {
      type: Boolean,
      default: false
    },
    onClear: Function
  },
  setup(props, {
    slots
  }) {
    return () => {
      const {
        clsPrefix
      } = props;
      return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_loading_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], {
        clsPrefix: clsPrefix,
        class: `${clsPrefix}-base-suffix`,
        strokeWidth: 24,
        scale: 0.85,
        show: props.loading
      }, {
        default: () => props.showArrow ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_clear_index_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], {
          clsPrefix: clsPrefix,
          show: props.showClear,
          onClear: props.onClear
        }, {
          placeholder: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icon_index_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], {
            clsPrefix: clsPrefix,
            class: `${clsPrefix}-base-suffix__arrow`
          }, {
            default: () => (0,_utils_vue_index_mjs__WEBPACK_IMPORTED_MODULE_4__.resolveSlot)(slots.default, () => [(0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_icons_index_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], null)])
          })
        }) : null
      });
    };
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/composable/use-resize.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/composable/use-resize.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useOnResize: () => (/* binding */ useOnResize)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/resize-observer/src/delegate.js");


function useOnResize(elRef, onResize) {
  // it needn't be reactive since it's for internal usage
  if (onResize) {
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(() => {
      const {
        value: el
      } = elRef;
      if (el) {
        vueuc__WEBPACK_IMPORTED_MODULE_1__["default"].registerHandler(el, onResize);
      }
    });
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUnmount)(() => {
      const {
        value: el
      } = elRef;
      if (el) {
        vueuc__WEBPACK_IMPORTED_MODULE_1__["default"].unregisterHandler(el);
      }
    });
  }
}

/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/event/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/event/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   eventEffectNotPerformed: () => (/* binding */ eventEffectNotPerformed),
/* harmony export */   markEventEffectPerformed: () => (/* binding */ markEventEffectPerformed)
/* harmony export */ });
const eventSet = new WeakSet();
function markEventEffectPerformed(event) {
  eventSet.add(event);
}
function eventEffectNotPerformed(event) {
  return !eventSet.has(event);
}

/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/naive/attribute.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/naive/attribute.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTitleAttribute: () => (/* binding */ getTitleAttribute)
/* harmony export */ });
function getTitleAttribute(value) {
  switch (typeof value) {
    case 'string':
      // The empty string should also be reset to undefined.
      return value || undefined;
    case 'number':
      return String(value);
    default:
      return undefined;
  }
}

/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/vue/merge-handlers.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/vue/merge-handlers.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mergeEventHandlers: () => (/* binding */ mergeEventHandlers)
/* harmony export */ });
function mergeEventHandlers(handlers) {
  const filteredHandlers = handlers.filter(handler => handler !== undefined);
  if (filteredHandlers.length === 0) return undefined;
  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
  if (filteredHandlers.length === 1) return filteredHandlers[0];
  return e => {
    handlers.forEach(handler => {
      if (handler) {
        handler(e);
      }
    });
  };
}

/***/ }),

/***/ "./node_modules/naive-ui/es/_utils/vue/render.mjs":
/*!********************************************************!*\
  !*** ./node_modules/naive-ui/es/_utils/vue/render.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   render: () => (/* binding */ render)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");

const render = (r, ...args) => {
  if (typeof r === 'function') {
    return r(...args);
  } else if (typeof r === 'string') {
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(r);
  } else if (typeof r === 'number') {
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(String(r));
  } else {
    return null;
  }
};

/***/ }),

/***/ "./node_modules/naive-ui/es/empty/src/Empty.mjs":
/*!******************************************************!*\
  !*** ./node_modules/naive-ui/es/empty/src/Empty.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   emptyProps: () => (/* binding */ emptyProps)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _config_provider_src_context_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config-provider/src/context.mjs */ "./node_modules/naive-ui/es/config-provider/src/context.mjs");
/* harmony import */ var _internal_icon_index_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_internal/icon/index.mjs */ "./node_modules/naive-ui/es/_internal/icon/src/Icon.mjs");
/* harmony import */ var _internal_icons_index_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_internal/icons/index.mjs */ "./node_modules/naive-ui/es/_internal/icons/Empty.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-theme.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-config.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-locale.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _styles_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/index.mjs */ "./node_modules/naive-ui/es/empty/styles/light.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/empty/src/styles/index.cssr.mjs");








const emptyProps = Object.assign(Object.assign({}, _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].props), {
  description: String,
  showDescription: {
    type: Boolean,
    default: true
  },
  showIcon: {
    type: Boolean,
    default: true
  },
  size: {
    type: String,
    default: 'medium'
  },
  renderIcon: Function
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'Empty',
  props: emptyProps,
  setup(props) {
    const {
      mergedClsPrefixRef,
      inlineThemeDisabled
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])(props);
    const themeRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('Empty', '-empty', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], _styles_index_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], props, mergedClsPrefixRef);
    const {
      localeRef
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_5__["default"])('Empty');
    const NConfigProvider = (0,vue__WEBPACK_IMPORTED_MODULE_0__.inject)(_config_provider_src_context_mjs__WEBPACK_IMPORTED_MODULE_6__.configProviderInjectionKey, null);
    const mergedDescriptionRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      var _a, _b, _c;
      return (_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description;
    });
    const mergedRenderIconRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      var _a, _b;
      return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) || (() => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal_icons_index_mjs__WEBPACK_IMPORTED_MODULE_7__["default"], null));
    });
    const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        size
      } = props;
      const {
        common: {
          cubicBezierEaseInOut
        },
        self: {
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('iconSize', size)]: iconSize,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__.createKey)('fontSize', size)]: fontSize,
          textColor,
          iconColor,
          extraTextColor
        }
      } = themeRef.value;
      return {
        '--n-icon-size': iconSize,
        '--n-font-size': fontSize,
        '--n-bezier': cubicBezierEaseInOut,
        '--n-text-color': textColor,
        '--n-icon-color': iconColor,
        '--n-extra-text-color': extraTextColor
      };
    });
    const themeClassHandle = inlineThemeDisabled ? (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_9__.useThemeClass)('empty', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      let hash = '';
      const {
        size
      } = props;
      hash += size[0];
      return hash;
    }), cssVarsRef, props) : undefined;
    return {
      mergedClsPrefix: mergedClsPrefixRef,
      mergedRenderIcon: mergedRenderIconRef,
      localizedDescription: (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
        return mergedDescriptionRef.value || localeRef.value.description;
      }),
      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
    };
  },
  render() {
    const {
      $slots,
      mergedClsPrefix,
      onRender
    } = this;
    onRender === null || onRender === void 0 ? void 0 : onRender();
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: [`${mergedClsPrefix}-empty`, this.themeClass],
      style: this.cssVars
    }, this.showIcon ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${mergedClsPrefix}-empty__icon`
    }, $slots.icon ? $slots.icon() : (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal_icon_index_mjs__WEBPACK_IMPORTED_MODULE_10__["default"], {
      clsPrefix: mergedClsPrefix
    }, {
      default: this.mergedRenderIcon
    })) : null, this.showDescription ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${mergedClsPrefix}-empty__description`
    }, $slots.default ? $slots.default() : this.localizedDescription) : null, $slots.extra ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${mergedClsPrefix}-empty__extra`
    }, $slots.extra()) : null);
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/empty/src/styles/index.cssr.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/naive-ui/es/empty/src/styles/index.cssr.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");

// vars:
// --n-font-size
// --n-icon-size
// --n-icon-color
// --n-bezier
// --n-text-color
// --n-extra-text-color
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('empty', `
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('icon', `
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('+', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('description', `
 margin-top: 8px;
 `)])]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('description', `
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('extra', `
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]));

/***/ }),

/***/ "./node_modules/naive-ui/es/select/src/Select.mjs":
/*!********************************************************!*\
  !*** ./node_modules/naive-ui/es/select/src/Select.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   selectProps: () => (/* binding */ selectProps)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/dom/get-precise-event-target.js");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/dom/happens-in.js");
/* harmony import */ var treemate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! treemate */ "./node_modules/treemate/es/create.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Binder.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Target.js");
/* harmony import */ var vueuc__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! vueuc */ "./node_modules/vueuc/es/binder/src/Follower.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-merged-state.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/use-compitable.js");
/* harmony import */ var vooks__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! vooks */ "./node_modules/vooks/es/life-cycle/use-is-mounted.js");
/* harmony import */ var vdirs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! vdirs */ "./node_modules/vdirs/es/clickoutside.js");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-theme.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-config.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-locale.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-form-item.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/composable/use-adjusted-to.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/naive/warn.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/call.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/event/index.mjs");
/* harmony import */ var _internal_index_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../_internal/index.mjs */ "./node_modules/naive-ui/es/_internal/selection/src/Selection.mjs");
/* harmony import */ var _internal_index_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../_internal/index.mjs */ "./node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.mjs");
/* harmony import */ var _styles_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/index.mjs */ "./node_modules/naive-ui/es/select/styles/light.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils.mjs */ "./node_modules/naive-ui/es/select/src/utils.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/select/src/styles/index.cssr.mjs");












const selectProps = Object.assign(Object.assign({}, _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].props), {
  to: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.propTo,
  bordered: {
    type: Boolean,
    default: undefined
  },
  clearable: Boolean,
  clearFilterAfterSelect: {
    type: Boolean,
    default: true
  },
  options: {
    type: Array,
    default: () => []
  },
  defaultValue: {
    type: [String, Number, Array],
    default: null
  },
  keyboard: {
    type: Boolean,
    default: true
  },
  value: [String, Number, Array],
  placeholder: String,
  menuProps: Object,
  multiple: Boolean,
  size: String,
  filterable: Boolean,
  disabled: {
    type: Boolean,
    default: undefined
  },
  remote: Boolean,
  loading: Boolean,
  filter: Function,
  placement: {
    type: String,
    default: 'bottom-start'
  },
  widthMode: {
    type: String,
    default: 'trigger'
  },
  tag: Boolean,
  onCreate: Function,
  fallbackOption: {
    type: [Function, Boolean],
    default: undefined
  },
  show: {
    type: Boolean,
    default: undefined
  },
  showArrow: {
    type: Boolean,
    default: true
  },
  maxTagCount: [Number, String],
  ellipsisTagPopoverProps: Object,
  consistentMenuWidth: {
    type: Boolean,
    default: true
  },
  virtualScroll: {
    type: Boolean,
    default: true
  },
  labelField: {
    type: String,
    default: 'label'
  },
  valueField: {
    type: String,
    default: 'value'
  },
  childrenField: {
    type: String,
    default: 'children'
  },
  renderLabel: Function,
  renderOption: Function,
  renderTag: Function,
  'onUpdate:value': [Function, Array],
  inputProps: Object,
  nodeProps: Function,
  ignoreComposition: {
    type: Boolean,
    default: true
  },
  showOnFocus: Boolean,
  // for jsx
  onUpdateValue: [Function, Array],
  onBlur: [Function, Array],
  onClear: [Function, Array],
  onFocus: [Function, Array],
  onScroll: [Function, Array],
  onSearch: [Function, Array],
  onUpdateShow: [Function, Array],
  'onUpdate:show': [Function, Array],
  displayDirective: {
    type: String,
    default: 'show'
  },
  resetMenuOnOptionsChange: {
    type: Boolean,
    default: true
  },
  status: String,
  showCheckmark: {
    type: Boolean,
    default: true
  },
  /** deprecated */
  onChange: [Function, Array],
  items: Array
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'Select',
  props: selectProps,
  setup(props) {
    if (true) {
      (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
        if (props.items !== undefined) {
          (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.warnOnce)('select', '`items` is deprecated, please use `options` instead.');
        }
        if (props.onChange !== undefined) {
          (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.warnOnce)('select', '`on-change` is deprecated, please use `on-update:value` instead.');
        }
      });
    }
    const {
      mergedClsPrefixRef,
      mergedBorderedRef,
      namespaceRef,
      inlineThemeDisabled
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_4__["default"])(props);
    const themeRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('Select', '-select', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], _styles_index_mjs__WEBPACK_IMPORTED_MODULE_6__["default"], props, mergedClsPrefixRef);
    const uncontrolledValueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(props.defaultValue);
    const controlledValueRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'value');
    const mergedValueRef = (0,vooks__WEBPACK_IMPORTED_MODULE_7__["default"])(controlledValueRef, uncontrolledValueRef);
    const focusedRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    const patternRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)('');
    const treeMateRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        valueField,
        childrenField
      } = props;
      const options = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.createTmOptions)(valueField, childrenField);
      return (0,treemate__WEBPACK_IMPORTED_MODULE_9__.createTreeMate)(filteredOptionsRef.value, options);
    });
    const valOptMapRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.createValOptMap)(localOptionsRef.value, props.valueField, props.childrenField));
    const uncontrolledShowRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    const mergedShowRef = (0,vooks__WEBPACK_IMPORTED_MODULE_7__["default"])((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'show'), uncontrolledShowRef);
    const triggerRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const followerRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const menuRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const {
      localeRef
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_10__["default"])('Select');
    const localizedPlaceholderRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      var _a;
      return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;
    });
    const compitableOptionsRef = (0,vooks__WEBPACK_IMPORTED_MODULE_11__["default"])(props, ['items', 'options']);
    const emptyArray = [];
    const createdOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]);
    const beingCreatedOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]);
    const memoValOptMapRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(new Map());
    const wrappedFallbackOptionRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        fallbackOption
      } = props;
      if (fallbackOption === undefined) {
        const {
          labelField,
          valueField
        } = props;
        return value => ({
          [labelField]: String(value),
          [valueField]: value
        });
      }
      if (fallbackOption === false) return false;
      return value => {
        return Object.assign(fallbackOption(value), {
          value
        });
      };
    });
    const localOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);
    });
    const resolvedFilterRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        filter
      } = props;
      if (filter) return filter;
      const {
        labelField,
        valueField
      } = props;
      return (pattern, option) => {
        if (!option) return false;
        const label = option[labelField];
        if (typeof label === 'string') {
          return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.patternMatched)(pattern, label);
        }
        const value = option[valueField];
        if (typeof value === 'string') {
          return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.patternMatched)(pattern, value);
        }
        if (typeof value === 'number') {
          return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.patternMatched)(pattern, String(value));
        }
        return false;
      };
    });
    const filteredOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      if (props.remote) {
        return compitableOptionsRef.value;
      } else {
        const {
          value: localOptions
        } = localOptionsRef;
        const {
          value: pattern
        } = patternRef;
        if (!pattern.length || !props.filterable) {
          return localOptions;
        } else {
          return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.filterOptions)(localOptions, resolvedFilterRef.value, pattern, props.childrenField);
        }
      }
    });
    function getMergedOptions(values) {
      const remote = props.remote;
      const {
        value: memoValOptMap
      } = memoValOptMapRef;
      const {
        value: valOptMap
      } = valOptMapRef;
      const {
        value: wrappedFallbackOption
      } = wrappedFallbackOptionRef;
      const options = [];
      values.forEach(value => {
        if (valOptMap.has(value)) {
          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
          options.push(valOptMap.get(value));
        } else if (remote && memoValOptMap.has(value)) {
          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
          options.push(memoValOptMap.get(value));
        } else if (wrappedFallbackOption) {
          const option = wrappedFallbackOption(value);
          if (option) {
            options.push(option);
          }
        }
      });
      return options;
    }
    const selectedOptionsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      if (props.multiple) {
        const {
          value: values
        } = mergedValueRef;
        if (!Array.isArray(values)) return [];
        return getMergedOptions(values);
      }
      return null;
    });
    const selectedOptionRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        value: mergedValue
      } = mergedValueRef;
      if (!props.multiple && !Array.isArray(mergedValue)) {
        if (mergedValue === null) return null;
        return getMergedOptions([mergedValue])[0] || null;
      }
      return null;
    });
    const formItem = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_12__["default"])(props);
    const {
      mergedSizeRef,
      mergedDisabledRef,
      mergedStatusRef
    } = formItem;
    function doUpdateValue(value, option) {
      const {
        onChange,
        'onUpdate:value': _onUpdateValue,
        onUpdateValue
      } = props;
      const {
        nTriggerFormChange,
        nTriggerFormInput
      } = formItem;
      if (onChange) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onChange, value, option);
      if (onUpdateValue) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onUpdateValue, value, option);
      if (_onUpdateValue) {
        (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(_onUpdateValue, value, option);
      }
      uncontrolledValueRef.value = value;
      nTriggerFormChange();
      nTriggerFormInput();
    }
    function doBlur(e) {
      const {
        onBlur
      } = props;
      const {
        nTriggerFormBlur
      } = formItem;
      if (onBlur) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onBlur, e);
      nTriggerFormBlur();
    }
    function doClear() {
      const {
        onClear
      } = props;
      if (onClear) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onClear);
    }
    function doFocus(e) {
      const {
        onFocus,
        showOnFocus
      } = props;
      const {
        nTriggerFormFocus
      } = formItem;
      if (onFocus) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onFocus, e);
      nTriggerFormFocus();
      if (showOnFocus) {
        openMenu();
      }
    }
    function doSearch(value) {
      const {
        onSearch
      } = props;
      if (onSearch) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onSearch, value);
    }
    function doScroll(e) {
      const {
        onScroll
      } = props;
      if (onScroll) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onScroll, e);
    }
    // remote related methods
    function updateMemorizedOptions() {
      var _a;
      const {
        remote,
        multiple
      } = props;
      if (remote) {
        const {
          value: memoValOptMap
        } = memoValOptMapRef;
        if (multiple) {
          const {
            valueField
          } = props;
          (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach(option => {
            memoValOptMap.set(option[valueField], option);
          });
        } else {
          const option = selectedOptionRef.value;
          if (option) {
            memoValOptMap.set(option[props.valueField], option);
          }
        }
      }
    }
    // menu related methods
    function doUpdateShow(value) {
      const {
        onUpdateShow,
        'onUpdate:show': _onUpdateShow
      } = props;
      if (onUpdateShow) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(onUpdateShow, value);
      if (_onUpdateShow) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.call)(_onUpdateShow, value);
      uncontrolledShowRef.value = value;
    }
    function openMenu() {
      if (!mergedDisabledRef.value) {
        doUpdateShow(true);
        uncontrolledShowRef.value = true;
        if (props.filterable) {
          focusSelectionInput();
        }
      }
    }
    function closeMenu() {
      doUpdateShow(false);
    }
    function handleMenuAfterLeave() {
      patternRef.value = '';
      beingCreatedOptionsRef.value = emptyArray;
    }
    const activeWithoutMenuOpenRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);
    function onTriggerInputFocus() {
      if (props.filterable) {
        activeWithoutMenuOpenRef.value = true;
      }
    }
    function onTriggerInputBlur() {
      if (props.filterable) {
        activeWithoutMenuOpenRef.value = false;
        if (!mergedShowRef.value) {
          handleMenuAfterLeave();
        }
      }
    }
    function handleTriggerClick() {
      if (mergedDisabledRef.value) return;
      if (!mergedShowRef.value) {
        openMenu();
      } else {
        if (!props.filterable) {
          // already focused, don't need to return focus
          closeMenu();
        } else {
          focusSelectionInput();
        }
      }
    }
    function handleTriggerBlur(e) {
      var _a, _b;
      if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {
        return;
      }
      focusedRef.value = false;
      doBlur(e);
      // outside select, don't need to return focus
      closeMenu();
    }
    function handleTriggerFocus(e) {
      doFocus(e);
      focusedRef.value = true;
    }
    function handleMenuFocus(e) {
      focusedRef.value = true;
    }
    function handleMenuBlur(e) {
      var _a;
      if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget)) return;
      focusedRef.value = false;
      doBlur(e);
      // outside select, don't need to return focus
      closeMenu();
    }
    function handleMenuTabOut() {
      var _a;
      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();
      closeMenu();
    }
    function handleMenuClickOutside(e) {
      var _a;
      if (mergedShowRef.value) {
        if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains((0,seemly__WEBPACK_IMPORTED_MODULE_14__.getPreciseEventTarget)(e)))) {
          // outside select, don't need to return focus
          closeMenu();
        }
      }
    }
    function createClearedMultipleSelectValue(value) {
      if (!Array.isArray(value)) return [];
      if (wrappedFallbackOptionRef.value) {
        // if option has a fallback, I can't help user to clear some unknown value
        return Array.from(value);
      } else {
        // if there's no option fallback, unappeared options are treated as invalid
        const {
          remote
        } = props;
        const {
          value: valOptMap
        } = valOptMapRef;
        if (remote) {
          const {
            value: memoValOptMap
          } = memoValOptMapRef;
          return value.filter(v => valOptMap.has(v) || memoValOptMap.has(v));
        } else {
          return value.filter(v => valOptMap.has(v));
        }
      }
    }
    function handleToggleByTmNode(tmNode) {
      handleToggleByOption(tmNode.rawNode);
    }
    function handleToggleByOption(option) {
      if (mergedDisabledRef.value) return;
      const {
        tag,
        remote,
        clearFilterAfterSelect,
        valueField
      } = props;
      if (tag && !remote) {
        const {
          value: beingCreatedOptions
        } = beingCreatedOptionsRef;
        const beingCreatedOption = beingCreatedOptions[0] || null;
        if (beingCreatedOption) {
          const createdOptions = createdOptionsRef.value;
          if (!createdOptions.length) {
            createdOptionsRef.value = [beingCreatedOption];
          } else {
            createdOptions.push(beingCreatedOption);
          }
          beingCreatedOptionsRef.value = emptyArray;
        }
      }
      if (remote) {
        memoValOptMapRef.value.set(option[valueField], option);
      }
      if (props.multiple) {
        const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);
        const index = changedValue.findIndex(value => value === option[valueField]);
        if (~index) {
          changedValue.splice(index, 1);
          if (tag && !remote) {
            const createdOptionIndex = getCreatedOptionIndex(option[valueField]);
            if (~createdOptionIndex) {
              createdOptionsRef.value.splice(createdOptionIndex, 1);
              if (clearFilterAfterSelect) patternRef.value = '';
            }
          }
        } else {
          changedValue.push(option[valueField]);
          if (clearFilterAfterSelect) patternRef.value = '';
        }
        doUpdateValue(changedValue, getMergedOptions(changedValue));
      } else {
        if (tag && !remote) {
          const createdOptionIndex = getCreatedOptionIndex(option[valueField]);
          if (~createdOptionIndex) {
            createdOptionsRef.value = [createdOptionsRef.value[createdOptionIndex]];
          } else {
            createdOptionsRef.value = emptyArray;
          }
        }
        focusSelection();
        closeMenu();
        doUpdateValue(option[valueField], option);
      }
    }
    function getCreatedOptionIndex(optionValue) {
      const createdOptions = createdOptionsRef.value;
      return createdOptions.findIndex(createdOption => createdOption[props.valueField] === optionValue);
    }
    function handlePatternInput(e) {
      if (!mergedShowRef.value) {
        openMenu();
      }
      const {
        value
      } = e.target;
      patternRef.value = value;
      const {
        tag,
        remote
      } = props;
      doSearch(value);
      if (tag && !remote) {
        if (!value) {
          beingCreatedOptionsRef.value = emptyArray;
          return;
        }
        const {
          onCreate
        } = props;
        const optionBeingCreated = onCreate ? onCreate(value) : {
          [props.labelField]: value,
          [props.valueField]: value
        };
        const {
          valueField,
          labelField
        } = props;
        if (compitableOptionsRef.value.some(option => {
          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];
        }) || createdOptionsRef.value.some(option => {
          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];
        })) {
          beingCreatedOptionsRef.value = emptyArray;
        } else {
          beingCreatedOptionsRef.value = [optionBeingCreated];
        }
      }
    }
    function handleClear(e) {
      e.stopPropagation();
      const {
        multiple
      } = props;
      if (!multiple && props.filterable) {
        closeMenu();
      }
      doClear();
      if (multiple) {
        doUpdateValue([], []);
      } else {
        doUpdateValue(null, null);
      }
    }
    function handleMenuMousedown(e) {
      if (!(0,seemly__WEBPACK_IMPORTED_MODULE_15__.happensIn)(e, 'action') && !(0,seemly__WEBPACK_IMPORTED_MODULE_15__.happensIn)(e, 'empty')) e.preventDefault();
    }
    // scroll events on menu
    function handleMenuScroll(e) {
      doScroll(e);
    }
    // keyboard events
    // also for menu keydown
    function handleKeydown(e) {
      var _a, _b, _c, _d, _e;
      if (!props.keyboard) {
        e.preventDefault();
        return;
      }
      switch (e.key) {
        case ' ':
          if (props.filterable) break;else {
            e.preventDefault();
          }
        // eslint-disable-next-line no-fallthrough
        case 'Enter':
          if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {
            if (mergedShowRef.value) {
              const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();
              if (pendingTmNode) {
                handleToggleByTmNode(pendingTmNode);
              } else if (!props.filterable) {
                closeMenu();
                focusSelection();
              }
            } else {
              openMenu();
              if (props.tag && activeWithoutMenuOpenRef.value) {
                const beingCreatedOption = beingCreatedOptionsRef.value[0];
                if (beingCreatedOption) {
                  const optionValue = beingCreatedOption[props.valueField];
                  const {
                    value: mergedValue
                  } = mergedValueRef;
                  if (props.multiple) {
                    if (Array.isArray(mergedValue) && mergedValue.some(value => value === optionValue)) {
                      // do nothing
                    } else {
                      handleToggleByOption(beingCreatedOption);
                    }
                  } else {
                    handleToggleByOption(beingCreatedOption);
                  }
                }
              }
            }
          }
          e.preventDefault();
          break;
        case 'ArrowUp':
          e.preventDefault();
          if (props.loading) return;
          if (mergedShowRef.value) {
            (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();
          }
          break;
        case 'ArrowDown':
          e.preventDefault();
          if (props.loading) return;
          if (mergedShowRef.value) {
            (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();
          } else {
            openMenu();
          }
          break;
        case 'Escape':
          if (mergedShowRef.value) {
            (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_16__.markEventEffectPerformed)(e);
            closeMenu();
          }
          (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();
          break;
      }
    }
    function focusSelection() {
      var _a;
      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();
    }
    function focusSelectionInput() {
      var _a;
      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();
    }
    function handleTriggerOrMenuResize() {
      var _a;
      if (!mergedShowRef.value) return;
      (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();
    }
    updateMemorizedOptions();
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.watch)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'options'), updateMemorizedOptions);
    const exposedMethods = {
      focus: () => {
        var _a;
        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();
      },
      focusInput: () => {
        var _a;
        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();
      },
      blur: () => {
        var _a;
        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();
      },
      blurInput: () => {
        var _a;
        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blurInput();
      }
    };
    const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        self: {
          menuBoxShadow
        }
      } = themeRef.value;
      return {
        '--n-menu-box-shadow': menuBoxShadow
      };
    });
    const themeClassHandle = inlineThemeDisabled ? (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_17__.useThemeClass)('select', undefined, cssVarsRef, props) : undefined;
    return Object.assign(Object.assign({}, exposedMethods), {
      mergedStatus: mergedStatusRef,
      mergedClsPrefix: mergedClsPrefixRef,
      mergedBordered: mergedBorderedRef,
      namespace: namespaceRef,
      treeMate: treeMateRef,
      isMounted: (0,vooks__WEBPACK_IMPORTED_MODULE_18__["default"])(),
      triggerRef,
      menuRef,
      pattern: patternRef,
      uncontrolledShow: uncontrolledShowRef,
      mergedShow: mergedShowRef,
      adjustedTo: (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo)(props),
      uncontrolledValue: uncontrolledValueRef,
      mergedValue: mergedValueRef,
      followerRef,
      localizedPlaceholder: localizedPlaceholderRef,
      selectedOption: selectedOptionRef,
      selectedOptions: selectedOptionsRef,
      mergedSize: mergedSizeRef,
      mergedDisabled: mergedDisabledRef,
      focused: focusedRef,
      activeWithoutMenuOpen: activeWithoutMenuOpenRef,
      inlineThemeDisabled,
      onTriggerInputFocus,
      onTriggerInputBlur,
      handleTriggerOrMenuResize,
      handleMenuFocus,
      handleMenuBlur,
      handleMenuTabOut,
      handleTriggerClick,
      handleToggle: handleToggleByTmNode,
      handleDeleteOption: handleToggleByOption,
      handlePatternInput,
      handleClear,
      handleTriggerBlur,
      handleTriggerFocus,
      handleKeydown,
      handleMenuAfterLeave,
      handleMenuClickOutside,
      handleMenuScroll,
      handleMenuKeydown: handleKeydown,
      handleMenuMousedown,
      mergedTheme: themeRef,
      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
    });
  },
  render() {
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${this.mergedClsPrefix}-select`
    }, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_19__["default"], null, {
      default: () => [(0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_20__["default"], null, {
        default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal_index_mjs__WEBPACK_IMPORTED_MODULE_21__["default"], {
          ref: "triggerRef",
          inlineThemeDisabled: this.inlineThemeDisabled,
          status: this.mergedStatus,
          inputProps: this.inputProps,
          clsPrefix: this.mergedClsPrefix,
          showArrow: this.showArrow,
          maxTagCount: this.maxTagCount,
          ellipsisTagPopoverProps: this.ellipsisTagPopoverProps,
          bordered: this.mergedBordered,
          active: this.activeWithoutMenuOpen || this.mergedShow,
          pattern: this.pattern,
          placeholder: this.localizedPlaceholder,
          selectedOption: this.selectedOption,
          selectedOptions: this.selectedOptions,
          multiple: this.multiple,
          renderTag: this.renderTag,
          renderLabel: this.renderLabel,
          filterable: this.filterable,
          clearable: this.clearable,
          disabled: this.mergedDisabled,
          size: this.mergedSize,
          theme: this.mergedTheme.peers.InternalSelection,
          labelField: this.labelField,
          valueField: this.valueField,
          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,
          loading: this.loading,
          focused: this.focused,
          onClick: this.handleTriggerClick,
          onDeleteOption: this.handleDeleteOption,
          onPatternInput: this.handlePatternInput,
          onClear: this.handleClear,
          onBlur: this.handleTriggerBlur,
          onFocus: this.handleTriggerFocus,
          onKeydown: this.handleKeydown,
          onPatternBlur: this.onTriggerInputBlur,
          onPatternFocus: this.onTriggerInputFocus,
          onResize: this.handleTriggerOrMenuResize,
          ignoreComposition: this.ignoreComposition
        }, {
          arrow: () => {
            var _a, _b;
            return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)];
          }
        })
      }), (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vueuc__WEBPACK_IMPORTED_MODULE_22__["default"], {
        ref: "followerRef",
        show: this.mergedShow,
        to: this.adjustedTo,
        teleportDisabled: this.adjustedTo === _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__.useAdjustedTo.tdkey,
        containerClass: this.namespace,
        width: this.consistentMenuWidth ? 'target' : undefined,
        minWidth: "target",
        placement: this.placement
      }, {
        default: () => (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(vue__WEBPACK_IMPORTED_MODULE_0__.Transition, {
          name: "fade-in-scale-up-transition",
          appear: this.isMounted,
          onAfterLeave: this.handleMenuAfterLeave
        }, {
          default: () => {
            var _a, _b, _c;
            if (!(this.mergedShow || this.displayDirective === 'show')) {
              return null;
            }
            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);
            return (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal_index_mjs__WEBPACK_IMPORTED_MODULE_23__["default"], Object.assign({}, this.menuProps, {
              ref: "menuRef",
              onResize: this.handleTriggerOrMenuResize,
              inlineThemeDisabled: this.inlineThemeDisabled,
              virtualScroll: this.consistentMenuWidth && this.virtualScroll,
              class: [`${this.mergedClsPrefix}-select-menu`, this.themeClass, (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class],
              clsPrefix: this.mergedClsPrefix,
              focusable: true,
              labelField: this.labelField,
              valueField: this.valueField,
              autoPending: true,
              nodeProps: this.nodeProps,
              theme: this.mergedTheme.peers.InternalSelectMenu,
              themeOverrides: this.mergedTheme.peerOverrides.InternalSelectMenu,
              treeMate: this.treeMate,
              multiple: this.multiple,
              size: "medium",
              renderOption: this.renderOption,
              renderLabel: this.renderLabel,
              value: this.mergedValue,
              style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars],
              onToggle: this.handleToggle,
              onScroll: this.handleMenuScroll,
              onFocus: this.handleMenuFocus,
              onBlur: this.handleMenuBlur,
              onKeydown: this.handleMenuKeydown,
              onTabOut: this.handleMenuTabOut,
              onMousedown: this.handleMenuMousedown,
              show: this.mergedShow,
              showCheckmark: this.showCheckmark,
              resetMenuOnOptionsChange: this.resetMenuOnOptionsChange
            }), {
              empty: () => {
                var _a, _b;
                return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)];
              },
              header: () => {
                var _a, _b;
                return [(_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a)];
              },
              action: () => {
                var _a, _b;
                return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)];
              }
            }), this.displayDirective === 'show' ? [[vue__WEBPACK_IMPORTED_MODULE_0__.vShow, this.mergedShow], [vdirs__WEBPACK_IMPORTED_MODULE_24__["default"], this.handleMenuClickOutside, undefined, {
              capture: true
            }]] : [[vdirs__WEBPACK_IMPORTED_MODULE_24__["default"], this.handleMenuClickOutside, undefined, {
              capture: true
            }]]);
          }
        })
      })]
    }));
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/select/src/styles/index.cssr.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/naive-ui/es/select/src/styles/index.cssr.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _styles_transitions_fade_in_scale_up_cssr_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_styles/transitions/fade-in-scale-up.cssr.mjs */ "./node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.mjs");


// --n-menu-box-shadow
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)([(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('select', `
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('select-menu', `
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `, [(0,_styles_transitions_fade_in_scale_up_cssr_mjs__WEBPACK_IMPORTED_MODULE_1__.fadeInScaleUpTransition)({
  originalTransition: 'background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)'
})])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/select/src/utils.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/naive-ui/es/select/src/utils.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createTmOptions: () => (/* binding */ createTmOptions),
/* harmony export */   createValOptMap: () => (/* binding */ createValOptMap),
/* harmony export */   filterOptions: () => (/* binding */ filterOptions),
/* harmony export */   getIgnored: () => (/* binding */ getIgnored),
/* harmony export */   getIsGroup: () => (/* binding */ getIsGroup),
/* harmony export */   patternMatched: () => (/* binding */ patternMatched)
/* harmony export */ });
function getIsGroup(option) {
  return option.type === 'group';
}
function getIgnored(option) {
  return option.type === 'ignored';
}
function patternMatched(pattern, value) {
  try {
    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));
  } catch (err) {
    return false;
  }
}
function createTmOptions(valueField, childrenField) {
  const options = {
    getIsGroup,
    getIgnored,
    getKey(option) {
      if (getIsGroup(option)) {
        return option.name || option.key || 'key-required';
      }
      // Required for non-custom label & value field
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      return option[valueField];
    },
    getChildren(option) {
      return option[childrenField];
    }
  };
  return options;
}
function filterOptions(originalOpts, filter, pattern, childrenField) {
  if (!filter) return originalOpts;
  function traverse(options) {
    if (!Array.isArray(options)) return [];
    const filteredOptions = [];
    for (const option of options) {
      if (getIsGroup(option)) {
        const children = traverse(option[childrenField]);
        if (children.length) {
          filteredOptions.push(Object.assign({}, option, {
            [childrenField]: children
          }));
        }
      } else if (getIgnored(option)) {
        continue;
      } else if (filter(pattern, option)) {
        filteredOptions.push(option);
      }
    }
    return filteredOptions;
  }
  return traverse(originalOpts);
}
function createValOptMap(options, valueField, childrenField) {
  const valOptMap = new Map();
  options.forEach(option => {
    if (getIsGroup(option)) {
      ;
      option[childrenField].forEach(selectGroupOption => {
        valOptMap.set(selectGroupOption[valueField], selectGroupOption);
      });
    } else {
      valOptMap.set(option[valueField], option);
    }
  });
  return valOptMap;
}

/***/ }),

/***/ "./node_modules/naive-ui/es/tag/src/Tag.mjs":
/*!**************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/src/Tag.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   tagInjectionKey: () => (/* binding */ tagInjectionKey),
/* harmony export */   tagProps: () => (/* binding */ tagProps)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.runtime.esm-bundler.js");
/* harmony import */ var _mixins_use_rtl_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_mixins/use-rtl.mjs */ "./node_modules/naive-ui/es/_mixins/use-rtl.mjs");
/* harmony import */ var _internal_close_index_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_internal/close/index.mjs */ "./node_modules/naive-ui/es/_internal/close/src/Close.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-theme.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-config.mjs");
/* harmony import */ var _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_mixins/index.mjs */ "./node_modules/naive-ui/es/_mixins/use-css-vars-class.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/create-injection-key.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/naive/warn.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/call.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/css/color-to-class.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_utils/index.mjs */ "./node_modules/naive-ui/es/_utils/vue/resolve-slot.mjs");
/* harmony import */ var _styles_index_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles/index.mjs */ "./node_modules/naive-ui/es/tag/styles/light.mjs");
/* harmony import */ var _common_props_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common-props.mjs */ "./node_modules/naive-ui/es/tag/src/common-props.mjs");
/* harmony import */ var _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./styles/index.cssr.mjs */ "./node_modules/naive-ui/es/tag/src/styles/index.cssr.mjs");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/css/index.js");









const tagProps = Object.assign(Object.assign(Object.assign({}, _mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].props), _common_props_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]), {
  bordered: {
    type: Boolean,
    default: undefined
  },
  checked: Boolean,
  checkable: Boolean,
  strong: Boolean,
  triggerClickOnClose: Boolean,
  onClose: [Array, Function],
  onMouseenter: Function,
  onMouseleave: Function,
  'onUpdate:checked': Function,
  onUpdateChecked: Function,
  // private
  internalCloseFocusable: {
    type: Boolean,
    default: true
  },
  internalCloseIsButtonTag: {
    type: Boolean,
    default: true
  },
  // deprecated
  onCheckedChange: Function
});
const tagInjectionKey = (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.createInjectionKey)('n-tag');
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({
  name: 'Tag',
  props: tagProps,
  setup(props) {
    if (true) {
      (0,vue__WEBPACK_IMPORTED_MODULE_0__.watchEffect)(() => {
        if (props.onCheckedChange !== undefined) {
          (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__.warnOnce)('tag', '`on-checked-change` is deprecated, please use `on-update:checked` instead');
        }
      });
    }
    const contentRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null);
    const {
      mergedBorderedRef,
      mergedClsPrefixRef,
      inlineThemeDisabled,
      mergedRtlRef
    } = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_5__["default"])(props);
    const themeRef = (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('Tag', '-tag', _styles_index_cssr_mjs__WEBPACK_IMPORTED_MODULE_6__["default"], _styles_index_mjs__WEBPACK_IMPORTED_MODULE_7__["default"], props, mergedClsPrefixRef);
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.provide)(tagInjectionKey, {
      roundRef: (0,vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(props, 'round')
    });
    function handleClick(e) {
      if (!props.disabled) {
        if (props.checkable) {
          const {
            checked,
            onCheckedChange,
            onUpdateChecked,
            'onUpdate:checked': _onUpdateChecked
          } = props;
          if (onUpdateChecked) onUpdateChecked(!checked);
          if (_onUpdateChecked) _onUpdateChecked(!checked);
          // deprecated
          if (onCheckedChange) onCheckedChange(!checked);
        }
      }
    }
    function handleCloseClick(e) {
      if (!props.triggerClickOnClose) {
        e.stopPropagation();
      }
      if (!props.disabled) {
        const {
          onClose
        } = props;
        if (onClose) (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_8__.call)(onClose, e);
      }
    }
    const tagPublicMethods = {
      setTextContent(textContent) {
        const {
          value
        } = contentRef;
        if (value) value.textContent = textContent;
      }
    };
    const rtlEnabledRef = (0,_mixins_use_rtl_mjs__WEBPACK_IMPORTED_MODULE_9__.useRtl)('Tag', mergedRtlRef, mergedClsPrefixRef);
    const cssVarsRef = (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      const {
        type,
        size,
        color: {
          color,
          textColor
        } = {}
      } = props;
      const {
        common: {
          cubicBezierEaseInOut
        },
        self: {
          padding,
          closeMargin,
          borderRadius,
          opacityDisabled,
          textColorCheckable,
          textColorHoverCheckable,
          textColorPressedCheckable,
          textColorChecked,
          colorCheckable,
          colorHoverCheckable,
          colorPressedCheckable,
          colorChecked,
          colorCheckedHover,
          colorCheckedPressed,
          closeBorderRadius,
          fontWeightStrong,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('colorBordered', type)]: colorBordered,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeSize', size)]: closeSize,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeIconSize', size)]: closeIconSize,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('fontSize', size)]: fontSize,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('height', size)]: height,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('color', type)]: typedColor,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('textColor', type)]: typeTextColor,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('border', type)]: border,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeIconColor', type)]: closeIconColor,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeIconColorHover', type)]: closeIconColorHover,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeIconColorPressed', type)]: closeIconColorPressed,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeColorHover', type)]: closeColorHover,
          [(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_10__.createKey)('closeColorPressed', type)]: closeColorPressed
        }
      } = themeRef.value;
      const closeMarginDiscrete = (0,seemly__WEBPACK_IMPORTED_MODULE_11__.getMargin)(closeMargin);
      return {
        '--n-font-weight-strong': fontWeightStrong,
        '--n-avatar-size-override': `calc(${height} - 8px)`,
        '--n-bezier': cubicBezierEaseInOut,
        '--n-border-radius': borderRadius,
        '--n-border': border,
        '--n-close-icon-size': closeIconSize,
        '--n-close-color-pressed': closeColorPressed,
        '--n-close-color-hover': closeColorHover,
        '--n-close-border-radius': closeBorderRadius,
        '--n-close-icon-color': closeIconColor,
        '--n-close-icon-color-hover': closeIconColorHover,
        '--n-close-icon-color-pressed': closeIconColorPressed,
        '--n-close-icon-color-disabled': closeIconColor,
        '--n-close-margin-top': closeMarginDiscrete.top,
        '--n-close-margin-right': closeMarginDiscrete.right,
        '--n-close-margin-bottom': closeMarginDiscrete.bottom,
        '--n-close-margin-left': closeMarginDiscrete.left,
        '--n-close-size': closeSize,
        '--n-color': color || (mergedBorderedRef.value ? colorBordered : typedColor),
        '--n-color-checkable': colorCheckable,
        '--n-color-checked': colorChecked,
        '--n-color-checked-hover': colorCheckedHover,
        '--n-color-checked-pressed': colorCheckedPressed,
        '--n-color-hover-checkable': colorHoverCheckable,
        '--n-color-pressed-checkable': colorPressedCheckable,
        '--n-font-size': fontSize,
        '--n-height': height,
        '--n-opacity-disabled': opacityDisabled,
        '--n-padding': padding,
        '--n-text-color': textColor || typeTextColor,
        '--n-text-color-checkable': textColorCheckable,
        '--n-text-color-checked': textColorChecked,
        '--n-text-color-hover-checkable': textColorHoverCheckable,
        '--n-text-color-pressed-checkable': textColorPressedCheckable
      };
    });
    const themeClassHandle = inlineThemeDisabled ? (0,_mixins_index_mjs__WEBPACK_IMPORTED_MODULE_12__.useThemeClass)('tag', (0,vue__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {
      let hash = '';
      const {
        type,
        size,
        color: {
          color,
          textColor
        } = {}
      } = props;
      hash += type[0];
      hash += size[0];
      if (color) {
        hash += `a${(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.color2Class)(color)}`;
      }
      if (textColor) {
        hash += `b${(0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_13__.color2Class)(textColor)}`;
      }
      if (mergedBorderedRef.value) {
        hash += 'c';
      }
      return hash;
    }), cssVarsRef, props) : undefined;
    return Object.assign(Object.assign({}, tagPublicMethods), {
      rtlEnabled: rtlEnabledRef,
      mergedClsPrefix: mergedClsPrefixRef,
      contentRef,
      mergedBordered: mergedBorderedRef,
      handleClick,
      handleCloseClick,
      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,
      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,
      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender
    });
  },
  render() {
    var _a, _b;
    const {
      mergedClsPrefix,
      rtlEnabled,
      closable,
      color: {
        borderColor
      } = {},
      round,
      onRender,
      $slots
    } = this;
    onRender === null || onRender === void 0 ? void 0 : onRender();
    const avatarNode = (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_14__.resolveWrappedSlot)($slots.avatar, children => children && (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${mergedClsPrefix}-tag__avatar`
    }, children));
    const iconNode = (0,_utils_index_mjs__WEBPACK_IMPORTED_MODULE_14__.resolveWrappedSlot)($slots.icon, children => children && (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${mergedClsPrefix}-tag__icon`
    }, children));
    return (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: [`${mergedClsPrefix}-tag`, this.themeClass, {
        [`${mergedClsPrefix}-tag--rtl`]: rtlEnabled,
        [`${mergedClsPrefix}-tag--strong`]: this.strong,
        [`${mergedClsPrefix}-tag--disabled`]: this.disabled,
        [`${mergedClsPrefix}-tag--checkable`]: this.checkable,
        [`${mergedClsPrefix}-tag--checked`]: this.checkable && this.checked,
        [`${mergedClsPrefix}-tag--round`]: round,
        [`${mergedClsPrefix}-tag--avatar`]: avatarNode,
        [`${mergedClsPrefix}-tag--icon`]: iconNode,
        [`${mergedClsPrefix}-tag--closable`]: closable
      }],
      style: this.cssVars,
      onClick: this.handleClick,
      onMouseenter: this.onMouseenter,
      onMouseleave: this.onMouseleave
    }, iconNode || avatarNode, (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: `${mergedClsPrefix}-tag__content`,
      ref: "contentRef"
    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)), !this.checkable && closable ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)(_internal_close_index_mjs__WEBPACK_IMPORTED_MODULE_15__["default"], {
      clsPrefix: mergedClsPrefix,
      class: `${mergedClsPrefix}-tag__close`,
      disabled: this.disabled,
      onClick: this.handleCloseClick,
      focusable: this.internalCloseFocusable,
      round: round,
      isButtonTag: this.internalCloseIsButtonTag,
      absolute: true
    }) : null, !this.checkable && this.mergedBordered ? (0,vue__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: `${mergedClsPrefix}-tag__border`,
      style: {
        borderColor
      }
    }) : null);
  }
}));

/***/ }),

/***/ "./node_modules/naive-ui/es/tag/src/common-props.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/src/common-props.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  color: Object,
  type: {
    type: String,
    default: 'default'
  },
  round: Boolean,
  size: {
    type: String,
    default: 'medium'
  },
  closable: Boolean,
  disabled: {
    type: Boolean,
    default: undefined
  }
});

/***/ }),

/***/ "./node_modules/naive-ui/es/tag/src/styles/index.cssr.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/src/styles/index.cssr.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_utils/cssr/index.mjs */ "./node_modules/naive-ui/es/_utils/cssr/index.mjs");

// vars:
// --n-bezier
// --n-border-radius
// --n-border
// --n-close-icon-color
// --n-close-icon-color-hover
// --n-close-icon-color-pressed
// --n-close-margin
// --n-close-size
// --n-color
// --n-color-checkable
// --n-color-checked
// --n-color-checked-hover
// --n-color-checked-pressed
// --n-color-hover-checkable
// --n-color-pressed-checkable
// --n-font-size
// --n-height
// --n-opacity-disabled
// --n-padding
// --n-text-color
// --n-text-color-checkable
// --n-text-color-checked
// --n-text-color-hover-checkable
// --n-text-color-pressed-checkable
// --n-font-weight-strong
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cB)('tag', `
 --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('strong', `
 font-weight: var(--n-font-weight-strong);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('border', `
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('icon', `
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('avatar', `
 display: flex;
 margin: 0 6px 0 0;
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('close', `
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('round', `
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('icon', `
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cE)('avatar', `
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('closable', `
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('icon, avatar', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('round', `
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('disabled', `
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('checkable', `
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', 'background-color: var(--n-color-hover-checkable);', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('checked', 'color: var(--n-text-color-hover-checkable);')]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', 'background-color: var(--n-color-pressed-checkable);', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('checked', 'color: var(--n-text-color-pressed-checkable);')])]), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cM)('checked', `
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `, [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.cNotM)('disabled', [(0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:hover', 'background-color: var(--n-color-checked-hover);'), (0,_utils_cssr_index_mjs__WEBPACK_IMPORTED_MODULE_0__.c)('&:active', 'background-color: var(--n-color-checked-pressed);')])])])]));

/***/ }),

/***/ "./node_modules/naive-ui/es/tag/styles/light.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/naive-ui/es/tag/styles/light.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _common_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_common.mjs */ "./node_modules/naive-ui/es/tag/styles/_common.mjs");
/* harmony import */ var seemly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! seemly */ "./node_modules/seemly/es/color/index.js");
/* harmony import */ var _styles_common_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_styles/common/index.mjs */ "./node_modules/naive-ui/es/_styles/common/light.mjs");



const self = vars => {
  const {
    textColor2,
    primaryColorHover,
    primaryColorPressed,
    primaryColor,
    infoColor,
    successColor,
    warningColor,
    errorColor,
    baseColor,
    borderColor,
    opacityDisabled,
    tagColor,
    closeIconColor,
    closeIconColorHover,
    closeIconColorPressed,
    borderRadiusSmall: borderRadius,
    fontSizeMini,
    fontSizeTiny,
    fontSizeSmall,
    fontSizeMedium,
    heightMini,
    heightTiny,
    heightSmall,
    heightMedium,
    closeColorHover,
    closeColorPressed,
    buttonColor2Hover,
    buttonColor2Pressed,
    fontWeightStrong
  } = vars;
  return Object.assign(Object.assign({}, _common_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]), {
    closeBorderRadius: borderRadius,
    heightTiny: heightMini,
    heightSmall: heightTiny,
    heightMedium: heightSmall,
    heightLarge: heightMedium,
    borderRadius,
    opacityDisabled,
    fontSizeTiny: fontSizeMini,
    fontSizeSmall: fontSizeTiny,
    fontSizeMedium: fontSizeSmall,
    fontSizeLarge: fontSizeMedium,
    fontWeightStrong,
    // checked
    textColorCheckable: textColor2,
    textColorHoverCheckable: textColor2,
    textColorPressedCheckable: textColor2,
    textColorChecked: baseColor,
    colorCheckable: '#0000',
    colorHoverCheckable: buttonColor2Hover,
    colorPressedCheckable: buttonColor2Pressed,
    colorChecked: primaryColor,
    colorCheckedHover: primaryColorHover,
    colorCheckedPressed: primaryColorPressed,
    // default
    border: `1px solid ${borderColor}`,
    textColor: textColor2,
    color: tagColor,
    colorBordered: 'rgb(250, 250, 252)',
    closeIconColor,
    closeIconColorHover,
    closeIconColorPressed,
    closeColorHover,
    closeColorPressed,
    borderPrimary: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
      alpha: 0.3
    })}`,
    textColorPrimary: primaryColor,
    colorPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
      alpha: 0.12
    }),
    colorBorderedPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
      alpha: 0.1
    }),
    closeIconColorPrimary: primaryColor,
    closeIconColorHoverPrimary: primaryColor,
    closeIconColorPressedPrimary: primaryColor,
    closeColorHoverPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
      alpha: 0.12
    }),
    closeColorPressedPrimary: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(primaryColor, {
      alpha: 0.18
    }),
    borderInfo: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, {
      alpha: 0.3
    })}`,
    textColorInfo: infoColor,
    colorInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, {
      alpha: 0.12
    }),
    colorBorderedInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, {
      alpha: 0.1
    }),
    closeIconColorInfo: infoColor,
    closeIconColorHoverInfo: infoColor,
    closeIconColorPressedInfo: infoColor,
    closeColorHoverInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, {
      alpha: 0.12
    }),
    closeColorPressedInfo: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(infoColor, {
      alpha: 0.18
    }),
    borderSuccess: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, {
      alpha: 0.3
    })}`,
    textColorSuccess: successColor,
    colorSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, {
      alpha: 0.12
    }),
    colorBorderedSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, {
      alpha: 0.1
    }),
    closeIconColorSuccess: successColor,
    closeIconColorHoverSuccess: successColor,
    closeIconColorPressedSuccess: successColor,
    closeColorHoverSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, {
      alpha: 0.12
    }),
    closeColorPressedSuccess: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(successColor, {
      alpha: 0.18
    }),
    borderWarning: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
      alpha: 0.35
    })}`,
    textColorWarning: warningColor,
    colorWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
      alpha: 0.15
    }),
    colorBorderedWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
      alpha: 0.12
    }),
    closeIconColorWarning: warningColor,
    closeIconColorHoverWarning: warningColor,
    closeIconColorPressedWarning: warningColor,
    closeColorHoverWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
      alpha: 0.12
    }),
    closeColorPressedWarning: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(warningColor, {
      alpha: 0.18
    }),
    borderError: `1px solid ${(0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
      alpha: 0.23
    })}`,
    textColorError: errorColor,
    colorError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
      alpha: 0.1
    }),
    colorBorderedError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
      alpha: 0.08
    }),
    closeIconColorError: errorColor,
    closeIconColorHoverError: errorColor,
    closeIconColorPressedError: errorColor,
    closeColorHoverError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
      alpha: 0.12
    }),
    closeColorPressedError: (0,seemly__WEBPACK_IMPORTED_MODULE_1__.changeColor)(errorColor, {
      alpha: 0.18
    })
  });
};
const tagLight = {
  name: 'Tag',
  common: _styles_common_index_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
  self
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (tagLight);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfbmFpdmUtdWlfZXNfc2VsZWN0X3NyY19TZWxlY3RfbWpzLm1pbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE1BQU07QUFDeEI7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0Q7QUFDdUI7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5RHRFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsUUFBUTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ29DOzs7Ozs7Ozs7Ozs7Ozs7QUN0RDdCO0FBQ1AsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVmlHO0FBQzFGO0FBQ1A7QUFDQTtBQUNB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QUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdDQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsaUNBQWlDLE1BQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRiw4REFBcUI7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNB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O0FBQ3JDO0FBQ0EsS0FBSztBQUNMLDRCQUE0QixtREFBVztBQUN2QztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnRUFBVztBQUNyQjtBQUNBO0FBQ0EsaUVBQWUsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9zZWVtbHkvZXMvY3NzL2luZGV4LmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9zZWVtbHkvZXMvY3NzL3Jlc3BvbnNpdmUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3NlZW1seS9lcy9kb20vaGFwcGVucy1pbi5qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvdHJlZW1hdGUvZXMvY2hlY2suanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL2NvbnRhaW5zLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy90cmVlbWF0ZS9lcy9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL2ZsYXR0ZW4uanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL21vdmUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL3BhdGguanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3RyZWVtYXRlL2VzL3V0aWxzLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy92dWV1Yy9lcy9vdmVyZmxvdy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3Z1ZXVjL2VzL3NoYXJlZC9maW53ZWNrLXRyZWUuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3Z1ZXVjL2VzL3ZpcnR1YWwtbGlzdC9zcmMvVmlydHVhbExpc3QuanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL3Z1ZXVjL2VzL3ZpcnR1YWwtbGlzdC9zcmMvY29uZmlnLmpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvY2xlYXIvc3JjL0NsZWFyLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2NsZWFyL3NyYy9zdHlsZXMvaW5kZXguY3Nzci5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9jbG9zZS9zcmMvQ2xvc2UubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvY2xvc2Uvc3JjL3N0eWxlcy9pbmRleC5jc3NyLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2ZvY3VzLWRldGVjdG9yL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2ZvY3VzLWRldGVjdG9yL3NyYy9Gb2N1c0RldGVjdG9yLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX2ludGVybmFsL2ljb25zL0NoZWNrbWFyay5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9pY29ucy9DaGV2cm9uRG93bi5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9pY29ucy9DbGVhci5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9pY29ucy9DbG9zZS5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9pY29ucy9FbXB0eS5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zcmMvU2VsZWN0R3JvdXBIZWFkZXIubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvc2VsZWN0LW1lbnUvc3JjL1NlbGVjdE1lbnUubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvc2VsZWN0LW1lbnUvc3JjL1NlbGVjdE9wdGlvbi5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zZWxlY3QtbWVudS9zcmMvc3R5bGVzL2luZGV4LmNzc3IubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvc2VsZWN0aW9uL3NyYy9TZWxlY3Rpb24ubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9faW50ZXJuYWwvc2VsZWN0aW9uL3NyYy9zdHlsZXMvaW5kZXguY3Nzci5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL19pbnRlcm5hbC9zdWZmaXgvc3JjL1N1ZmZpeC5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL191dGlscy9jb21wb3NhYmxlL3VzZS1yZXNpemUubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9fdXRpbHMvZXZlbnQvaW5kZXgubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9fdXRpbHMvbmFpdmUvYXR0cmlidXRlLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvX3V0aWxzL3Z1ZS9tZXJnZS1oYW5kbGVycy5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL191dGlscy92dWUvcmVuZGVyLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvZW1wdHkvc3JjL0VtcHR5Lm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvZW1wdHkvc3JjL3N0eWxlcy9pbmRleC5jc3NyLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvc2VsZWN0L3NyYy9TZWxlY3QubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy9zZWxlY3Qvc3JjL3N0eWxlcy9pbmRleC5jc3NyLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvc2VsZWN0L3NyYy91dGlscy5tanMiLCJ3ZWJwYWNrOi8vbmVhcmJlYWNoLy4vbm9kZV9tb2R1bGVzL25haXZlLXVpL2VzL3RhZy9zcmMvVGFnLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvdGFnL3NyYy9jb21tb24tcHJvcHMubWpzIiwid2VicGFjazovL25lYXJiZWFjaC8uL25vZGVfbW9kdWxlcy9uYWl2ZS11aS9lcy90YWcvc3JjL3N0eWxlcy9pbmRleC5jc3NyLm1qcyIsIndlYnBhY2s6Ly9uZWFyYmVhY2gvLi9ub2RlX21vZHVsZXMvbmFpdmUtdWkvZXMvdGFnL3N0eWxlcy9saWdodC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGRlcHgodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodmFsdWUuZW5kc1dpdGgoJ3B4JykpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUuc2xpY2UoMCwgdmFsdWUubGVuZ3RoIC0gMikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBweGZ5KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBgJHt2YWx1ZX1weGA7XG4gICAgaWYgKHZhbHVlLmVuZHNXaXRoKCdweCcpKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIGAke3ZhbHVlfXB4YDtcbn1cbmV4cG9ydCB7IHB4ZnkgfTtcbmZ1bmN0aW9uIGdldE1hcmdpbih2YWx1ZSwgcG9zaXRpb24pIHtcbiAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbiAgICBjb25zdCBtYXJnaW4gPSB7XG4gICAgICAgIHRvcDogcGFydHNbMF1cbiAgICB9O1xuICAgIHN3aXRjaCAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIG1hcmdpbi5yaWdodCA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBtYXJnaW4ucmlnaHQgPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gcGFydHNbMV07XG4gICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gcGFydHNbMF07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgbWFyZ2luLnJpZ2h0ID0gcGFydHNbMV07XG4gICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gcGFydHNbMl07XG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIG1hcmdpbi5yaWdodCA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IHBhcnRzWzJdO1xuICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSBwYXJ0c1szXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbc2VlbWx5L2dldE1hcmdpbl06JyArIHZhbHVlICsgJyBpcyBub3QgYSB2YWxpZCB2YWx1ZS4nKTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBtYXJnaW47XG4gICAgcmV0dXJuIG1hcmdpbltwb3NpdGlvbl07XG59XG5mdW5jdGlvbiBnZXRHYXAodmFsdWUsIG9yaWVudCkge1xuICAgIGNvbnN0IFtyb3dHYXAsIGNvbEdhcF0gPSB2YWx1ZS5zcGxpdCgnICcpO1xuICAgIGlmICghb3JpZW50KVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93OiByb3dHYXAsXG4gICAgICAgICAgICBjb2w6IGNvbEdhcCB8fCByb3dHYXBcbiAgICAgICAgfTtcbiAgICByZXR1cm4gb3JpZW50ID09PSAncm93JyA/IHJvd0dhcCA6IGNvbEdhcDtcbn1cbmV4cG9ydCB7IGdldE1hcmdpbiwgZ2V0TWFyZ2luIGFzIGdldFBhZGRpbmcsIGdldEdhcCB9O1xuZXhwb3J0IHsgcGFyc2VSZXNwb25zaXZlUHJvcCwgcGFyc2VSZXNwb25zaXZlUHJvcFZhbHVlIH0gZnJvbSAnLi9yZXNwb25zaXZlJztcbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlc3BvbnNpdmVQcm9wKHJlcG9uc2l2ZVByb3ApIHtcbiAgICBpZiAodHlwZW9mIHJlcG9uc2l2ZVByb3AgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICcnOiByZXBvbnNpdmVQcm9wLnRvU3RyaW5nKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1zID0ge307XG4gICAgcmVwb25zaXZlUHJvcC5zcGxpdCgvICsvKS5mb3JFYWNoKChwYWlyTGl0ZXJhbCkgPT4ge1xuICAgICAgICBpZiAocGFpckxpdGVyYWwgPT09ICcnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBbcHJlZml4LCB2YWx1ZV0gPSBwYWlyTGl0ZXJhbC5zcGxpdCgnOicpO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zWycnXSA9IHByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtc1twcmVmaXhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcGFyYW1zO1xufVxuZnVuY3Rpb24gcGFyc2VSZXNwb25zaXZlUHJvcFZhbHVlKHJlcG9uc2l2ZVByb3AsIGFjdGl2ZUtleU9yU2l6ZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAocmVwb25zaXZlUHJvcCA9PT0gdW5kZWZpbmVkIHx8IHJlcG9uc2l2ZVByb3AgPT09IG51bGwpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY2xhc3NPYmogPSBwYXJzZVJlc3BvbnNpdmVQcm9wKHJlcG9uc2l2ZVByb3ApO1xuICAgIGlmIChhY3RpdmVLZXlPclNpemUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGNsYXNzT2JqWycnXTtcbiAgICBpZiAodHlwZW9mIGFjdGl2ZUtleU9yU2l6ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIChfYSA9IGNsYXNzT2JqW2FjdGl2ZUtleU9yU2l6ZV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNsYXNzT2JqWycnXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhY3RpdmVLZXlPclNpemUpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVLZXlPclNpemUubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFjdGl2ZUtleU9yU2l6ZVtpXTtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gY2xhc3NPYmopXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzT2JqW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsYXNzT2JqWycnXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEhlcmUgd2Ugc3VwcG9zZSBhbGwgdGhlIGtleXMgYXJlIG51bWJlciBmb3JtYXR0ZWRcbiAgICAgICAgbGV0IGFjdGl2ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgYWN0aXZlS2V5ID0gLTE7XG4gICAgICAgIE9iamVjdC5rZXlzKGNsYXNzT2JqKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleUFzTnVtID0gTnVtYmVyKGtleSk7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTihrZXlBc051bSkgJiZcbiAgICAgICAgICAgICAgICBhY3RpdmVLZXlPclNpemUgPj0ga2V5QXNOdW0gJiZcbiAgICAgICAgICAgICAgICBrZXlBc051bSA+PSBhY3RpdmVLZXkpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVLZXkgPSBrZXlBc051bTtcbiAgICAgICAgICAgICAgICBhY3RpdmVWYWx1ZSA9IGNsYXNzT2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWN0aXZlVmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IHsgcGFyc2VSZXNwb25zaXZlUHJvcFZhbHVlIH07XG4iLCJleHBvcnQgZnVuY3Rpb24gaGFwcGVuc0luKGUsIGRhdGFTZXRQcm9wTmFtZSkge1xuICAgIGxldCB7IHRhcmdldCB9ID0gZTtcbiAgICB3aGlsZSAodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQuZGF0YXNldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldC5kYXRhc2V0W2RhdGFTZXRQcm9wTmFtZV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgaXNFeHBpbGljaXRseU5vdExvYWRlZCwgbWVyZ2UsIG1pbnVzLCB0cmF2ZXJzZVdpdGhDYiwgVFJBVkVSU0VfQ09NTUFORCB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IGNsYXNzIFN1YnRyZWVOb3RMb2FkZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICdTdWJ0cmVlTm90TG9hZGVkRXJyb3I6IGNoZWNraW5nIGEgc3VidHJlZSB3aG9zZSByZXF1aXJlZCBub2RlcyBhcmUgbm90IGZ1bGx5IGxvYWRlZC4nO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEV4dGVuZGVkQ2hlY2tlZEtleVNldEFmdGVyQ2hlY2soY2hlY2tLZXlzLCBjdXJyZW50Q2hlY2tlZEtleXMsIHRyZWVNYXRlLCBhbGxvd05vdExvYWRlZCkge1xuICAgIHJldHVybiBnZXRFeHRlbmRlZENoZWNrZWRLZXlTZXQoY3VycmVudENoZWNrZWRLZXlzLmNvbmNhdChjaGVja0tleXMpLCB0cmVlTWF0ZSwgYWxsb3dOb3RMb2FkZWQsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIGdldEF2YWlsYWJsZUFzY2VuZGFudE5vZGVTZXQodW5jaGVja2VkS2V5cywgdHJlZU1hdGUpIHtcbiAgICBjb25zdCB2aXNpdGVkS2V5cyA9IG5ldyBTZXQoKTtcbiAgICB1bmNoZWNrZWRLZXlzLmZvckVhY2goKHVuY2hlY2tlZEtleSkgPT4ge1xuICAgICAgICBjb25zdCB1bmNoZWNrZWRUcmVlTm9kZSA9IHRyZWVNYXRlLnRyZWVOb2RlTWFwLmdldCh1bmNoZWNrZWRLZXkpO1xuICAgICAgICBpZiAodW5jaGVja2VkVHJlZU5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IG5vZGVDdXJzb3IgPSB1bmNoZWNrZWRUcmVlTm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAobm9kZUN1cnNvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlQ3Vyc29yLmRpc2FibGVkKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAodmlzaXRlZEtleXMuaGFzKG5vZGVDdXJzb3Iua2V5KSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRLZXlzLmFkZChub2RlQ3Vyc29yLmtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGVDdXJzb3IgPSBub2RlQ3Vyc29yLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2aXNpdGVkS2V5cztcbn1cbmZ1bmN0aW9uIGdldEV4dGVuZGVkQ2hlY2tlZEtleVNldEFmdGVyVW5jaGVjayh1bmNoZWNrZWRLZXlzLCBjdXJyZW50Q2hlY2tlZEtleXMsIHRyZWVNYXRlLCBhbGxvd05vdExvYWRlZCkge1xuICAgIGNvbnN0IGV4dGVuZGVkQ2hlY2tlZEtleVNldCA9IGdldEV4dGVuZGVkQ2hlY2tlZEtleVNldChjdXJyZW50Q2hlY2tlZEtleXMsIHRyZWVNYXRlLCBhbGxvd05vdExvYWRlZCwgZmFsc2UpO1xuICAgIGNvbnN0IGV4dGVuZGVkS2V5U2V0VG9VbmNoZWNrID0gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0KHVuY2hlY2tlZEtleXMsIHRyZWVNYXRlLCBhbGxvd05vdExvYWRlZCwgdHJ1ZSk7XG4gICAgY29uc3QgYXNjZW5kYW50S2V5U2V0ID0gZ2V0QXZhaWxhYmxlQXNjZW5kYW50Tm9kZVNldCh1bmNoZWNrZWRLZXlzLCB0cmVlTWF0ZSk7XG4gICAgY29uc3Qga2V5c1RvUmVtb3ZlID0gW107XG4gICAgZXh0ZW5kZWRDaGVja2VkS2V5U2V0LmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5kZWRLZXlTZXRUb1VuY2hlY2suaGFzKGtleSkgfHwgYXNjZW5kYW50S2V5U2V0LmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBrZXlzVG9SZW1vdmUucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAga2V5c1RvUmVtb3ZlLmZvckVhY2goKGtleSkgPT4gZXh0ZW5kZWRDaGVja2VkS2V5U2V0LmRlbGV0ZShrZXkpKTtcbiAgICByZXR1cm4gZXh0ZW5kZWRDaGVja2VkS2V5U2V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENoZWNrZWRLZXlzKG9wdGlvbnMsIHRyZWVNYXRlKSB7XG4gICAgY29uc3QgeyBjaGVja2VkS2V5cywga2V5c1RvQ2hlY2ssIGtleXNUb1VuY2hlY2ssIGluZGV0ZXJtaW5hdGVLZXlzLCBjYXNjYWRlLCBsZWFmT25seSwgY2hlY2tTdHJhdGVneSwgYWxsb3dOb3RMb2FkZWQgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFjYXNjYWRlKSB7XG4gICAgICAgIGlmIChrZXlzVG9DaGVjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoZWNrZWRLZXlzOiBtZXJnZShjaGVja2VkS2V5cywga2V5c1RvQ2hlY2spLFxuICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiBBcnJheS5mcm9tKGluZGV0ZXJtaW5hdGVLZXlzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlzVG9VbmNoZWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZEtleXM6IG1pbnVzKGNoZWNrZWRLZXlzLCBrZXlzVG9VbmNoZWNrKSxcbiAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlS2V5czogQXJyYXkuZnJvbShpbmRldGVybWluYXRlS2V5cylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoZWNrZWRLZXlzOiBBcnJheS5mcm9tKGNoZWNrZWRLZXlzKSxcbiAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlS2V5czogQXJyYXkuZnJvbShpbmRldGVybWluYXRlS2V5cylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBsZXZlbFRyZWVOb2RlTWFwIH0gPSB0cmVlTWF0ZTtcbiAgICBsZXQgZXh0ZW5kZWRDaGVja2VkS2V5U2V0O1xuICAgIGlmIChrZXlzVG9VbmNoZWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXh0ZW5kZWRDaGVja2VkS2V5U2V0ID0gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0QWZ0ZXJVbmNoZWNrKGtleXNUb1VuY2hlY2ssIGNoZWNrZWRLZXlzLCB0cmVlTWF0ZSwgYWxsb3dOb3RMb2FkZWQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXlzVG9DaGVjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGV4dGVuZGVkQ2hlY2tlZEtleVNldCA9IGdldEV4dGVuZGVkQ2hlY2tlZEtleVNldEFmdGVyQ2hlY2soa2V5c1RvQ2hlY2ssIGNoZWNrZWRLZXlzLCB0cmVlTWF0ZSwgYWxsb3dOb3RMb2FkZWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXh0ZW5kZWRDaGVja2VkS2V5U2V0ID0gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0KGNoZWNrZWRLZXlzLCB0cmVlTWF0ZSwgYWxsb3dOb3RMb2FkZWQsIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tTdHJhdGVneUlzUGFyZW50ID0gY2hlY2tTdHJhdGVneSA9PT0gJ3BhcmVudCc7XG4gICAgY29uc3QgY2hlY2tTdHJhdGVneUlzQ2hpbGQgPSBjaGVja1N0cmF0ZWd5ID09PSAnY2hpbGQnIHx8IGxlYWZPbmx5O1xuICAgIGNvbnN0IHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQgPSBleHRlbmRlZENoZWNrZWRLZXlTZXQ7XG4gICAgY29uc3Qgc3ludGhldGljSW5kZXRlcm1pbmF0ZUtleVNldCA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBtYXhMZXZlbCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIEFycmF5LmZyb20obGV2ZWxUcmVlTm9kZU1hcC5rZXlzKCkpKTtcbiAgICAvLyBjYXNjYWRlIGNoZWNrXG4gICAgLy8gMS4gaWYgdHJlZSBpcyBmdWxseSBsb2FkZWQsIGl0IGp1c3Qgd29ya3NcbiAgICAvLyAyLiBpZiB0aGUgdHJlZSBpcyBub3QgZnVsbHkgbG9hZGVkLCB3ZSBhc3N1bWUgdGhhdCBrZXlzIHdoaWNoIGlzIGluIG5vdFxuICAgIC8vICAgIGxvYWRlZCB0cmVlIGFyZSBub3QgaW4gY2hlY2tlZCBrZXlzXG4gICAgLy8gICAgZm9yIGV4YW1wbGU6XG4gICAgLy8gICAgYSAtLSBiKGZ1bGx5LWxvYWRlZCkgICAtLSBjKGZ1bGx5LWxvYWRlZClcbiAgICAvLyAgICAgIHwtIGQocGFydGlhbC1sb2FkZWQpIC0tID9lKG5vdC1sb2FkZWQpXG4gICAgLy8gICAgaW4gdGhlIGNhc2UsIGBlYCBpcyBhc3N1bWVkIG5vdCB0byBiZSBjaGVja2VkLCBub3Igd2UgY2FuJ3QgY2FsYyBgZGAnc1xuICAgIC8vICAgIGFuZCBgYWAncyBzdGF0dXNcbiAgICBmb3IgKGxldCBsZXZlbCA9IG1heExldmVsOyBsZXZlbCA+PSAwOyBsZXZlbCAtPSAxKSB7XG4gICAgICAgIGNvbnN0IGxldmVsSXNaZXJvID0gbGV2ZWwgPT09IDA7XG4gICAgICAgIC8vIGl0IHNob3VsZCBleGlzdHMsIG5vciBpdCBpcyBhIGJ1Z1xuICAgICAgICBjb25zdCBsZXZlbFRyZWVOb2RlcyA9IGxldmVsVHJlZU5vZGVNYXAuZ2V0KGxldmVsKTtcbiAgICAgICAgZm9yIChjb25zdCBsZXZlbFRyZWVOb2RlIG9mIGxldmVsVHJlZU5vZGVzKSB7XG4gICAgICAgICAgICBpZiAobGV2ZWxUcmVlTm9kZS5pc0xlYWYpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCB7IGtleTogbGV2ZWxUcmVlTm9kZUtleSwgc2hhbGxvd0xvYWRlZCB9ID0gbGV2ZWxUcmVlTm9kZTtcbiAgICAgICAgICAgIGlmIChjaGVja1N0cmF0ZWd5SXNDaGlsZCAmJiBzaGFsbG93TG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICAgICBsZXZlbFRyZWVOb2RlLmNoaWxkcmVuLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2LmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdi5pc0xlYWYgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHYuc2hhbGxvd0xvYWRlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3ludGhldGljQ2hlY2tlZEtleVNldC5oYXModi5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeW50aGV0aWNDaGVja2VkS2V5U2V0LmRlbGV0ZSh2LmtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZXZlbFRyZWVOb2RlLmRpc2FibGVkIHx8ICFzaGFsbG93TG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZnVsbHlDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBwYXJ0aWFsQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGFsbERpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGl0IGlzIHNoYWxsb3cgbG9hZGVkLCBzbyBgY2hpbGRyZW5gIG11c3QgZXhpc3RcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIGxldmVsVHJlZU5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEtleSA9IGNoaWxkTm9kZS5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZS5kaXNhYmxlZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGFsbERpc2FibGVkKVxuICAgICAgICAgICAgICAgICAgICBhbGxEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzeW50aGV0aWNDaGVja2VkS2V5U2V0LmhhcyhjaGlsZEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbENoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzeW50aGV0aWNJbmRldGVybWluYXRlS2V5U2V0LmhhcyhjaGlsZEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbENoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmdWxseUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmdWxseUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRpYWxDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmdWxseUNoZWNrZWQgJiYgIWFsbERpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrU3RyYXRlZ3lJc1BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgICAgICAgICBsZXZlbFRyZWVOb2RlLmNoaWxkcmVuLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdi5kaXNhYmxlZCAmJiBzeW50aGV0aWNDaGVja2VkS2V5U2V0Lmhhcyh2LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW50aGV0aWNDaGVja2VkS2V5U2V0LmRlbGV0ZSh2LmtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzeW50aGV0aWNDaGVja2VkS2V5U2V0LmFkZChsZXZlbFRyZWVOb2RlS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnRpYWxDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgc3ludGhldGljSW5kZXRlcm1pbmF0ZUtleVNldC5hZGQobGV2ZWxUcmVlTm9kZUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGV2ZWxJc1plcm8gJiZcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5SXNDaGlsZCAmJlxuICAgICAgICAgICAgICAgIHN5bnRoZXRpY0NoZWNrZWRLZXlTZXQuaGFzKGxldmVsVHJlZU5vZGVLZXkpKSB7XG4gICAgICAgICAgICAgICAgc3ludGhldGljQ2hlY2tlZEtleVNldC5kZWxldGUobGV2ZWxUcmVlTm9kZUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hlY2tlZEtleXM6IEFycmF5LmZyb20oc3ludGhldGljQ2hlY2tlZEtleVNldCksXG4gICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiBBcnJheS5mcm9tKHN5bnRoZXRpY0luZGV0ZXJtaW5hdGVLZXlTZXQpXG4gICAgfTtcbn1cbi8vIHVuY2hlY2tpbmcgaXMgc2FmZSB3aGVuIGRvaW5nIGNhc2NhZGUgdW5jaGVjayBpbiBhc3luYyBtb2RlXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXh0ZW5kZWRDaGVja2VkS2V5U2V0KGNoZWNrZWRLZXlzLCB0cmVlTWF0ZSwgYWxsb3dOb3RMb2FkZWQsIGlzVW5jaGVja2luZykge1xuICAgIGNvbnN0IHsgdHJlZU5vZGVNYXAsIGdldENoaWxkcmVuIH0gPSB0cmVlTWF0ZTtcbiAgICBjb25zdCB2aXNpdGVkS2V5U2V0ID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IGV4dGVuZGVkS2V5U2V0ID0gbmV3IFNldChjaGVja2VkS2V5cyk7XG4gICAgY2hlY2tlZEtleXMuZm9yRWFjaCgoY2hlY2tlZEtleSkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2VkVHJlZU5vZGUgPSB0cmVlTm9kZU1hcC5nZXQoY2hlY2tlZEtleSk7XG4gICAgICAgIGlmIChjaGVja2VkVHJlZU5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhdmVyc2VXaXRoQ2IoY2hlY2tlZFRyZWVOb2RlLCAodHJlZU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHJlZU5vZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRSQVZFUlNFX0NPTU1BTkQuU1RPUDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBrZXkgfSA9IHRyZWVOb2RlO1xuICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkS2V5U2V0LmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdmlzaXRlZEtleVNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAvLyBBZGRpbmcga2V5cyBiZWZvcmUgbG9hZGVkIGNoZWNrIGlzIG9rYXksIHNpbmNlIGlmIG5vdCB2YWxpZCBlcnJvclxuICAgICAgICAgICAgICAgIC8vIHdvdWxkIGJlIHRocm93blxuICAgICAgICAgICAgICAgIGV4dGVuZGVkS2V5U2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChpc0V4cGlsaWNpdGx5Tm90TG9hZGVkKHRyZWVOb2RlLnJhd05vZGUsIGdldENoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVbmNoZWNraW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVFJBVkVSU0VfQ09NTUFORC5TVE9QO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFhbGxvd05vdExvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN1YnRyZWVOb3RMb2FkZWRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZXh0ZW5kZWRLZXlTZXQ7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICAgIGNvbnN0IHBhcmVudEtleSA9IHBhcmVudC5rZXk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkLmtleSA9PT0gcGFyZW50S2V5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNoaWxkID0gY2hpbGQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBnZXRDaGVja2VkS2V5cyB9IGZyb20gJy4vY2hlY2snO1xuaW1wb3J0IHsgdG9BcnJheSwgaXNEaXNhYmxlZCwgaXNMZWFmLCBpc0dyb3VwLCBpc05vZGVJbnZhbGlkLCB1bndyYXBDaGVja2VkS2V5cywgaXNTaGFsbG93TG9hZGVkLCB1bndyYXBJbmRldGVybWluYXRlS2V5cywgZ2V0Tm9uTGVhZktleXMsIGlzSWdub3JlZCwgZGVmYXVsdEdldENoaWxkcmVuLCBkZWZhdWx0R2V0S2V5IH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBnZXRQYXRoIH0gZnJvbSAnLi9wYXRoJztcbmltcG9ydCB7IG1vdmVNZXRob2RzLCBnZXRGaXJzdEF2YWlsYWJsZU5vZGUgfSBmcm9tICcuL21vdmUnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vZmxhdHRlbic7XG5pbXBvcnQgeyBjb250YWlucyB9IGZyb20gJy4vY29udGFpbnMnO1xuZnVuY3Rpb24gY3JlYXRlVHJlZU5vZGVzKHJhd05vZGVzLCB0cmVlTm9kZU1hcCwgbGV2ZWxUcmVlTm9kZU1hcCwgbm9kZVByb3RvLCBnZXRDaGlsZHJlbiwgcGFyZW50ID0gbnVsbCwgbGV2ZWwgPSAwKSB7XG4gICAgY29uc3QgdHJlZU5vZGVzID0gW107XG4gICAgcmF3Tm9kZXMuZm9yRWFjaCgocmF3Tm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgICAgaXNOb2RlSW52YWxpZChyYXdOb2RlLCBnZXRDaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1t0cmVlbWF0ZV06IG5vZGUnLCByYXdOb2RlLCAnaXMgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyZWVOb2RlID0gT2JqZWN0LmNyZWF0ZShub2RlUHJvdG8pO1xuICAgICAgICB0cmVlTm9kZS5yYXdOb2RlID0gcmF3Tm9kZTtcbiAgICAgICAgdHJlZU5vZGUuc2libGluZ3MgPSB0cmVlTm9kZXM7XG4gICAgICAgIHRyZWVOb2RlLmxldmVsID0gbGV2ZWw7XG4gICAgICAgIHRyZWVOb2RlLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRyZWVOb2RlLmlzRmlyc3RDaGlsZCA9IGluZGV4ID09PSAwO1xuICAgICAgICB0cmVlTm9kZS5pc0xhc3RDaGlsZCA9IGluZGV4ICsgMSA9PT0gcmF3Tm9kZXMubGVuZ3RoO1xuICAgICAgICB0cmVlTm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGlmICghdHJlZU5vZGUuaWdub3JlZCkge1xuICAgICAgICAgICAgY29uc3QgcmF3Q2hpbGRyZW4gPSBnZXRDaGlsZHJlbihyYXdOb2RlKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJhd0NoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHRyZWVOb2RlLmNoaWxkcmVuID0gY3JlYXRlVHJlZU5vZGVzKHJhd0NoaWxkcmVuLCB0cmVlTm9kZU1hcCwgbGV2ZWxUcmVlTm9kZU1hcCwgbm9kZVByb3RvLCBnZXRDaGlsZHJlbiwgdHJlZU5vZGUsIGxldmVsICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJlZU5vZGVzLnB1c2godHJlZU5vZGUpO1xuICAgICAgICB0cmVlTm9kZU1hcC5zZXQodHJlZU5vZGUua2V5LCB0cmVlTm9kZSk7XG4gICAgICAgIGlmICghbGV2ZWxUcmVlTm9kZU1hcC5oYXMobGV2ZWwpKVxuICAgICAgICAgICAgbGV2ZWxUcmVlTm9kZU1hcC5zZXQobGV2ZWwsIFtdKTtcbiAgICAgICAgKF9hID0gbGV2ZWxUcmVlTm9kZU1hcC5nZXQobGV2ZWwpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaCh0cmVlTm9kZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyZWVOb2Rlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmVlTWF0ZShyYXdOb2Rlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHRyZWVOb2RlTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGxldmVsVHJlZU5vZGVNYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgeyBnZXREaXNhYmxlZCA9IGlzRGlzYWJsZWQsIGdldElnbm9yZWQgPSBpc0lnbm9yZWQsIGdldElzR3JvdXAgPSBpc0dyb3VwLCBnZXRLZXkgPSBkZWZhdWx0R2V0S2V5IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IF9nZXRDaGlsZHJlbiA9IChfYSA9IG9wdGlvbnMuZ2V0Q2hpbGRyZW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRHZXRDaGlsZHJlbjtcbiAgICBjb25zdCBnZXRDaGlsZHJlbiA9IG9wdGlvbnMuaWdub3JlRW1wdHlDaGlsZHJlblxuICAgICAgICA/IChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IF9nZXRDaGlsZHJlbihub2RlKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgOiBfZ2V0Q2hpbGRyZW47XG4gICAgY29uc3Qgbm9kZVByb3RvID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGdldCBrZXkoKSB7XG4gICAgICAgICAgICAvLyBkbyBub3QgcGFzcyBwYXJlbnQgb3IgcmVsYXRlZCB0aGluZ3MgdG8gaXRcbiAgICAgICAgICAgIC8vIHRoZSBrZXkgbmVlZCB0byBiZSBzcGVjaWZpZWQgZXhwbGljaXRseVxuICAgICAgICAgICAgcmV0dXJuIGdldEtleSh0aGlzLnJhd05vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RGlzYWJsZWQodGhpcy5yYXdOb2RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGlzR3JvdXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0SXNHcm91cCh0aGlzLnJhd05vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaXNMZWFmKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTGVhZih0aGlzLnJhd05vZGUsIGdldENoaWxkcmVuKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNoYWxsb3dMb2FkZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNTaGFsbG93TG9hZGVkKHRoaXMucmF3Tm9kZSwgZ2V0Q2hpbGRyZW4pO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaWdub3JlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRJZ25vcmVkKHRoaXMucmF3Tm9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhaW5zKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWlucyh0aGlzLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH0sIG1vdmVNZXRob2RzKTtcbiAgICBjb25zdCB0cmVlTm9kZXMgPSBjcmVhdGVUcmVlTm9kZXMocmF3Tm9kZXMsIHRyZWVOb2RlTWFwLCBsZXZlbFRyZWVOb2RlTWFwLCBub2RlUHJvdG8sIGdldENoaWxkcmVuKTtcbiAgICBmdW5jdGlvbiBnZXROb2RlKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHRtTm9kZSA9IHRyZWVOb2RlTWFwLmdldChrZXkpO1xuICAgICAgICBpZiAodG1Ob2RlICYmICF0bU5vZGUuaXNHcm91cCAmJiAhdG1Ob2RlLmlnbm9yZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0bU5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9nZXROb2RlKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSBudWxsIHx8IGtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHRtTm9kZSA9IHRyZWVOb2RlTWFwLmdldChrZXkpO1xuICAgICAgICBpZiAodG1Ob2RlICYmICF0bU5vZGUuaWdub3JlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRtTm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJldihrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IF9nZXROb2RlKGtleSk7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbm9kZS5nZXRQcmV2KG9wdGlvbnMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0KGtleSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBub2RlID0gX2dldE5vZGUoa2V5KTtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBub2RlLmdldE5leHQob3B0aW9ucyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudChrZXkpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IF9nZXROb2RlKGtleSk7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbm9kZS5nZXRQYXJlbnQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2hpbGQoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBfZ2V0Tm9kZShrZXkpO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0Q2hpbGQoKTtcbiAgICB9XG4gICAgY29uc3QgdHJlZW1hdGUgPSB7XG4gICAgICAgIHRyZWVOb2RlcyxcbiAgICAgICAgdHJlZU5vZGVNYXAsXG4gICAgICAgIGxldmVsVHJlZU5vZGVNYXAsXG4gICAgICAgIG1heExldmVsOiBNYXRoLm1heCguLi5sZXZlbFRyZWVOb2RlTWFwLmtleXMoKSksXG4gICAgICAgIGdldENoaWxkcmVuLFxuICAgICAgICBnZXRGbGF0dGVuZWROb2RlcyhleHBhbmRlZEtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKHRyZWVOb2RlcywgZXhwYW5kZWRLZXlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Tm9kZSxcbiAgICAgICAgZ2V0UHJldixcbiAgICAgICAgZ2V0TmV4dCxcbiAgICAgICAgZ2V0UGFyZW50LFxuICAgICAgICBnZXRDaGlsZCxcbiAgICAgICAgZ2V0Rmlyc3RBdmFpbGFibGVOb2RlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpcnN0QXZhaWxhYmxlTm9kZSh0cmVlTm9kZXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRQYXRoKGtleSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UGF0aChrZXksIG9wdGlvbnMsIHRyZWVtYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q2hlY2tlZEtleXMoY2hlY2tlZEtleXMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgeyBjYXNjYWRlID0gdHJ1ZSwgbGVhZk9ubHkgPSBmYWxzZSwgY2hlY2tTdHJhdGVneSA9ICdhbGwnLCBhbGxvd05vdExvYWRlZCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrZWRLZXlzKHtcbiAgICAgICAgICAgICAgICBjaGVja2VkS2V5czogdW53cmFwQ2hlY2tlZEtleXMoY2hlY2tlZEtleXMpLFxuICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiB1bndyYXBJbmRldGVybWluYXRlS2V5cyhjaGVja2VkS2V5cyksXG4gICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICBsZWFmT25seSxcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIGFsbG93Tm90TG9hZGVkXG4gICAgICAgICAgICB9LCB0cmVlbWF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrKGtleXNUb0NoZWNrLCBjaGVja2VkS2V5cywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICBjb25zdCB7IGNhc2NhZGUgPSB0cnVlLCBsZWFmT25seSA9IGZhbHNlLCBjaGVja1N0cmF0ZWd5ID0gJ2FsbCcsIGFsbG93Tm90TG9hZGVkID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q2hlY2tlZEtleXMoe1xuICAgICAgICAgICAgICAgIGNoZWNrZWRLZXlzOiB1bndyYXBDaGVja2VkS2V5cyhjaGVja2VkS2V5cyksXG4gICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZUtleXM6IHVud3JhcEluZGV0ZXJtaW5hdGVLZXlzKGNoZWNrZWRLZXlzKSxcbiAgICAgICAgICAgICAgICBrZXlzVG9DaGVjazoga2V5c1RvQ2hlY2sgPT09IHVuZGVmaW5lZCB8fCBrZXlzVG9DaGVjayA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICAgICAgICAgIDogdG9BcnJheShrZXlzVG9DaGVjayksXG4gICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICBsZWFmT25seSxcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIGFsbG93Tm90TG9hZGVkXG4gICAgICAgICAgICB9LCB0cmVlbWF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuY2hlY2soa2V5c1RvVW5jaGVjaywgY2hlY2tlZEtleXMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgeyBjYXNjYWRlID0gdHJ1ZSwgbGVhZk9ubHkgPSBmYWxzZSwgY2hlY2tTdHJhdGVneSA9ICdhbGwnLCBhbGxvd05vdExvYWRlZCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrZWRLZXlzKHtcbiAgICAgICAgICAgICAgICBjaGVja2VkS2V5czogdW53cmFwQ2hlY2tlZEtleXMoY2hlY2tlZEtleXMpLFxuICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGVLZXlzOiB1bndyYXBJbmRldGVybWluYXRlS2V5cyhjaGVja2VkS2V5cyksXG4gICAgICAgICAgICAgICAga2V5c1RvVW5jaGVjazoga2V5c1RvVW5jaGVjayA9PT0gbnVsbCB8fCBrZXlzVG9VbmNoZWNrID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICAgICAgICA6IHRvQXJyYXkoa2V5c1RvVW5jaGVjayksXG4gICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICBsZWFmT25seSxcbiAgICAgICAgICAgICAgICBjaGVja1N0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIGFsbG93Tm90TG9hZGVkXG4gICAgICAgICAgICB9LCB0cmVlbWF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE5vbkxlYWZLZXlzKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldE5vbkxlYWZLZXlzKHRyZWVOb2Rlcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0cmVlbWF0ZTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKHRyZWVOb2RlcywgZXhwYW5kZWRLZXlzKSB7XG4gICAgY29uc3QgZXhwYW5kZWRLZXlTZXQgPSBleHBhbmRlZEtleXMgPyBuZXcgU2V0KGV4cGFuZGVkS2V5cykgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgZmxhdHRlbmVkTm9kZXMgPSBbXTtcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZSh0cmVlTm9kZXMpIHtcbiAgICAgICAgdHJlZU5vZGVzLmZvckVhY2goKHRyZWVOb2RlKSA9PiB7XG4gICAgICAgICAgICBmbGF0dGVuZWROb2Rlcy5wdXNoKHRyZWVOb2RlKTtcbiAgICAgICAgICAgIGlmICh0cmVlTm9kZS5pc0xlYWYgfHwgIXRyZWVOb2RlLmNoaWxkcmVuIHx8IHRyZWVOb2RlLmlnbm9yZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHRyZWVOb2RlLmlzR3JvdXApIHtcbiAgICAgICAgICAgICAgICAvLyBncm91cCBub2RlIHNob3VsZG4ndCBiZSBleHBhbmRlZFxuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHRyZWVOb2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgLy8gbm9ybWFsIG5vbi1sZWFmIG5vZGVcbiAgICAgICAgICAgIGV4cGFuZGVkS2V5U2V0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICBleHBhbmRlZEtleVNldC5oYXModHJlZU5vZGUua2V5KSkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHRyZWVOb2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyYXZlcnNlKHRyZWVOb2Rlcyk7XG4gICAgcmV0dXJuIGZsYXR0ZW5lZE5vZGVzO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0QXZhaWxhYmxlTm9kZShub2Rlcykge1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG5vZGUgPSBub2Rlc1swXTtcbiAgICBpZiAobm9kZS5pc0dyb3VwIHx8IG5vZGUuaWdub3JlZCB8fCBub2RlLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBub2RlLmdldE5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG59XG5mdW5jdGlvbiByYXdHZXROZXh0KG5vZGUsIGxvb3ApIHtcbiAgICBjb25zdCBzaWJzID0gbm9kZS5zaWJsaW5ncztcbiAgICBjb25zdCBsID0gc2licy5sZW5ndGg7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gbm9kZTtcbiAgICBpZiAobG9vcCkge1xuICAgICAgICByZXR1cm4gc2lic1soaW5kZXggKyAxKSAlIGxdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBzaWJzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHNpYnNbaW5kZXggKyAxXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtb3ZlKGZyb21Ob2RlLCBkaXIsIHsgbG9vcCA9IGZhbHNlLCBpbmNsdWRlRGlzYWJsZWQgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBjb25zdCBpdGVyYXRlID0gZGlyID09PSAncHJldicgPyByYXdHZXRQcmV2IDogcmF3R2V0TmV4dDtcbiAgICBjb25zdCBnZXRDaGlsZE9wdGlvbnMgPSB7XG4gICAgICAgIHJldmVyc2U6IGRpciA9PT0gJ3ByZXYnXG4gICAgfTtcbiAgICBsZXQgbWVldCA9IGZhbHNlO1xuICAgIGxldCBlbmROb2RlID0gbnVsbDtcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAobm9kZSA9PT0gZnJvbU5vZGUpIHtcbiAgICAgICAgICAgIGlmICghbWVldCkge1xuICAgICAgICAgICAgICAgIG1lZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWZyb21Ob2RlLmRpc2FibGVkICYmICFmcm9tTm9kZS5pc0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgZW5kTm9kZSA9IGZyb21Ob2RlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoIW5vZGUuZGlzYWJsZWQgfHwgaW5jbHVkZURpc2FibGVkKSAmJlxuICAgICAgICAgICAgICAgICFub2RlLmlnbm9yZWQgJiZcbiAgICAgICAgICAgICAgICAhbm9kZS5pc0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgZW5kTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmlzR3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gZ2V0Q2hpbGQobm9kZSwgZ2V0Q2hpbGRPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGVuZE5vZGUgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKGl0ZXJhdGUobm9kZSwgbG9vcCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dE5vZGUgPSBpdGVyYXRlKG5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKG5leHROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHJhd0dldFBhcmVudChub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmlzR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2UoaXRlcmF0ZShwYXJlbnQsIGxvb3ApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobG9vcCkge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZShpdGVyYXRlKG5vZGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJhdmVyc2UoZnJvbU5vZGUpO1xuICAgIHJldHVybiBlbmROb2RlO1xufVxuZnVuY3Rpb24gcmF3R2V0UHJldihub2RlLCBsb29wKSB7XG4gICAgY29uc3Qgc2licyA9IG5vZGUuc2libGluZ3M7XG4gICAgY29uc3QgbCA9IHNpYnMubGVuZ3RoO1xuICAgIGNvbnN0IHsgaW5kZXggfSA9IG5vZGU7XG4gICAgaWYgKGxvb3ApIHtcbiAgICAgICAgcmV0dXJuIHNpYnNbKGluZGV4IC0gMSArIGwpICUgbF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHNpYnNbaW5kZXggLSAxXTtcbiAgICB9XG59XG5mdW5jdGlvbiByYXdHZXRQYXJlbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnBhcmVudDtcbn1cbmZ1bmN0aW9uIGdldENoaWxkKG5vZGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgcmV2ZXJzZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IG5vZGU7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBjaGlsZHJlbjtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSByZXZlcnNlID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgIGNvbnN0IGVuZCA9IHJldmVyc2UgPyAtMSA6IGxlbmd0aDtcbiAgICAgICAgY29uc3QgZGVsdGEgPSByZXZlcnNlID8gLTEgOiAxO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgIT09IGVuZDsgaSArPSBkZWx0YSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmICghY2hpbGQuZGlzYWJsZWQgJiYgIWNoaWxkLmlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEluR3JvdXAgPSBnZXRDaGlsZChjaGlsZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEluR3JvdXAgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRJbkdyb3VwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBjb25zdCBtb3ZlTWV0aG9kcyA9IHtcbiAgICBnZXRDaGlsZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gZ2V0Q2hpbGQodGhpcyk7XG4gICAgfSxcbiAgICBnZXRQYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50IH0gPSB0aGlzO1xuICAgICAgICBpZiAocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmlzR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0UGFyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9LFxuICAgIGdldE5leHQob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBtb3ZlKHRoaXMsICduZXh0Jywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRQcmV2KG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbW92ZSh0aGlzLCAncHJldicsIG9wdGlvbnMpO1xuICAgIH1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGF0aChrZXksIHsgaW5jbHVkZUdyb3VwID0gZmFsc2UsIGluY2x1ZGVTZWxmID0gdHJ1ZSB9LCB0cmVlTWF0ZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0cmVlTm9kZU1hcCA9IHRyZWVNYXRlLnRyZWVOb2RlTWFwO1xuICAgIGxldCB0cmVlTm9kZSA9IGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAoX2EgPSB0cmVlTm9kZU1hcC5nZXQoa2V5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcbiAgICBjb25zdCBtZXJnZWRQYXRoID0ge1xuICAgICAgICBrZXlQYXRoOiBbXSxcbiAgICAgICAgdHJlZU5vZGVQYXRoOiBbXSxcbiAgICAgICAgdHJlZU5vZGU6IHRyZWVOb2RlXG4gICAgfTtcbiAgICBpZiAodHJlZU5vZGUgPT09IG51bGwgfHwgdHJlZU5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyZWVOb2RlLmlnbm9yZWQpIHtcbiAgICAgICAgbWVyZ2VkUGF0aC50cmVlTm9kZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBtZXJnZWRQYXRoO1xuICAgIH1cbiAgICB3aGlsZSAodHJlZU5vZGUpIHtcbiAgICAgICAgaWYgKCF0cmVlTm9kZS5pZ25vcmVkICYmIChpbmNsdWRlR3JvdXAgfHwgIXRyZWVOb2RlLmlzR3JvdXApKSB7XG4gICAgICAgICAgICBtZXJnZWRQYXRoLnRyZWVOb2RlUGF0aC5wdXNoKHRyZWVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0cmVlTm9kZSA9IHRyZWVOb2RlLnBhcmVudDtcbiAgICB9XG4gICAgbWVyZ2VkUGF0aC50cmVlTm9kZVBhdGgucmV2ZXJzZSgpO1xuICAgIGlmICghaW5jbHVkZVNlbGYpXG4gICAgICAgIG1lcmdlZFBhdGgudHJlZU5vZGVQYXRoLnBvcCgpO1xuICAgIG1lcmdlZFBhdGgua2V5UGF0aCA9IG1lcmdlZFBhdGgudHJlZU5vZGVQYXRoLm1hcCgodHJlZU5vZGUpID0+IHRyZWVOb2RlLmtleSk7XG4gICAgcmV0dXJuIG1lcmdlZFBhdGg7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdG9BcnJheShhcmcpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKVxuICAgICAgICByZXR1cm4gYXJnO1xuICAgIHJldHVybiBbYXJnXTtcbn1cbi8vIERvIG5vdCB1c2UgZW51bSBmb3IgbGludCBwbHVnaW4gaGFzIGVycm9yXG5leHBvcnQgY29uc3QgVFJBVkVSU0VfQ09NTUFORCA9IHtcbiAgICBTVE9QOiAnU1RPUCdcbn07XG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VXaXRoQ2IodHJlZU5vZGUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IGNhbGxiYWNrKHRyZWVOb2RlKTtcbiAgICBpZiAodHJlZU5vZGUuY2hpbGRyZW4gIT09IHVuZGVmaW5lZCAmJiBjb21tYW5kICE9PSBUUkFWRVJTRV9DT01NQU5ELlNUT1ApIHtcbiAgICAgICAgdHJlZU5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGROb2RlKSA9PiB0cmF2ZXJzZVdpdGhDYihjaGlsZE5vZGUsIGNhbGxiYWNrKSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vbkxlYWZLZXlzKHRyZWVOb2Rlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBwcmVzZXJ2ZUdyb3VwID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGNvbnN0IGNiID0gcHJlc2VydmVHcm91cFxuICAgICAgICA/IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuaXNMZWFmKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKG5vZGUua2V5KTtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZShub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICA6IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuaXNMZWFmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLmlzR3JvdXApXG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChub2RlLmtleSk7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2Uobm9kZS5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZXMpIHtcbiAgICAgICAgbm9kZXMuZm9yRWFjaChjYik7XG4gICAgfVxuICAgIHRyYXZlcnNlKHRyZWVOb2Rlcyk7XG4gICAgcmV0dXJuIGtleXM7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMZWFmKHJhd05vZGUsIGdldENoaWxkcmVuKSB7XG4gICAgY29uc3QgeyBpc0xlYWYgfSA9IHJhd05vZGU7XG4gICAgaWYgKGlzTGVhZiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gaXNMZWFmO1xuICAgIGVsc2UgaWYgKCFnZXRDaGlsZHJlbihyYXdOb2RlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRHZXRDaGlsZHJlbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuY2hpbGRyZW47XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEdldEtleShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUua2V5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSWdub3JlZCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaGFsbG93TG9hZGVkKHJhd05vZGUsIGdldENoaWxkcmVuKSB7XG4gICAgY29uc3QgeyBpc0xlYWYgfSA9IHJhd05vZGU7XG4gICAgaWYgKGlzTGVhZiA9PT0gZmFsc2UgJiYgIUFycmF5LmlzQXJyYXkoZ2V0Q2hpbGRyZW4ocmF3Tm9kZSkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEaXNhYmxlZChyYXdOb2RlKSB7XG4gICAgcmV0dXJuIHJhd05vZGUuZGlzYWJsZWQgPT09IHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFeHBpbGljaXRseU5vdExvYWRlZChyYXdOb2RlLCBnZXRDaGlsZHJlbikge1xuICAgIHJldHVybiAocmF3Tm9kZS5pc0xlYWYgPT09IGZhbHNlICYmICFBcnJheS5pc0FycmF5KGdldENoaWxkcmVuKHJhd05vZGUpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlSW52YWxpZChyYXdOb2RlLCBnZXRDaGlsZHJlbikge1xuICAgIGlmIChyYXdOb2RlLmlzTGVhZiA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGdldENoaWxkcmVuKHJhd05vZGUpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdW53cmFwQ2hlY2tlZEtleXMocmVzdWx0KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCB8fCByZXN1bHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiAoX2EgPSByZXN1bHQuY2hlY2tlZEtleXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcEluZGV0ZXJtaW5hdGVLZXlzKHJlc3VsdCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQgfHwgcmVzdWx0ID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiAoX2EgPSByZXN1bHQuaW5kZXRlcm1pbmF0ZUtleXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKG9yaWdpbmFsS2V5cywga2V5c1RvQWRkKSB7XG4gICAgY29uc3Qgc2V0ID0gbmV3IFNldChvcmlnaW5hbEtleXMpO1xuICAgIGtleXNUb0FkZC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCFzZXQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWludXMob3JpZ2luYWxLZXlzLCBrZXlzVG9SZW1vdmUpIHtcbiAgICBjb25zdCBzZXQgPSBuZXcgU2V0KG9yaWdpbmFsS2V5cyk7XG4gICAga2V5c1RvUmVtb3ZlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoc2V0LmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBzZXQuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShzZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzR3JvdXAocmF3Tm9kZSkge1xuICAgIHJldHVybiAocmF3Tm9kZSA9PT0gbnVsbCB8fCByYXdOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByYXdOb2RlLnR5cGUpID09PSAnZ3JvdXAnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZGV4R2V0dGVyKHRyZWVOb2Rlcykge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCgodHJlZU5vZGUsIGkpID0+IHtcbiAgICAgICAgbWFwLnNldCh0cmVlTm9kZS5rZXksIGkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoa2V5KSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IG1hcC5nZXQoa2V5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDsgfTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9zdHJpY3QtYm9vbGVhbi1leHByZXNzaW9ucyAqL1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZW5kZXJTbG90LCBoLCBvbk1vdW50ZWQsIHJlZiwgbmV4dFRpY2sgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdXNlU3NyQWRhcHRlciB9IGZyb20gJ0Bjc3MtcmVuZGVyL3Z1ZTMtc3NyJztcbmltcG9ydCB7IGMsIGNzc3JBbmNob3JNZXRhTmFtZSB9IGZyb20gJy4uLy4uL3NoYXJlZCc7XG5jb25zdCBoaWRkZW5BdHRyID0gJ3YtaGlkZGVuJztcbmNvbnN0IHN0eWxlID0gYygnW3YtaGlkZGVuXScsIHtcbiAgICBkaXNwbGF5OiAnbm9uZSFpbXBvcnRhbnQnXG59KTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ092ZXJmbG93JyxcbiAgICBwcm9wczoge1xuICAgICAgICBnZXRDb3VudGVyOiBGdW5jdGlvbixcbiAgICAgICAgZ2V0VGFpbDogRnVuY3Rpb24sXG4gICAgICAgIHVwZGF0ZUNvdW50ZXI6IEZ1bmN0aW9uLFxuICAgICAgICBvblVwZGF0ZUNvdW50OiBGdW5jdGlvbixcbiAgICAgICAgb25VcGRhdGVPdmVyZmxvdzogRnVuY3Rpb25cbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3Qgc2VsZlJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3QgY291bnRlclJlZiA9IHJlZihudWxsKTtcbiAgICAgICAgZnVuY3Rpb24gZGVyaXZlQ291bnRlcihvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBzZWxmIH0gPSBzZWxmUmVmO1xuICAgICAgICAgICAgY29uc3QgeyBnZXRDb3VudGVyLCBnZXRUYWlsIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGxldCBjb3VudGVyO1xuICAgICAgICAgICAgaWYgKGdldENvdW50ZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBjb3VudGVyID0gZ2V0Q291bnRlcigpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY291bnRlciA9IGNvdW50ZXJSZWYudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNlbGYgfHwgIWNvdW50ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIuaGFzQXR0cmlidXRlKGhpZGRlbkF0dHIpKSB7XG4gICAgICAgICAgICAgICAgY291bnRlci5yZW1vdmVBdHRyaWJ1dGUoaGlkZGVuQXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSBzZWxmO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0FsbEl0ZW1zQmVmb3JlQ2FsY3VsYXRlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGFzQXR0cmlidXRlKGhpZGRlbkF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5yZW1vdmVBdHRyaWJ1dGUoaGlkZGVuQXR0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHNlbGYub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFdpZHRocyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgdGFpbCA9IHNsb3RzLnRhaWwgPyBnZXRUYWlsID09PSBudWxsIHx8IGdldFRhaWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdldFRhaWwoKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgY2hpbGRXaWR0aFN1bSA9IHRhaWwgPyB0YWlsLm9mZnNldFdpZHRoIDogMDtcbiAgICAgICAgICAgIGxldCBvdmVyZmxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gc2VsZi5jaGlsZHJlbi5sZW5ndGggLSAoc2xvdHMudGFpbCA/IDEgOiAwKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLmhhc0F0dHJpYnV0ZShoaWRkZW5BdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKGhpZGRlbkF0dHIsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuaGFzQXR0cmlidXRlKGhpZGRlbkF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZShoaWRkZW5BdHRyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRXaWR0aCA9IGNoaWxkLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIGNoaWxkV2lkdGhTdW0gKz0gY2hpbGRXaWR0aDtcbiAgICAgICAgICAgICAgICBjaGlsZFdpZHRoc1tpXSA9IGNoaWxkV2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGhTdW0gPiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHVwZGF0ZUNvdW50ZXIgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3RDb3VudCA9IGxlbiAtIDEgLSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUNvdW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50ZXIocmVzdENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSBgJHtyZXN0Q291bnR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ZXJXaWR0aCA9IGNvdW50ZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoU3VtIC09IGNoaWxkV2lkdGhzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkV2lkdGhTdW0gKyBjb3VudGVyV2lkdGggPD0gY29udGFpbmVyV2lkdGggfHwgaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaiAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFpbCB0b28gbG9uZyBvciAxc3QgZWxlbWVudCB0b28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBvbmx5IGNvbnNpZGVyIHRhaWwgbm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFpbC5zdHlsZS5tYXhXaWR0aCA9IGAke2NvbnRhaW5lcldpZHRoIC0gY291bnRlcldpZHRofXB4YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhaWwuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFpbC5zdHlsZS5tYXhXaWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgb25VcGRhdGVDb3VudCB9ID0gcHJvcHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uVXBkYXRlQ291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlQ291bnQocmVzdENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgb25VcGRhdGVPdmVyZmxvdyB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAoIW92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uVXBkYXRlT3ZlcmZsb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZU92ZXJmbG93KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnRlci5zZXRBdHRyaWJ1dGUoaGlkZGVuQXR0ciwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uVXBkYXRlT3ZlcmZsb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZU92ZXJmbG93KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzc3JBZGFwdGVyID0gdXNlU3NyQWRhcHRlcigpO1xuICAgICAgICBzdHlsZS5tb3VudCh7XG4gICAgICAgICAgICBpZDogJ3Z1ZXVjL292ZXJmbG93JyxcbiAgICAgICAgICAgIGhlYWQ6IHRydWUsXG4gICAgICAgICAgICBhbmNob3JNZXRhTmFtZTogY3NzckFuY2hvck1ldGFOYW1lLFxuICAgICAgICAgICAgc3NyOiBzc3JBZGFwdGVyXG4gICAgICAgIH0pO1xuICAgICAgICBvbk1vdW50ZWQoKCkgPT4gZGVyaXZlQ291bnRlcih7XG4gICAgICAgICAgICBzaG93QWxsSXRlbXNCZWZvcmVDYWxjdWxhdGU6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gYmVzaWRlcyBvbk1vdW50ZWQsIG90aGVyIGNhc2Ugc2hvdWxkIGJlIG1hbnVhbGx5IHRyaWdnZXJlZCwgb3Igd2Ugc2hvdWQgd2F0Y2ggaXRlbXNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbGZSZWYsXG4gICAgICAgICAgICBjb3VudGVyUmVmLFxuICAgICAgICAgICAgc3luYzogZGVyaXZlQ291bnRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7ICRzbG90cyB9ID0gdGhpcztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICBuZXh0VGljaygoKSA9PiB0aGlzLnN5bmMoe1xuICAgICAgICAgICAgc2hvd0FsbEl0ZW1zQmVmb3JlQ2FsY3VsYXRlOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICAgIC8vIEl0IHNob3VsZG4ndCBoYXZlIGJvcmRlclxuICAgICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICAgICAgY2xhc3M6ICd2LW92ZXJmbG93JyxcbiAgICAgICAgICAgIHJlZjogJ3NlbGZSZWYnXG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIHJlbmRlclNsb3QoJHNsb3RzLCAnZGVmYXVsdCcpLFxuICAgICAgICAgICAgLy8gJHNsb3RzLmNvdW50ZXIgc2hvdWxkIG9ubHkgaGFzIDEgZWxlbWVudFxuICAgICAgICAgICAgJHNsb3RzLmNvdW50ZXJcbiAgICAgICAgICAgICAgICA/ICRzbG90cy5jb3VudGVyKClcbiAgICAgICAgICAgICAgICA6IGgoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWY6ICdjb3VudGVyUmVmJ1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLy8gJHNsb3RzLnRhaWwgc2hvdWxkIG9ubHkgaGFzIDEgZWxlbWVudFxuICAgICAgICAgICAgJHNsb3RzLnRhaWwgPyAkc2xvdHMudGFpbCgpIDogbnVsbFxuICAgICAgICBdKTtcbiAgICB9XG59KTtcbiIsImZ1bmN0aW9uIGxvd0JpdChuKSB7XG4gICAgcmV0dXJuIG4gJiAtbjtcbn1cbmV4cG9ydCBjbGFzcyBGaW53ZWNrVHJlZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGwgbGVuZ3RoIG9mIHRoZSBhcnJheVxuICAgICAqIEBwYXJhbSBtaW4gbWluIHZhbHVlIG9mIHRoZSBhcnJheVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGwsIG1pbikge1xuICAgICAgICB0aGlzLmwgPSBsO1xuICAgICAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICAgICAgY29uc3QgZnQgPSBuZXcgQXJyYXkobCArIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGwgKyAxOyArK2kpIHtcbiAgICAgICAgICAgIGZ0W2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZ0ID0gZnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhcnJbaV0gYnkgbiwgc3RhcnQgZnJvbSAwXG4gICAgICogQHBhcmFtIGkgdGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIGJlIGFkZGVkXG4gICAgICogQHBhcmFtIG4gdGhlIHZhbHVlIHRvIGJlIGFkZGVkXG4gICAgICovXG4gICAgYWRkKGksIG4pIHtcbiAgICAgICAgaWYgKG4gPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgbCwgZnQgfSA9IHRoaXM7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgd2hpbGUgKGkgPD0gbCkge1xuICAgICAgICAgICAgZnRbaV0gKz0gbjtcbiAgICAgICAgICAgIGkgKz0gbG93Qml0KGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgaW5kZXggaVxuICAgICAqIEBwYXJhbSBpIGluZGV4XG4gICAgICogQHJldHVybnMgdmFsdWUgb2YgdGhlIGluZGV4XG4gICAgICovXG4gICAgZ2V0KGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VtKGkgKyAxKSAtIHRoaXMuc3VtKGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN1bSBvZiBmaXJzdCBpIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIGkgY291bnQgb2YgaGVhZCBlbGVtZW50cyB0byBiZSBhZGRlZFxuICAgICAqIEByZXR1cm5zIHRoZSBzdW0gb2YgZmlyc3QgaSBlbGVtZW50c1xuICAgICAqL1xuICAgIHN1bShpKSB7XG4gICAgICAgIGlmIChpID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpID0gdGhpcy5sO1xuICAgICAgICBpZiAoaSA8PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IHsgZnQsIG1pbiwgbCB9ID0gdGhpcztcbiAgICAgICAgaWYgKGkgPiBsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRmlud2Vja1RyZWUuc3VtXTogYGlgIGlzIGxhcmdlciB0aGFuIGxlbmd0aC4nKTtcbiAgICAgICAgbGV0IHJldCA9IGkgKiBtaW47XG4gICAgICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICAgICAgcmV0ICs9IGZ0W2ldO1xuICAgICAgICAgICAgaSAtPSBsb3dCaXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsYXJnZXN0IGNvdW50IG9mIGhlYWQgZWxlbWVudHMgd2hvc2Ugc3VtIGFyZSA8PSB0aHJlc2hvbGRcbiAgICAgKiBAcGFyYW0gdGhyZXNob2xkXG4gICAgICogQHJldHVybnMgdGhlIGxhcmdlc3QgY291bnQgb2YgaGVhZCBlbGVtZW50cyB3aG9zZSBzdW0gYXJlIDw9IHRocmVzaG9sZFxuICAgICAqL1xuICAgIGdldEJvdW5kKHRocmVzaG9sZCkge1xuICAgICAgICBsZXQgbCA9IDA7XG4gICAgICAgIGxldCByID0gdGhpcy5sO1xuICAgICAgICB3aGlsZSAociA+IGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKChsICsgcikgLyAyKTtcbiAgICAgICAgICAgIGNvbnN0IHN1bU0gPSB0aGlzLnN1bShtKTtcbiAgICAgICAgICAgIGlmIChzdW1NID4gdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgciA9IG07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdW1NIDwgdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGwgPT09IG0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VtKGwgKyAxKSA8PSB0aHJlc2hvbGQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbCArIDE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsID0gbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsO1xuICAgIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXZvaWQgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzICovXG5pbXBvcnQgeyBtZXJnZVByb3BzLCBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50LCByZWYsIG9uTW91bnRlZCwgaCwgb25BY3RpdmF0ZWQsIG9uRGVhY3RpdmF0ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgYmVmb3JlTmV4dEZyYW1lT25jZSwgZGVweCwgcHhmeSB9IGZyb20gJ3NlZW1seSc7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAndm9va3MnO1xuaW1wb3J0IHsgdXNlU3NyQWRhcHRlciB9IGZyb20gJ0Bjc3MtcmVuZGVyL3Z1ZTMtc3NyJztcbmltcG9ydCBWUmVzaXplT2JzZXJ2ZXIgZnJvbSAnLi4vLi4vcmVzaXplLW9ic2VydmVyL3NyYy9WUmVzaXplT2JzZXJ2ZXInO1xuaW1wb3J0IHsgYywgY3NzckFuY2hvck1ldGFOYW1lLCBGaW53ZWNrVHJlZSB9IGZyb20gJy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgeyBlbnN1cmVNYXliZVRvdWNoLCBlbnN1cmVXaGVlbFNjYWxlIH0gZnJvbSAnLi9jb25maWcnO1xuY29uc3Qgc3R5bGVzID0gYygnLnYtdmwnLCB7XG4gICAgbWF4SGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICBtaW5XaWR0aDogJzFweCcgLy8gYSB6ZXJvIHdpZHRoIGNvbnRhaW5lciB3b24ndCBiZSBzY3JvbGxhYmxlXG59LCBbXG4gICAgYygnJjpub3QoLnYtdmwtLXNob3ctc2Nyb2xsYmFyKScsIHtcbiAgICAgICAgc2Nyb2xsYmFyV2lkdGg6ICdub25lJ1xuICAgIH0sIFtcbiAgICAgICAgYygnJjo6LXdlYmtpdC1zY3JvbGxiYXIsICY6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLXBpZWNlLCAmOjotd2Via2l0LXNjcm9sbGJhci10aHVtYicsIHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgIH0pXG4gICAgXSlcbl0pO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnVmlydHVhbExpc3QnLFxuICAgIGluaGVyaXRBdHRyczogZmFsc2UsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgc2hvd1Njcm9sbGJhcjoge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gW11cbiAgICAgICAgfSxcbiAgICAgICAgLy8gaXQgaXMgc3VwcG9zZSB0byBiZSB0aGUgbWluIGhlaWdodFxuICAgICAgICBpdGVtU2l6ZToge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbVJlc2l6YWJsZTogQm9vbGVhbixcbiAgICAgICAgaXRlbXNTdHlsZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgICAgdmlzaWJsZUl0ZW1zVGFnOiB7XG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLFxuICAgICAgICAgICAgZGVmYXVsdDogJ2RpdidcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZUl0ZW1zUHJvcHM6IE9iamVjdCxcbiAgICAgICAgaWdub3JlSXRlbVJlc2l6ZTogQm9vbGVhbixcbiAgICAgICAgb25TY3JvbGw6IEZ1bmN0aW9uLFxuICAgICAgICBvbldoZWVsOiBGdW5jdGlvbixcbiAgICAgICAgb25SZXNpemU6IEZ1bmN0aW9uLFxuICAgICAgICBkZWZhdWx0U2Nyb2xsS2V5OiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgICBkZWZhdWx0U2Nyb2xsSW5kZXg6IE51bWJlcixcbiAgICAgICAga2V5RmllbGQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdrZXknXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdoZXRoZXIgaXQgaXMgYSBnb29kIEFQST9cbiAgICAgICAgLy8gUmVzaXplT2JzZXJ2ZXIgKyBmb290ZXIgJiBoZWFkZXIgaXMgbm90IGVub3VnaC5cbiAgICAgICAgLy8gVG9vIGNvbXBsZXggZm9yIHNpbXBsZSBjYXNlXG4gICAgICAgIHBhZGRpbmdUb3A6IHtcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHBhZGRpbmdCb3R0b206IHtcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldHVwKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHNzckFkYXB0ZXIgPSB1c2VTc3JBZGFwdGVyKCk7XG4gICAgICAgIHN0eWxlcy5tb3VudCh7XG4gICAgICAgICAgICBpZDogJ3Z1ZXVjL3ZpcnR1YWwtbGlzdCcsXG4gICAgICAgICAgICBoZWFkOiB0cnVlLFxuICAgICAgICAgICAgYW5jaG9yTWV0YU5hbWU6IGNzc3JBbmNob3JNZXRhTmFtZSxcbiAgICAgICAgICAgIHNzcjogc3NyQWRhcHRlclxuICAgICAgICB9KTtcbiAgICAgICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVmYXVsdFNjcm9sbEluZGV4LCBkZWZhdWx0U2Nyb2xsS2V5IH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmIChkZWZhdWx0U2Nyb2xsSW5kZXggIT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0U2Nyb2xsSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUbyh7IGluZGV4OiBkZWZhdWx0U2Nyb2xsSW5kZXggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkZWZhdWx0U2Nyb2xsS2V5ICE9PSB1bmRlZmluZWQgJiYgZGVmYXVsdFNjcm9sbEtleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvKHsga2V5OiBkZWZhdWx0U2Nyb2xsS2V5IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGFjdGl2YXRlU3RhdGVJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBvbkFjdGl2YXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBpc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIWFjdGl2YXRlU3RhdGVJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGFjdGl2YXRlU3RhdGVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3VudFxuICAgICAgICAgICAgc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbFRvcFJlZi52YWx1ZSwgbGVmdDogc2Nyb2xsTGVmdCB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uRGVhY3RpdmF0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgaXNEZWFjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWFjdGl2YXRlU3RhdGVJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGFjdGl2YXRlU3RhdGVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBrZXlJbmRleE1hcFJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5RmllbGQgfSA9IHByb3BzO1xuICAgICAgICAgICAgcHJvcHMuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0KGl0ZW1ba2V5RmllbGRdLCBpbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaXN0RWxSZWYgPSByZWYobnVsbCk7XG4gICAgICAgIGNvbnN0IGxpc3RIZWlnaHRSZWYgPSByZWYodW5kZWZpbmVkKTtcbiAgICAgICAgY29uc3Qga2V5VG9IZWlnaHRPZmZzZXQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGZpbndlY2tUcmVlUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtcywgaXRlbVNpemUsIGtleUZpZWxkIH0gPSBwcm9wcztcbiAgICAgICAgICAgIGNvbnN0IGZ0ID0gbmV3IEZpbndlY2tUcmVlKGl0ZW1zLmxlbmd0aCwgaXRlbVNpemUpO1xuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBpdGVtW2tleUZpZWxkXTtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHRPZmZzZXQgPSBrZXlUb0hlaWdodE9mZnNldC5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0T2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnQuYWRkKGluZGV4LCBoZWlnaHRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZ0O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlud2Vja1RyZWVVcGRhdGVUcmlnZ2VyID0gcmVmKDApO1xuICAgICAgICBsZXQgc2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcFJlZiA9IHJlZigwKTtcbiAgICAgICAgY29uc3Qgc3RhcnRJbmRleFJlZiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGZpbndlY2tUcmVlUmVmLnZhbHVlLmdldEJvdW5kKHNjcm9sbFRvcFJlZi52YWx1ZSAtIGRlcHgocHJvcHMucGFkZGluZ1RvcCkpIC0gMSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB2aWV3cG9ydEl0ZW1zUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogbGlzdEhlaWdodCB9ID0gbGlzdEhlaWdodFJlZjtcbiAgICAgICAgICAgIGlmIChsaXN0SGVpZ2h0ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtcywgaXRlbVNpemUgfSA9IHByb3BzO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IHN0YXJ0SW5kZXhSZWYudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IE1hdGgubWluKHN0YXJ0SW5kZXggKyBNYXRoLmNlaWwobGlzdEhlaWdodCAvIGl0ZW1TaXplICsgMSksIGl0ZW1zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRJdGVtcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPD0gZW5kSW5kZXg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0SXRlbXMucHVzaChpdGVtc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmlld3BvcnRJdGVtcztcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNjcm9sbFRvID0gKG9wdGlvbnMsIHkpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1Bvc2l0aW9uKG9wdGlvbnMsIHksICdhdXRvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBsZWZ0LCB0b3AsIGluZGV4LCBrZXksIHBvc2l0aW9uLCBiZWhhdmlvciwgZGVib3VuY2UgPSB0cnVlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgaWYgKGxlZnQgIT09IHVuZGVmaW5lZCB8fCB0b3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvUG9zaXRpb24obGVmdCwgdG9wLCBiZWhhdmlvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9JbmRleChpbmRleCwgYmVoYXZpb3IsIGRlYm91bmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9JbmRleCA9IGtleUluZGV4TWFwUmVmLnZhbHVlLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmICh0b0luZGV4ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvSW5kZXgodG9JbmRleCwgYmVoYXZpb3IsIGRlYm91bmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvUG9zaXRpb24oMCwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIGJlaGF2aW9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvUG9zaXRpb24oMCwgMCwgYmVoYXZpb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBsZXQgYW5jaG9ySW5kZXg7XG4gICAgICAgIGxldCBhbmNob3JUaW1lcklkID0gbnVsbDtcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsVG9JbmRleChpbmRleCwgYmVoYXZpb3IsIGRlYm91bmNlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBmdCB9ID0gZmlud2Vja1RyZWVSZWY7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRUb3AgPSBmdC5zdW0oaW5kZXgpICsgZGVweChwcm9wcy5wYWRkaW5nVG9wKTtcbiAgICAgICAgICAgIGlmICghZGVib3VuY2UpIHtcbiAgICAgICAgICAgICAgICBsaXN0RWxSZWYudmFsdWUuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHRhcmdldFRvcCxcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuY2hvckluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvclRpbWVySWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChhbmNob3JUaW1lcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYW5jaG9yVGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9ySW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclRpbWVySWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0sIDE2KTsgLy8gdXNlIDAgbXMgbWF5IGJlIGVhbGllciB0aGFuIHJlc2l6ZSBjYWxsYmFjay4uLlxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wLCBvZmZzZXRIZWlnaHQgfSA9IGxpc3RFbFJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VG9wID4gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1TaXplID0gZnQuZ2V0KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFRvcCArIGl0ZW1TaXplIDw9IHNjcm9sbFRvcCArIG9mZnNldEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEVsUmVmLnZhbHVlLnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGFyZ2V0VG9wICsgaXRlbVNpemUgLSBvZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0RWxSZWYudmFsdWUuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGFyZ2V0VG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRvUG9zaXRpb24obGVmdCwgdG9wLCBiZWhhdmlvcikge1xuICAgICAgICAgICAgbGlzdEVsUmVmLnZhbHVlLnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlSXRlbVJlc2l6ZShrZXksIGVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGlmIChpc0RlYWN0aXZhdGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChwcm9wcy5pZ25vcmVJdGVtUmVzaXplKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChpc0hpZGVCeVZTaG93KGVudHJ5LnRhcmdldCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogZnQgfSA9IGZpbndlY2tUcmVlUmVmO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXlJbmRleE1hcFJlZi52YWx1ZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzSGVpZ2h0ID0gZnQuZ2V0KGluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChfYyA9IChfYiA9IChfYSA9IGVudHJ5LmJvcmRlckJveFNpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVswXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJsb2NrU2l6ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZW50cnkuY29udGVudFJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGhlaWdodCA9PT0gcHJldmlvdXNIZWlnaHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gaGVpZ2h0IG9mZnNldCBiYXNlZCBvbiBpdGVtU2l6ZVxuICAgICAgICAgICAgLy8gdXNlZCB3aGVuIHJlYnVpbGQgdGhlIGZpbndlY2sgdHJlZVxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaGVpZ2h0IC0gcHJvcHMuaXRlbVNpemU7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAga2V5VG9IZWlnaHRPZmZzZXQuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBrZXlUb0hlaWdodE9mZnNldC5zZXQoa2V5LCBoZWlnaHQgLSBwcm9wcy5pdGVtU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWx0YSBoZWlnaHQgYmFzZWQgb24gZmlud2VjayB0cmVlIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gaGVpZ2h0IC0gcHJldmlvdXNIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoZGVsdGEgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZnQuYWRkKGluZGV4LCBkZWx0YSk7XG4gICAgICAgICAgICBjb25zdCBsaXN0RWwgPSBsaXN0RWxSZWYudmFsdWU7XG4gICAgICAgICAgICBpZiAobGlzdEVsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9ySW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0hlaWdodFN1bSA9IGZ0LnN1bShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0RWwuc2Nyb2xsVG9wID4gcHJldmlvdXNIZWlnaHRTdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbC5zY3JvbGxCeSgwLCBkZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGFuY2hvckluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0RWwuc2Nyb2xsQnkoMCwgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSBhbmNob3JJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNIZWlnaHRTdW0gPSBmdC5zdW0oaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodCArIHByZXZpb3VzSGVpZ2h0U3VtID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlLCBsaXN0RWwgc2hvdWxkbid0IGhhdmUgYm9yZGVyLCBub3Igb2Zmc2V0SGVpZ2h0IHdvbid0IGJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbC5zY3JvbGxUb3AgKyBsaXN0RWwub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEVsLnNjcm9sbEJ5KDAsIGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzeW5jVmlld3BvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbndlY2tUcmVlVXBkYXRlVHJpZ2dlci52YWx1ZSsrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heVVzZVdoZWVsID0gIWVuc3VyZU1heWJlVG91Y2goKTtcbiAgICAgICAgbGV0IHdoZWVsQ2F0Y2hlZCA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVMaXN0U2Nyb2xsKGUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IHByb3BzLm9uU2Nyb2xsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgICAgICAgICBpZiAoIW1heVVzZVdoZWVsIHx8ICF3aGVlbENhdGNoZWQpIHtcbiAgICAgICAgICAgICAgICBzeW5jVmlld3BvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVMaXN0V2hlZWwoZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gcHJvcHMub25XaGVlbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICAgICAgICAgICAgaWYgKG1heVVzZVdoZWVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdEVsID0gbGlzdEVsUmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChsaXN0RWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5kZWx0YVggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0RWwuc2Nyb2xsVG9wID09PSAwICYmIGUuZGVsdGFZIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdEVsLnNjcm9sbFRvcCArIGxpc3RFbC5vZmZzZXRIZWlnaHQgPj0gbGlzdEVsLnNjcm9sbEhlaWdodCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZGVsdGFZID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBsaXN0RWwuc2Nyb2xsVG9wICs9IGUuZGVsdGFZIC8gZW5zdXJlV2hlZWxTY2FsZSgpO1xuICAgICAgICAgICAgICAgICAgICBsaXN0RWwuc2Nyb2xsTGVmdCArPSBlLmRlbHRhWCAvIGVuc3VyZVdoZWVsU2NhbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc3luY1ZpZXdwb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ2F0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZU5leHRGcmFtZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxDYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVMaXN0UmVzaXplKGVudHJ5KSB7XG4gICAgICAgICAgICBpZiAoaXNEZWFjdGl2YXRlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBMaXN0IGlzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICBpZiAoaXNIaWRlQnlWU2hvdyhlbnRyeS50YXJnZXQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIElmIGhlaWdodCBpcyBzYW1lLCByZXR1cm5cbiAgICAgICAgICAgIGlmIChlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQgPT09IGxpc3RIZWlnaHRSZWYudmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGlzdEhlaWdodFJlZi52YWx1ZSA9IGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHsgb25SZXNpemUgfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKG9uUmVzaXplICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgb25SZXNpemUoZW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN5bmNWaWV3cG9ydCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGxpc3RFbCB9ID0gbGlzdEVsUmVmO1xuICAgICAgICAgICAgLy8gc29tZXRpbWUgcmVmIGVsIGNhbiBiZSBudWxsXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vVHVTaW1wbGUvbmFpdmUtdWkvaXNzdWVzLzgxMVxuICAgICAgICAgICAgaWYgKGxpc3RFbCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNjcm9sbFRvcFJlZi52YWx1ZSA9IGxpc3RFbC5zY3JvbGxUb3A7XG4gICAgICAgICAgICBzY3JvbGxMZWZ0ID0gbGlzdEVsLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNIaWRlQnlWU2hvdyhlbCkge1xuICAgICAgICAgICAgbGV0IGN1cnNvciA9IGVsO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnNvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3Iuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGlzdEhlaWdodDogbGlzdEhlaWdodFJlZixcbiAgICAgICAgICAgIGxpc3RTdHlsZToge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnYXV0bydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXlUb0luZGV4OiBrZXlJbmRleE1hcFJlZixcbiAgICAgICAgICAgIGl0ZW1zU3R5bGU6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGl0ZW1SZXNpemFibGUgfSA9IHByb3BzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHB4ZnkoZmlud2Vja1RyZWVSZWYudmFsdWUuc3VtKCkpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgZmlud2Vja1RyZWVVcGRhdGVUcmlnZ2VyLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLml0ZW1zU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbVJlc2l6YWJsZSA/ICcnIDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBpdGVtUmVzaXphYmxlID8gaGVpZ2h0IDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBweGZ5KHByb3BzLnBhZGRpbmdUb3ApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogcHhmeShwcm9wcy5wYWRkaW5nQm90dG9tKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdmlzaWJsZUl0ZW1zU3R5bGU6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgIGZpbndlY2tUcmVlVXBkYXRlVHJpZ2dlci52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7cHhmeShmaW53ZWNrVHJlZVJlZi52YWx1ZS5zdW0oc3RhcnRJbmRleFJlZi52YWx1ZSkpfSlgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdmlld3BvcnRJdGVtczogdmlld3BvcnRJdGVtc1JlZixcbiAgICAgICAgICAgIGxpc3RFbFJlZixcbiAgICAgICAgICAgIGl0ZW1zRWxSZWY6IHJlZihudWxsKSxcbiAgICAgICAgICAgIHNjcm9sbFRvLFxuICAgICAgICAgICAgaGFuZGxlTGlzdFJlc2l6ZSxcbiAgICAgICAgICAgIGhhbmRsZUxpc3RTY3JvbGwsXG4gICAgICAgICAgICBoYW5kbGVMaXN0V2hlZWwsXG4gICAgICAgICAgICBoYW5kbGVJdGVtUmVzaXplXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgaXRlbVJlc2l6YWJsZSwga2V5RmllbGQsIGtleVRvSW5kZXgsIHZpc2libGVJdGVtc1RhZyB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGgoVlJlc2l6ZU9ic2VydmVyLCB7XG4gICAgICAgICAgICBvblJlc2l6ZTogdGhpcy5oYW5kbGVMaXN0UmVzaXplXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHJldHVybiBoKCdkaXYnLCBtZXJnZVByb3BzKHRoaXMuJGF0dHJzLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBbJ3YtdmwnLCB0aGlzLnNob3dTY3JvbGxiYXIgJiYgJ3YtdmwtLXNob3ctc2Nyb2xsYmFyJ10sXG4gICAgICAgICAgICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUxpc3RTY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgIG9uV2hlZWw6IHRoaXMuaGFuZGxlTGlzdFdoZWVsLFxuICAgICAgICAgICAgICAgICAgICByZWY6ICdsaXN0RWxSZWYnXG4gICAgICAgICAgICAgICAgfSksIFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggIT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogJ2l0ZW1zRWxSZWYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAndi12bC1pdGVtcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHRoaXMuaXRlbXNTdHlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgodmlzaWJsZUl0ZW1zVGFnLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICd2LXZsLXZpc2libGUtaXRlbXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogdGhpcy52aXNpYmxlSXRlbXNTdHlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMudmlzaWJsZUl0ZW1zUHJvcHMpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHRoaXMudmlld3BvcnRJdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGl0ZW1ba2V5RmllbGRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXlUb0luZGV4LmdldChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbVZOb2RlID0gdGhpcy4kc2xvdHMuZGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKFZSZXNpemVPYnNlcnZlciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVzaXplOiAoZW50cnkpID0+IHRoaXMuaGFuZGxlSXRlbVJlc2l6ZShrZXksIGVudHJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gaXRlbVZOb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtVk5vZGUua2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1WTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKF9iID0gKF9hID0gdGhpcy4kc2xvdHMpLmVtcHR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4iLCJsZXQgbWF5YmVUb3VjaDtcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVNYXliZVRvdWNoKCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG1heWJlVG91Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoJ21hdGNoTWVkaWEnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgbWF5YmVUb3VjaCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocG9pbnRlcjpjb2Fyc2UpJykubWF0Y2hlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1heWJlVG91Y2ggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF5YmVUb3VjaDtcbn1cbmxldCB3aGVlbFNjYWxlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVdoZWVsU2NhbGUoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmICh3aGVlbFNjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgd2hlZWxTY2FsZSA9ICdjaHJvbWUnIGluIHdpbmRvdyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogMTtcbiAgICB9XG4gICAgcmV0dXJuIHdoZWVsU2NhbGU7XG59XG4iLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQsIHRvUmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHJlc29sdmVTbG90IH0gZnJvbSBcIi4uLy4uLy4uL191dGlscy9pbmRleC5tanNcIjtcbmltcG9ydCB7IHVzZVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL19taXhpbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBDbGVhckljb24gfSBmcm9tIFwiLi4vLi4vaWNvbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBOQmFzZUljb24gfSBmcm9tIFwiLi4vLi4vaWNvbi9pbmRleC5tanNcIjtcbmltcG9ydCBOSWNvblN3aXRjaFRyYW5zaXRpb24gZnJvbSBcIi4uLy4uL2ljb24tc3dpdGNoLXRyYW5zaXRpb24vaW5kZXgubWpzXCI7XG5pbXBvcnQgc3R5bGUgZnJvbSBcIi4vc3R5bGVzL2luZGV4LmNzc3IubWpzXCI7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiAnQmFzZUNsZWFyJyxcbiAgcHJvcHM6IHtcbiAgICBjbHNQcmVmaXg6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBzaG93OiBCb29sZWFuLFxuICAgIG9uQ2xlYXI6IEZ1bmN0aW9uXG4gIH0sXG4gIHNldHVwKHByb3BzKSB7XG4gICAgdXNlU3R5bGUoJy1iYXNlLWNsZWFyJywgc3R5bGUsIHRvUmVmKHByb3BzLCAnY2xzUHJlZml4JykpO1xuICAgIHJldHVybiB7XG4gICAgICBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNsc1ByZWZpeFxuICAgIH0gPSB0aGlzO1xuICAgIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2UtY2xlYXJgXG4gICAgfSwgaChOSWNvblN3aXRjaFRyYW5zaXRpb24sIG51bGwsIHtcbiAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvdyA/IGgoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogXCJkaXNtaXNzXCIsXG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1jbGVhcl9fY2xlYXJgLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGVhcixcbiAgICAgICAgICBvbk1vdXNlZG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24sXG4gICAgICAgICAgXCJkYXRhLWNsZWFyXCI6IHRydWVcbiAgICAgICAgfSwgcmVzb2x2ZVNsb3QodGhpcy4kc2xvdHMuaWNvbiwgKCkgPT4gW2goTkJhc2VJY29uLCB7XG4gICAgICAgICAgY2xzUHJlZml4OiBjbHNQcmVmaXhcbiAgICAgICAgfSwge1xuICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IGgoQ2xlYXJJY29uLCBudWxsKVxuICAgICAgICB9KV0pKSA6IGgoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogXCJpY29uXCIsXG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1jbGVhcl9fcGxhY2Vob2xkZXJgXG4gICAgICAgIH0sIChfYiA9IChfYSA9IHRoaXMuJHNsb3RzKS5wbGFjZWhvbGRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbn0pOyIsImltcG9ydCB7IGNCLCBjLCBjRSB9IGZyb20gXCIuLi8uLi8uLi8uLi9fdXRpbHMvY3Nzci9pbmRleC5tanNcIjtcbmltcG9ydCB7IGljb25Td2l0Y2hUcmFuc2l0aW9uIH0gZnJvbSBcIi4uLy4uLy4uLy4uL19zdHlsZXMvdHJhbnNpdGlvbnMvaWNvbi1zd2l0Y2guY3Nzci5tanNcIjtcbi8vIHZhcnM6XG4vLyAtLW4tYmV6aWVyXG4vLyAtLW4tY2xlYXItY29sb3Jcbi8vIC0tbi1jbGVhci1zaXplXG4vLyAtLW4tY2xlYXItY29sb3ItaG92ZXJcbi8vIC0tbi1jbGVhci1jb2xvci1wcmVzc2VkXG5leHBvcnQgZGVmYXVsdCBjQignYmFzZS1jbGVhcicsIGBcbiBmbGV4LXNocmluazogMDtcbiBoZWlnaHQ6IDFlbTtcbiB3aWR0aDogMWVtO1xuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbmAsIFtjKCc+JywgW2NFKCdjbGVhcicsIGBcbiBmb250LXNpemU6IHZhcigtLW4tY2xlYXItc2l6ZSk7XG4gaGVpZ2h0OiAxZW07XG4gd2lkdGg6IDFlbTtcbiBjdXJzb3I6IHBvaW50ZXI7XG4gY29sb3I6IHZhcigtLW4tY2xlYXItY29sb3IpO1xuIHRyYW5zaXRpb246IGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gZGlzcGxheTogZmxleDtcbiBgLCBbYygnJjpob3ZlcicsIGBcbiBjb2xvcjogdmFyKC0tbi1jbGVhci1jb2xvci1ob3ZlcikhaW1wb3J0YW50O1xuIGApLCBjKCcmOmFjdGl2ZScsIGBcbiBjb2xvcjogdmFyKC0tbi1jbGVhci1jb2xvci1wcmVzc2VkKSFpbXBvcnRhbnQ7XG4gYCldKSwgY0UoJ3BsYWNlaG9sZGVyJywgYFxuIGRpc3BsYXk6IGZsZXg7XG4gYCksIGNFKCdjbGVhciwgcGxhY2Vob2xkZXInLCBgXG4gcG9zaXRpb246IGFic29sdXRlO1xuIGxlZnQ6IDUwJTtcbiB0b3A6IDUwJTtcbiB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTtcbiBgLCBbaWNvblN3aXRjaFRyYW5zaXRpb24oe1xuICBvcmlnaW5hbFRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKScsXG4gIGxlZnQ6ICc1MCUnLFxuICB0b3A6ICc1MCUnXG59KV0pXSldKTsiLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQsIHRvUmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL19taXhpbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBOQmFzZUljb24gfSBmcm9tIFwiLi4vLi4vaWNvbi9pbmRleC5tanNcIjtcbmltcG9ydCB7IENsb3NlSWNvbiB9IGZyb20gXCIuLi8uLi9pY29ucy9pbmRleC5tanNcIjtcbmltcG9ydCBzdHlsZSBmcm9tIFwiLi9zdHlsZXMvaW5kZXguY3Nzci5tanNcIjtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdCYXNlQ2xvc2UnLFxuICBwcm9wczoge1xuICAgIGlzQnV0dG9uVGFnOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgY2xzUHJlZml4OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIGZvY3VzYWJsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHJvdW5kOiBCb29sZWFuLFxuICAgIG9uQ2xpY2s6IEZ1bmN0aW9uLFxuICAgIGFic29sdXRlOiBCb29sZWFuXG4gIH0sXG4gIHNldHVwKHByb3BzKSB7XG4gICAgdXNlU3R5bGUoJy1iYXNlLWNsb3NlJywgc3R5bGUsIHRvUmVmKHByb3BzLCAnY2xzUHJlZml4JykpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNsc1ByZWZpeCxcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGFic29sdXRlLFxuICAgICAgICByb3VuZCxcbiAgICAgICAgaXNCdXR0b25UYWdcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IFRhZyA9IGlzQnV0dG9uVGFnID8gJ2J1dHRvbicgOiAnZGl2JztcbiAgICAgIHJldHVybiBoKFRhZywge1xuICAgICAgICB0eXBlOiBpc0J1dHRvblRhZyA/ICdidXR0b24nIDogdW5kZWZpbmVkLFxuICAgICAgICB0YWJpbmRleDogZGlzYWJsZWQgfHwgIXByb3BzLmZvY3VzYWJsZSA/IC0xIDogMCxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGRpc2FibGVkLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJjbG9zZVwiLFxuICAgICAgICByb2xlOiBpc0J1dHRvblRhZyA/IHVuZGVmaW5lZCA6ICdidXR0b24nLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIGNsYXNzOiBbYCR7Y2xzUHJlZml4fS1iYXNlLWNsb3NlYCwgYWJzb2x1dGUgJiYgYCR7Y2xzUHJlZml4fS1iYXNlLWNsb3NlLS1hYnNvbHV0ZWAsIGRpc2FibGVkICYmIGAke2Nsc1ByZWZpeH0tYmFzZS1jbG9zZS0tZGlzYWJsZWRgLCByb3VuZCAmJiBgJHtjbHNQcmVmaXh9LWJhc2UtY2xvc2UtLXJvdW5kYF0sXG4gICAgICAgIG9uTW91c2Vkb3duOiBlID0+IHtcbiAgICAgICAgICBpZiAoIXByb3BzLmZvY3VzYWJsZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljazogcHJvcHMub25DbGlja1xuICAgICAgfSwgaChOQmFzZUljb24sIHtcbiAgICAgICAgY2xzUHJlZml4OiBjbHNQcmVmaXhcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gaChDbG9zZUljb24sIG51bGwpXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgY0IsIGNNLCBjLCBjTm90TSB9IGZyb20gXCIuLi8uLi8uLi8uLi9fdXRpbHMvY3Nzci9pbmRleC5tanNcIjtcbi8vIHZhcnM6XG4vLyAtLW4tY2xvc2UtYm9yZGVyLXJhZGl1c1xuLy8gLS1uLWNsb3NlLWNvbG9yLWhvdmVyXG4vLyAtLW4tY2xvc2UtY29sb3ItcHJlc3NlZFxuLy8gLS1uLWNsb3NlLWljb24tY29sb3Jcbi8vIC0tbi1jbG9zZS1pY29uLWNvbG9yLWhvdmVyXG4vLyAtLW4tY2xvc2UtaWNvbi1jb2xvci1wcmVzc2VkXG4vLyAtLW4tY2xvc2UtaWNvbi1jb2xvci1kaXNhYmxlZFxuZXhwb3J0IGRlZmF1bHQgY0IoJ2Jhc2UtY2xvc2UnLCBgXG4gZGlzcGxheTogZmxleDtcbiBhbGlnbi1pdGVtczogY2VudGVyO1xuIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuIGN1cnNvcjogcG9pbnRlcjtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiBjb2xvcjogdmFyKC0tbi1jbG9zZS1pY29uLWNvbG9yKTtcbiBib3JkZXItcmFkaXVzOiB2YXIoLS1uLWNsb3NlLWJvcmRlci1yYWRpdXMpO1xuIGhlaWdodDogdmFyKC0tbi1jbG9zZS1zaXplKTtcbiB3aWR0aDogdmFyKC0tbi1jbG9zZS1zaXplKTtcbiBmb250LXNpemU6IHZhcigtLW4tY2xvc2UtaWNvbi1zaXplKTtcbiBvdXRsaW5lOiBub25lO1xuIGJvcmRlcjogbm9uZTtcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gcGFkZGluZzogMDtcbmAsIFtjTSgnYWJzb2x1dGUnLCBgXG4gaGVpZ2h0OiB2YXIoLS1uLWNsb3NlLWljb24tc2l6ZSk7XG4gd2lkdGg6IHZhcigtLW4tY2xvc2UtaWNvbi1zaXplKTtcbiBgKSwgYygnJjo6YmVmb3JlJywgYFxuIGNvbnRlbnQ6IFwiXCI7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIHdpZHRoOiB2YXIoLS1uLWNsb3NlLXNpemUpO1xuIGhlaWdodDogdmFyKC0tbi1jbG9zZS1zaXplKTtcbiBsZWZ0OiA1MCU7XG4gdG9wOiA1MCU7XG4gdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSk7XG4gdHJhbnNpdGlvbjogaW5oZXJpdDtcbiBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuIGApLCBjTm90TSgnZGlzYWJsZWQnLCBbYygnJjpob3ZlcicsIGBcbiBjb2xvcjogdmFyKC0tbi1jbG9zZS1pY29uLWNvbG9yLWhvdmVyKTtcbiBgKSwgYygnJjpob3Zlcjo6YmVmb3JlJywgYFxuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY2xvc2UtY29sb3ItaG92ZXIpO1xuIGApLCBjKCcmOmZvY3VzOjpiZWZvcmUnLCBgXG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jbG9zZS1jb2xvci1ob3Zlcik7XG4gYCksIGMoJyY6YWN0aXZlJywgYFxuIGNvbG9yOiB2YXIoLS1uLWNsb3NlLWljb24tY29sb3ItcHJlc3NlZCk7XG4gYCksIGMoJyY6YWN0aXZlOjpiZWZvcmUnLCBgXG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jbG9zZS1jb2xvci1wcmVzc2VkKTtcbiBgKV0pLCBjTSgnZGlzYWJsZWQnLCBgXG4gY3Vyc29yOiBub3QtYWxsb3dlZDtcbiBjb2xvcjogdmFyKC0tbi1jbG9zZS1pY29uLWNvbG9yLWRpc2FibGVkKTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiBgKSwgY00oJ3JvdW5kJywgW2MoJyY6OmJlZm9yZScsIGBcbiBib3JkZXItcmFkaXVzOiA1MCU7XG4gYCldKV0pOyIsImltcG9ydCBGb2N1c0RldGVjdG9yIGZyb20gXCIuL3NyYy9Gb2N1c0RldGVjdG9yLm1qc1wiO1xuZXhwb3J0IGRlZmF1bHQgRm9jdXNEZXRlY3RvcjsiLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgcHJvcHM6IHtcbiAgICBvbkZvY3VzOiBGdW5jdGlvbixcbiAgICBvbkJsdXI6IEZ1bmN0aW9uXG4gIH0sXG4gIHNldHVwKHByb3BzKSB7XG4gICAgcmV0dXJuICgpID0+IGgoXCJkaXZcIiwge1xuICAgICAgc3R5bGU6IFwid2lkdGg6IDA7IGhlaWdodDogMFwiLFxuICAgICAgdGFiaW5kZXg6IDAsXG4gICAgICBvbkZvY3VzOiBwcm9wcy5vbkZvY3VzLFxuICAgICAgb25CbHVyOiBwcm9wcy5vbkJsdXJcbiAgICB9KTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJztcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdDaGVja21hcmsnLFxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCJcbiAgICB9LCBoKFwiZ1wiLCB7XG4gICAgICBmaWxsOiBcIm5vbmVcIlxuICAgIH0sIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTE0LjA0NiAzLjQ4NmEuNzUuNzUgMCAwIDEtLjAzMiAxLjA2bC03LjkzIDcuNDc0YS44NS44NSAwIDAgMS0xLjE4OC0uMDIybC0yLjY4LTIuNzJhLjc1Ljc1IDAgMSAxIDEuMDY4LTEuMDUzbDIuMjM0IDIuMjY3bDcuNDY4LTcuMDM4YS43NS43NSAwIDAgMSAxLjA2LjAzMnpcIixcbiAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICB9KSkpO1xuICB9XG59KTsiLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogJ0NoZXZyb25Eb3duJyxcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0zLjE0NjQ1IDUuNjQ2NDVDMy4zNDE3MSA1LjQ1MTE4IDMuNjU4MjkgNS40NTExOCAzLjg1MzU1IDUuNjQ2NDVMOCA5Ljc5Mjg5TDEyLjE0NjQgNS42NDY0NUMxMi4zNDE3IDUuNDUxMTggMTIuNjU4MyA1LjQ1MTE4IDEyLjg1MzYgNS42NDY0NUMxMy4wNDg4IDUuODQxNzEgMTMuMDQ4OCA2LjE1ODI5IDEyLjg1MzYgNi4zNTM1NUw4LjM1MzU1IDEwLjg1MzZDOC4xNTgyOSAxMS4wNDg4IDcuODQxNzEgMTEuMDQ4OCA3LjY0NjQ1IDEwLjg1MzZMMy4xNDY0NSA2LjM1MzU1QzIuOTUxMTggNi4xNTgyOSAyLjk1MTE4IDUuODQxNzEgMy4xNDY0NSA1LjY0NjQ1WlwiLFxuICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgIH0pKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyByZXBsYWNlYWJsZSB9IGZyb20gXCIuL3JlcGxhY2VhYmxlLm1qc1wiO1xuZXhwb3J0IGRlZmF1bHQgcmVwbGFjZWFibGUoJ2NsZWFyJywgaChcInN2Z1wiLCB7XG4gIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gIHZlcnNpb246IFwiMS4xXCIsXG4gIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbn0sIGgoXCJnXCIsIHtcbiAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgXCJzdHJva2Utd2lkdGhcIjogXCIxXCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICBcImZpbGwtcnVsZVwiOiBcImV2ZW5vZGRcIlxufSwgaChcImdcIiwge1xuICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICBcImZpbGwtcnVsZVwiOiBcIm5vbnplcm9cIlxufSwgaChcInBhdGhcIiwge1xuICBkOiBcIk04LDIgQzExLjMxMzcwODUsMiAxNCw0LjY4NjI5MTUgMTQsOCBDMTQsMTEuMzEzNzA4NSAxMS4zMTM3MDg1LDE0IDgsMTQgQzQuNjg2MjkxNSwxNCAyLDExLjMxMzcwODUgMiw4IEMyLDQuNjg2MjkxNSA0LjY4NjI5MTUsMiA4LDIgWiBNNi41MzQzMDU1LDUuODM4NTkxMTYgQzYuMzM5NDM3MzYsNS43MDM1OTUxMSA2LjA3MDAxMjk2LDUuNzIyODgwMjYgNS44OTY0NDY2MSw1Ljg5NjQ0NjYxIEw1Ljg5NjQ0NjYxLDUuODk2NDQ2NjEgTDUuODM4NTkxMTYsNS45NjU2OTQ1IEM1LjcwMzU5NTExLDYuMTYwNTYyNjQgNS43MjI4ODAyNiw2LjQyOTk4NzA0IDUuODk2NDQ2NjEsNi42MDM1NTMzOSBMNS44OTY0NDY2MSw2LjYwMzU1MzM5IEw3LjI5Myw4IEw1Ljg5NjQ0NjYxLDkuMzk2NDQ2NjEgTDUuODM4NTkxMTYsOS40NjU2OTQ1IEM1LjcwMzU5NTExLDkuNjYwNTYyNjQgNS43MjI4ODAyNiw5LjkyOTk4NzA0IDUuODk2NDQ2NjEsMTAuMTAzNTUzNCBMNS44OTY0NDY2MSwxMC4xMDM1NTM0IEw1Ljk2NTY5NDUsMTAuMTYxNDA4OCBDNi4xNjA1NjI2NCwxMC4yOTY0MDQ5IDYuNDI5OTg3MDQsMTAuMjc3MTE5NyA2LjYwMzU1MzM5LDEwLjEwMzU1MzQgTDYuNjAzNTUzMzksMTAuMTAzNTUzNCBMOCw4LjcwNyBMOS4zOTY0NDY2MSwxMC4xMDM1NTM0IEw5LjQ2NTY5NDUsMTAuMTYxNDA4OCBDOS42NjA1NjI2NCwxMC4yOTY0MDQ5IDkuOTI5OTg3MDQsMTAuMjc3MTE5NyAxMC4xMDM1NTM0LDEwLjEwMzU1MzQgTDEwLjEwMzU1MzQsMTAuMTAzNTUzNCBMMTAuMTYxNDA4OCwxMC4wMzQzMDU1IEMxMC4yOTY0MDQ5LDkuODM5NDM3MzYgMTAuMjc3MTE5Nyw5LjU3MDAxMjk2IDEwLjEwMzU1MzQsOS4zOTY0NDY2MSBMMTAuMTAzNTUzNCw5LjM5NjQ0NjYxIEw4LjcwNyw4IEwxMC4xMDM1NTM0LDYuNjAzNTUzMzkgTDEwLjE2MTQwODgsNi41MzQzMDU1IEMxMC4yOTY0MDQ5LDYuMzM5NDM3MzYgMTAuMjc3MTE5Nyw2LjA3MDAxMjk2IDEwLjEwMzU1MzQsNS44OTY0NDY2MSBMMTAuMTAzNTUzNCw1Ljg5NjQ0NjYxIEwxMC4wMzQzMDU1LDUuODM4NTkxMTYgQzkuODM5NDM3MzYsNS43MDM1OTUxMSA5LjU3MDAxMjk2LDUuNzIyODgwMjYgOS4zOTY0NDY2MSw1Ljg5NjQ0NjYxIEw5LjM5NjQ0NjYxLDUuODk2NDQ2NjEgTDgsNy4yOTMgTDYuNjAzNTUzMzksNS44OTY0NDY2MSBaXCJcbn0pKSkpKTsiLCJpbXBvcnQgeyBoIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHJlcGxhY2VhYmxlIH0gZnJvbSBcIi4vcmVwbGFjZWFibGUubWpzXCI7XG5leHBvcnQgZGVmYXVsdCByZXBsYWNlYWJsZSgnY2xvc2UnLCBoKFwic3ZnXCIsIHtcbiAgdmlld0JveDogXCIwIDAgMTIgMTJcIixcbiAgdmVyc2lvbjogXCIxLjFcIixcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgXCJhcmlhLWhpZGRlblwiOiB0cnVlXG59LCBoKFwiZ1wiLCB7XG4gIHN0cm9rZTogXCJub25lXCIsXG4gIFwic3Ryb2tlLXdpZHRoXCI6IFwiMVwiLFxuICBmaWxsOiBcIm5vbmVcIixcbiAgXCJmaWxsLXJ1bGVcIjogXCJldmVub2RkXCJcbn0sIGgoXCJnXCIsIHtcbiAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgXCJmaWxsLXJ1bGVcIjogXCJub256ZXJvXCJcbn0sIGgoXCJwYXRoXCIsIHtcbiAgZDogXCJNMi4wODg1OTExNiwyLjIxNTY5NDUgTDIuMTQ2NDQ2NjEsMi4xNDY0NDY2MSBDMi4zMjAwMTI5NiwxLjk3Mjg4MDI2IDIuNTg5NDM3MzYsMS45NTM1OTUxMSAyLjc4NDMwNTUsMi4wODg1OTExNiBMMi44NTM1NTMzOSwyLjE0NjQ0NjYxIEw2LDUuMjkzIEw5LjE0NjQ0NjYxLDIuMTQ2NDQ2NjEgQzkuMzQxNzA4NzYsMS45NTExODQ0NiA5LjY1ODI5MTI0LDEuOTUxMTg0NDYgOS44NTM1NTMzOSwyLjE0NjQ0NjYxIEMxMC4wNDg4MTU1LDIuMzQxNzA4NzYgMTAuMDQ4ODE1NSwyLjY1ODI5MTI0IDkuODUzNTUzMzksMi44NTM1NTMzOSBMNi43MDcsNiBMOS44NTM1NTMzOSw5LjE0NjQ0NjYxIEMxMC4wMjcxMTk3LDkuMzIwMDEyOTYgMTAuMDQ2NDA0OSw5LjU4OTQzNzM2IDkuOTExNDA4ODQsOS43ODQzMDU1IEw5Ljg1MzU1MzM5LDkuODUzNTUzMzkgQzkuNjc5OTg3MDQsMTAuMDI3MTE5NyA5LjQxMDU2MjY0LDEwLjA0NjQwNDkgOS4yMTU2OTQ1LDkuOTExNDA4ODQgTDkuMTQ2NDQ2NjEsOS44NTM1NTMzOSBMNiw2LjcwNyBMMi44NTM1NTMzOSw5Ljg1MzU1MzM5IEMyLjY1ODI5MTI0LDEwLjA0ODgxNTUgMi4zNDE3MDg3NiwxMC4wNDg4MTU1IDIuMTQ2NDQ2NjEsOS44NTM1NTMzOSBDMS45NTExODQ0Niw5LjY1ODI5MTI0IDEuOTUxMTg0NDYsOS4zNDE3MDg3NiAyLjE0NjQ0NjYxLDkuMTQ2NDQ2NjEgTDUuMjkzLDYgTDIuMTQ2NDQ2NjEsMi44NTM1NTMzOSBDMS45NzI4ODAyNiwyLjY3OTk4NzA0IDEuOTUzNTk1MTEsMi40MTA1NjI2NCAyLjA4ODU5MTE2LDIuMjE1Njk0NSBMMi4xNDY0NDY2MSwyLjE0NjQ0NjYxIEwyLjA4ODU5MTE2LDIuMjE1Njk0NSBaXCJcbn0pKSkpKTsiLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogJ0VtcHR5JyxcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBoKFwic3ZnXCIsIHtcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI4IDI4XCIsXG4gICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICB9LCBoKFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0yNiA3LjVDMjYgMTEuMDg5OSAyMy4wODk5IDE0IDE5LjUgMTRDMTUuOTEwMSAxNCAxMyAxMS4wODk5IDEzIDcuNUMxMyAzLjkxMDE1IDE1LjkxMDEgMSAxOS41IDFDMjMuMDg5OSAxIDI2IDMuOTEwMTUgMjYgNy41Wk0xNi44NTM2IDQuMTQ2NDVDMTYuNjU4MyAzLjk1MTE4IDE2LjM0MTcgMy45NTExOCAxNi4xNDY0IDQuMTQ2NDVDMTUuOTUxMiA0LjM0MTcxIDE1Ljk1MTIgNC42NTgyOSAxNi4xNDY0IDQuODUzNTVMMTguNzkyOSA3LjVMMTYuMTQ2NCAxMC4xNDY0QzE1Ljk1MTIgMTAuMzQxNyAxNS45NTEyIDEwLjY1ODMgMTYuMTQ2NCAxMC44NTM2QzE2LjM0MTcgMTEuMDQ4OCAxNi42NTgzIDExLjA0ODggMTYuODUzNiAxMC44NTM2TDE5LjUgOC4yMDcxMUwyMi4xNDY0IDEwLjg1MzZDMjIuMzQxNyAxMS4wNDg4IDIyLjY1ODMgMTEuMDQ4OCAyMi44NTM2IDEwLjg1MzZDMjMuMDQ4OCAxMC42NTgzIDIzLjA0ODggMTAuMzQxNyAyMi44NTM2IDEwLjE0NjRMMjAuMjA3MSA3LjVMMjIuODUzNiA0Ljg1MzU1QzIzLjA0ODggNC42NTgyOSAyMy4wNDg4IDQuMzQxNzEgMjIuODUzNiA0LjE0NjQ1QzIyLjY1ODMgMy45NTExOCAyMi4zNDE3IDMuOTUxMTggMjIuMTQ2NCA0LjE0NjQ1TDE5LjUgNi43OTI4OUwxNi44NTM2IDQuMTQ2NDVaXCIsXG4gICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgfSksIGgoXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTI1IDIyLjc1VjEyLjU5OTFDMjQuNTU3MiAxMy4wNzY1IDI0LjA1MyAxMy40OTYxIDIzLjUgMTMuODQ1NFYxNkgxNy41TDE3LjM5ODIgMTYuMDA2OEMxNy4wMzIyIDE2LjA1NjUgMTYuNzUgMTYuMzcwMyAxNi43NSAxNi43NUMxNi43NSAxOC4yNjg4IDE1LjUxODggMTkuNSAxNCAxOS41QzEyLjQ4MTIgMTkuNSAxMS4yNSAxOC4yNjg4IDExLjI1IDE2Ljc1TDExLjI0MzIgMTYuNjQ4MkMxMS4xOTM1IDE2LjI4MjIgMTAuODc5NyAxNiAxMC41IDE2SDQuNVY3LjI1QzQuNSA2LjI4MzUgNS4yODM1IDUuNSA2LjI1IDUuNUgxMi4yNjk2QzEyLjQxNDYgNC45NzQ2MyAxMi42MTUzIDQuNDcyMzcgMTIuODY1IDRINi4yNUM0LjQ1NTA3IDQgMyA1LjQ1NTA3IDMgNy4yNVYyMi43NUMzIDI0LjU0NDkgNC40NTUwNyAyNiA2LjI1IDI2SDIxLjc1QzIzLjU0NDkgMjYgMjUgMjQuNTQ0OSAyNSAyMi43NVpNNC41IDIyLjc1VjE3LjVIOS44MTU5N0w5Ljg1NzUxIDE3LjcwNDFDMTAuMjkwNSAxOS41OTE5IDExLjk4MDggMjEgMTQgMjFMMTQuMjE1IDIwLjk5NDdDMTYuMjA5NSAyMC44OTUzIDE3Ljg0MiAxOS40MjA5IDE4LjE4NCAxNy41SDIzLjVWMjIuNzVDMjMuNSAyMy43MTY1IDIyLjcxNjUgMjQuNSAyMS43NSAyNC41SDYuMjVDNS4yODM1IDI0LjUgNC41IDIzLjcxNjUgNC41IDIyLjc1WlwiLFxuICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgIH0pKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgaCwgZGVmaW5lQ29tcG9uZW50LCBpbmplY3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4uLy4uLy4uL191dGlscy9pbmRleC5tanNcIjtcbmltcG9ydCB7IGludGVybmFsU2VsZWN0aW9uTWVudUluamVjdGlvbktleSB9IGZyb20gXCIuL2ludGVyZmFjZS5tanNcIjtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdOQmFzZVNlbGVjdEdyb3VwSGVhZGVyJyxcbiAgcHJvcHM6IHtcbiAgICBjbHNQcmVmaXg6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICB0bU5vZGU6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfVxuICB9LFxuICBzZXR1cCgpIHtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJMYWJlbFJlZixcbiAgICAgIHJlbmRlck9wdGlvblJlZixcbiAgICAgIGxhYmVsRmllbGRSZWYsXG4gICAgICBub2RlUHJvcHNSZWZcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgfSA9IGluamVjdChpbnRlcm5hbFNlbGVjdGlvbk1lbnVJbmplY3Rpb25LZXkpO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbEZpZWxkOiBsYWJlbEZpZWxkUmVmLFxuICAgICAgbm9kZVByb3BzOiBub2RlUHJvcHNSZWYsXG4gICAgICByZW5kZXJMYWJlbDogcmVuZGVyTGFiZWxSZWYsXG4gICAgICByZW5kZXJPcHRpb246IHJlbmRlck9wdGlvblJlZlxuICAgIH07XG4gIH0sXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjbHNQcmVmaXgsXG4gICAgICByZW5kZXJMYWJlbCxcbiAgICAgIHJlbmRlck9wdGlvbixcbiAgICAgIG5vZGVQcm9wcyxcbiAgICAgIHRtTm9kZToge1xuICAgICAgICByYXdOb2RlXG4gICAgICB9XG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgYXR0cnMgPSBub2RlUHJvcHMgPT09IG51bGwgfHwgbm9kZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlUHJvcHMocmF3Tm9kZSk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSByZW5kZXJMYWJlbCA/IHJlbmRlckxhYmVsKHJhd05vZGUsIGZhbHNlKSA6IHJlbmRlcihyYXdOb2RlW3RoaXMubGFiZWxGaWVsZF0sIHJhd05vZGUsIGZhbHNlKTtcbiAgICBjb25zdCBub2RlID0gaChcImRpdlwiLCBPYmplY3QuYXNzaWduKHt9LCBhdHRycywge1xuICAgICAgY2xhc3M6IFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LWdyb3VwLWhlYWRlcmAsIGF0dHJzID09PSBudWxsIHx8IGF0dHJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhdHRycy5jbGFzc11cbiAgICB9KSwgY2hpbGRyZW4pO1xuICAgIHJldHVybiByYXdOb2RlLnJlbmRlciA/IHJhd05vZGUucmVuZGVyKHtcbiAgICAgIG5vZGUsXG4gICAgICBvcHRpb246IHJhd05vZGVcbiAgICB9KSA6IHJlbmRlck9wdGlvbiA/IHJlbmRlck9wdGlvbih7XG4gICAgICBub2RlLFxuICAgICAgb3B0aW9uOiByYXdOb2RlLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgfSkgOiBub2RlO1xuICB9XG59KTsiLCJpbXBvcnQgeyBoLCByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQsIGRlZmluZUNvbXBvbmVudCwgdG9SZWYsIHByb3ZpZGUsIG5leHRUaWNrLCB3YXRjaCwgb25CZWZvcmVVbm1vdW50IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGNyZWF0ZUluZGV4R2V0dGVyIH0gZnJvbSAndHJlZW1hdGUnO1xuaW1wb3J0IHsgVmlydHVhbExpc3QgfSBmcm9tICd2dWV1Yyc7XG5pbXBvcnQgeyBkZXB4LCBnZXRQYWRkaW5nLCBoYXBwZW5zSW4gfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgTkVtcHR5IH0gZnJvbSBcIi4uLy4uLy4uL2VtcHR5L2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgTlNjcm9sbGJhciB9IGZyb20gXCIuLi8uLi9zY3JvbGxiYXIvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyByZXNvbHZlU2xvdCwgcmVzb2x2ZVdyYXBwZWRTbG90LCB1c2VPblJlc2l6ZSB9IGZyb20gXCIuLi8uLi8uLi9fdXRpbHMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVLZXkgfSBmcm9tIFwiLi4vLi4vLi4vX3V0aWxzL2Nzc3IvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyB1c2VUaGVtZUNsYXNzLCB1c2VUaGVtZSwgdXNlUnRsLCB1c2VDb25maWcgfSBmcm9tIFwiLi4vLi4vLi4vX21peGlucy9pbmRleC5tanNcIjtcbmltcG9ydCBOSW50ZXJuYWxMb2FkaW5nIGZyb20gXCIuLi8uLi9sb2FkaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IE5Gb2N1c0RldGVjdG9yIGZyb20gXCIuLi8uLi9mb2N1cy1kZXRlY3Rvci9pbmRleC5tanNcIjtcbmltcG9ydCB7IGludGVybmFsU2VsZWN0TWVudUxpZ2h0IH0gZnJvbSBcIi4uL3N0eWxlcy9pbmRleC5tanNcIjtcbmltcG9ydCBOU2VsZWN0T3B0aW9uIGZyb20gXCIuL1NlbGVjdE9wdGlvbi5tanNcIjtcbmltcG9ydCBOU2VsZWN0R3JvdXBIZWFkZXIgZnJvbSBcIi4vU2VsZWN0R3JvdXBIZWFkZXIubWpzXCI7XG5pbXBvcnQgeyBpbnRlcm5hbFNlbGVjdGlvbk1lbnVJbmplY3Rpb25LZXksIGludGVybmFsU2VsZWN0aW9uTWVudUJvZHlJbmplY3Rpb25LZXkgfSBmcm9tIFwiLi9pbnRlcmZhY2UubWpzXCI7XG5pbXBvcnQgc3R5bGUgZnJvbSBcIi4vc3R5bGVzL2luZGV4LmNzc3IubWpzXCI7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiAnSW50ZXJuYWxTZWxlY3RNZW51JyxcbiAgcHJvcHM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdXNlVGhlbWUucHJvcHMpLCB7XG4gICAgY2xzUHJlZml4OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgc2Nyb2xsYWJsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHRyZWVNYXRlOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgbXVsdGlwbGU6IEJvb2xlYW4sXG4gICAgc2l6ZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ21lZGl1bSdcbiAgICB9LFxuICAgIHZhbHVlOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXIsIEFycmF5XSxcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGF1dG9QZW5kaW5nOiBCb29sZWFuLFxuICAgIHZpcnR1YWxTY3JvbGw6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICAvLyBzaG93IGlzIHVzZWQgdG8gdG9nZ2xlIHBlbmRpbmcgc3RhdGUgaW5pdGlhbGl6YXRpb25cbiAgICBzaG93OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgbGFiZWxGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2xhYmVsJ1xuICAgIH0sXG4gICAgdmFsdWVGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3ZhbHVlJ1xuICAgIH0sXG4gICAgbG9hZGluZzogQm9vbGVhbixcbiAgICBmb2N1c2FibGU6IEJvb2xlYW4sXG4gICAgcmVuZGVyTGFiZWw6IEZ1bmN0aW9uLFxuICAgIHJlbmRlck9wdGlvbjogRnVuY3Rpb24sXG4gICAgbm9kZVByb3BzOiBGdW5jdGlvbixcbiAgICBzaG93Q2hlY2ttYXJrOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgb25Nb3VzZWRvd246IEZ1bmN0aW9uLFxuICAgIG9uU2Nyb2xsOiBGdW5jdGlvbixcbiAgICBvbkZvY3VzOiBGdW5jdGlvbixcbiAgICBvbkJsdXI6IEZ1bmN0aW9uLFxuICAgIG9uS2V5dXA6IEZ1bmN0aW9uLFxuICAgIG9uS2V5ZG93bjogRnVuY3Rpb24sXG4gICAgb25UYWJPdXQ6IEZ1bmN0aW9uLFxuICAgIG9uTW91c2VlbnRlcjogRnVuY3Rpb24sXG4gICAgb25Nb3VzZWxlYXZlOiBGdW5jdGlvbixcbiAgICBvblJlc2l6ZTogRnVuY3Rpb24sXG4gICAgcmVzZXRNZW51T25PcHRpb25zQ2hhbmdlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgaW5saW5lVGhlbWVEaXNhYmxlZDogQm9vbGVhbixcbiAgICAvLyBkZXByZWNhdGVkXG4gICAgb25Ub2dnbGU6IEZ1bmN0aW9uXG4gIH0pLFxuICBzZXR1cChwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1lcmdlZENsc1ByZWZpeFJlZixcbiAgICAgIG1lcmdlZFJ0bFJlZlxuICAgIH0gPSB1c2VDb25maWcocHJvcHMpO1xuICAgIGNvbnN0IHJ0bEVuYWJsZWRSZWYgPSB1c2VSdGwoJ0ludGVybmFsU2VsZWN0TWVudScsIG1lcmdlZFJ0bFJlZiwgbWVyZ2VkQ2xzUHJlZml4UmVmKTtcbiAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdJbnRlcm5hbFNlbGVjdE1lbnUnLCAnLWludGVybmFsLXNlbGVjdC1tZW51Jywgc3R5bGUsIGludGVybmFsU2VsZWN0TWVudUxpZ2h0LCBwcm9wcywgdG9SZWYocHJvcHMsICdjbHNQcmVmaXgnKSk7XG4gICAgY29uc3Qgc2VsZlJlZiA9IHJlZihudWxsKTtcbiAgICBjb25zdCB2aXJ0dWFsTGlzdFJlZiA9IHJlZihudWxsKTtcbiAgICBjb25zdCBzY3JvbGxiYXJSZWYgPSByZWYobnVsbCk7XG4gICAgY29uc3QgZmxhdHRlbmVkTm9kZXNSZWYgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy50cmVlTWF0ZS5nZXRGbGF0dGVuZWROb2RlcygpKTtcbiAgICBjb25zdCBmSW5kZXhHZXR0ZXJSZWYgPSBjb21wdXRlZCgoKSA9PiBjcmVhdGVJbmRleEdldHRlcihmbGF0dGVuZWROb2Rlc1JlZi52YWx1ZSkpO1xuICAgIGNvbnN0IHBlbmRpbmdOb2RlUmVmID0gcmVmKG51bGwpO1xuICAgIGZ1bmN0aW9uIGluaXRQZW5kaW5nTm9kZSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdHJlZU1hdGVcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGxldCBkZWZhdWx0UGVuZGluZ05vZGUgPSBudWxsO1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZVxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIGRlZmF1bHRQZW5kaW5nTm9kZSA9IHRyZWVNYXRlLmdldEZpcnN0QXZhaWxhYmxlTm9kZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgICAgZGVmYXVsdFBlbmRpbmdOb2RlID0gdHJlZU1hdGUuZ2V0Tm9kZSgodmFsdWUgfHwgW10pWyh2YWx1ZSB8fCBbXSkubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmF1bHRQZW5kaW5nTm9kZSA9IHRyZWVNYXRlLmdldE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVmYXVsdFBlbmRpbmdOb2RlIHx8IGRlZmF1bHRQZW5kaW5nTm9kZS5kaXNhYmxlZCkge1xuICAgICAgICAgIGRlZmF1bHRQZW5kaW5nTm9kZSA9IHRyZWVNYXRlLmdldEZpcnN0QXZhaWxhYmxlTm9kZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGVmYXVsdFBlbmRpbmdOb2RlKSB7XG4gICAgICAgIHNldFBlbmRpbmdUbU5vZGUoZGVmYXVsdFBlbmRpbmdOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFBlbmRpbmdUbU5vZGUobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyUGVuZGluZ05vZGVJZkludmFsaWQoKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZhbHVlOiBwZW5kaW5nTm9kZVxuICAgICAgfSA9IHBlbmRpbmdOb2RlUmVmO1xuICAgICAgaWYgKHBlbmRpbmdOb2RlICYmICFwcm9wcy50cmVlTWF0ZS5nZXROb2RlKHBlbmRpbmdOb2RlLmtleSkpIHtcbiAgICAgICAgcGVuZGluZ05vZGVSZWYudmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaW5pdFBlbmRpbmdOb2RlV2F0Y2hTdG9wSGFuZGxlO1xuICAgIHdhdGNoKCgpID0+IHByb3BzLnNob3csIHNob3cgPT4ge1xuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgaW5pdFBlbmRpbmdOb2RlV2F0Y2hTdG9wSGFuZGxlID0gd2F0Y2goKCkgPT4gcHJvcHMudHJlZU1hdGUsICgpID0+IHtcbiAgICAgICAgICBpZiAocHJvcHMucmVzZXRNZW51T25PcHRpb25zQ2hhbmdlKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuYXV0b1BlbmRpbmcpIHtcbiAgICAgICAgICAgICAgaW5pdFBlbmRpbmdOb2RlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbGVhclBlbmRpbmdOb2RlSWZJbnZhbGlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIG5leHRUaWNrKHNjcm9sbFRvUGVuZGluZ05vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhclBlbmRpbmdOb2RlSWZJbnZhbGlkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdFBlbmRpbmdOb2RlV2F0Y2hTdG9wSGFuZGxlID09PSBudWxsIHx8IGluaXRQZW5kaW5nTm9kZVdhdGNoU3RvcEhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdFBlbmRpbmdOb2RlV2F0Y2hTdG9wSGFuZGxlKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGluaXRQZW5kaW5nTm9kZVdhdGNoU3RvcEhhbmRsZSA9PT0gbnVsbCB8fCBpbml0UGVuZGluZ05vZGVXYXRjaFN0b3BIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRQZW5kaW5nTm9kZVdhdGNoU3RvcEhhbmRsZSgpO1xuICAgIH0pO1xuICAgIGNvbnN0IGl0ZW1TaXplUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIGRlcHgodGhlbWVSZWYudmFsdWUuc2VsZltjcmVhdGVLZXkoJ29wdGlvbkhlaWdodCcsIHByb3BzLnNpemUpXSk7XG4gICAgfSk7XG4gICAgY29uc3QgcGFkZGluZ1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBnZXRQYWRkaW5nKHRoZW1lUmVmLnZhbHVlLnNlbGZbY3JlYXRlS2V5KCdwYWRkaW5nJywgcHJvcHMuc2l6ZSldKTtcbiAgICB9KTtcbiAgICBjb25zdCB2YWx1ZVNldFJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSAmJiBBcnJheS5pc0FycmF5KHByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbmV3IFNldChwcm9wcy52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFNldCgpO1xuICAgIH0pO1xuICAgIGNvbnN0IGVtcHR5UmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3QgdG1Ob2RlcyA9IGZsYXR0ZW5lZE5vZGVzUmVmLnZhbHVlO1xuICAgICAgcmV0dXJuIHRtTm9kZXMgJiYgdG1Ob2Rlcy5sZW5ndGggPT09IDA7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZG9Ub2dnbGUodG1Ob2RlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uVG9nZ2xlXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAob25Ub2dnbGUpIG9uVG9nZ2xlKHRtTm9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvU2Nyb2xsKGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25TY3JvbGxcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGlmIChvblNjcm9sbCkgb25TY3JvbGwoZSk7XG4gICAgfVxuICAgIC8vIHJlcXVpcmVkLCBzY3JvbGxlciBzeW5jIG5lZWQgdG8gYmUgdHJpZ2dlcmVkIG1hbnVhbGx5XG4gICAgZnVuY3Rpb24gaGFuZGxlVmlydHVhbExpc3RTY3JvbGwoZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgKF9hID0gc2Nyb2xsYmFyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3luYygpO1xuICAgICAgZG9TY3JvbGwoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVZpcnR1YWxMaXN0UmVzaXplKCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgKF9hID0gc2Nyb2xsYmFyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3luYygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQZW5kaW5nVG1Ob2RlKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogcGVuZGluZ1RtTm9kZVxuICAgICAgfSA9IHBlbmRpbmdOb2RlUmVmO1xuICAgICAgaWYgKHBlbmRpbmdUbU5vZGUpIHJldHVybiBwZW5kaW5nVG1Ob2RlO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZU9wdGlvbk1vdXNlRW50ZXIoZSwgdG1Ob2RlKSB7XG4gICAgICBpZiAodG1Ob2RlLmRpc2FibGVkKSByZXR1cm47XG4gICAgICBzZXRQZW5kaW5nVG1Ob2RlKHRtTm9kZSwgZmFsc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVPcHRpb25DbGljayhlLCB0bU5vZGUpIHtcbiAgICAgIGlmICh0bU5vZGUuZGlzYWJsZWQpIHJldHVybjtcbiAgICAgIGRvVG9nZ2xlKHRtTm9kZSk7XG4gICAgfVxuICAgIC8vIGtleWJvYXJkIHJlbGF0ZWQgbWV0aG9kc1xuICAgIGZ1bmN0aW9uIGhhbmRsZUtleVVwKGUpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGlmIChoYXBwZW5zSW4oZSwgJ2FjdGlvbicpKSByZXR1cm47XG4gICAgICAoX2EgPSBwcm9wcy5vbktleXVwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwcm9wcywgZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKGhhcHBlbnNJbihlLCAnYWN0aW9uJykpIHJldHVybjtcbiAgICAgIChfYSA9IHByb3BzLm9uS2V5ZG93bikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgKF9hID0gcHJvcHMub25Nb3VzZWRvd24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICAgIGlmIChwcm9wcy5mb2N1c2FibGUpIHJldHVybjtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IHBlbmRpbmdUbU5vZGVcbiAgICAgIH0gPSBwZW5kaW5nTm9kZVJlZjtcbiAgICAgIGlmIChwZW5kaW5nVG1Ob2RlKSB7XG4gICAgICAgIHNldFBlbmRpbmdUbU5vZGUocGVuZGluZ1RtTm9kZS5nZXROZXh0KHtcbiAgICAgICAgICBsb29wOiB0cnVlXG4gICAgICAgIH0pLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJldigpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IHBlbmRpbmdUbU5vZGVcbiAgICAgIH0gPSBwZW5kaW5nTm9kZVJlZjtcbiAgICAgIGlmIChwZW5kaW5nVG1Ob2RlKSB7XG4gICAgICAgIHNldFBlbmRpbmdUbU5vZGUocGVuZGluZ1RtTm9kZS5nZXRQcmV2KHtcbiAgICAgICAgICBsb29wOiB0cnVlXG4gICAgICAgIH0pLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UGVuZGluZ1RtTm9kZSh0bU5vZGUsIGRvU2Nyb2xsID0gZmFsc2UpIHtcbiAgICAgIHBlbmRpbmdOb2RlUmVmLnZhbHVlID0gdG1Ob2RlO1xuICAgICAgaWYgKGRvU2Nyb2xsKSBzY3JvbGxUb1BlbmRpbmdOb2RlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvUGVuZGluZ05vZGUoKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgdG1Ob2RlID0gcGVuZGluZ05vZGVSZWYudmFsdWU7XG4gICAgICBpZiAoIXRtTm9kZSkgcmV0dXJuO1xuICAgICAgY29uc3QgZkluZGV4ID0gZkluZGV4R2V0dGVyUmVmLnZhbHVlKHRtTm9kZS5rZXkpO1xuICAgICAgaWYgKGZJbmRleCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgaWYgKHByb3BzLnZpcnR1YWxTY3JvbGwpIHtcbiAgICAgICAgKF9hID0gdmlydHVhbExpc3RSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zY3JvbGxUbyh7XG4gICAgICAgICAgaW5kZXg6IGZJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChfYiA9IHNjcm9sbGJhclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNjcm9sbFRvKHtcbiAgICAgICAgICBpbmRleDogZkluZGV4LFxuICAgICAgICAgIGVsU2l6ZTogaXRlbVNpemVSZWYudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzaW4oZSkge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICgoX2EgPSBzZWxmUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIChfYiA9IHByb3BzLm9uRm9jdXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHByb3BzLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRm9jdXNvdXQoZSkge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICghKChfYSA9IHNlbGZSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSkge1xuICAgICAgICAoX2IgPSBwcm9wcy5vbkJsdXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHByb3BzLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvdmlkZShpbnRlcm5hbFNlbGVjdGlvbk1lbnVJbmplY3Rpb25LZXksIHtcbiAgICAgIGhhbmRsZU9wdGlvbk1vdXNlRW50ZXIsXG4gICAgICBoYW5kbGVPcHRpb25DbGljayxcbiAgICAgIHZhbHVlU2V0UmVmLFxuICAgICAgcGVuZGluZ1RtTm9kZVJlZjogcGVuZGluZ05vZGVSZWYsXG4gICAgICBub2RlUHJvcHNSZWY6IHRvUmVmKHByb3BzLCAnbm9kZVByb3BzJyksXG4gICAgICBzaG93Q2hlY2ttYXJrUmVmOiB0b1JlZihwcm9wcywgJ3Nob3dDaGVja21hcmsnKSxcbiAgICAgIG11bHRpcGxlUmVmOiB0b1JlZihwcm9wcywgJ211bHRpcGxlJyksXG4gICAgICB2YWx1ZVJlZjogdG9SZWYocHJvcHMsICd2YWx1ZScpLFxuICAgICAgcmVuZGVyTGFiZWxSZWY6IHRvUmVmKHByb3BzLCAncmVuZGVyTGFiZWwnKSxcbiAgICAgIHJlbmRlck9wdGlvblJlZjogdG9SZWYocHJvcHMsICdyZW5kZXJPcHRpb24nKSxcbiAgICAgIGxhYmVsRmllbGRSZWY6IHRvUmVmKHByb3BzLCAnbGFiZWxGaWVsZCcpLFxuICAgICAgdmFsdWVGaWVsZFJlZjogdG9SZWYocHJvcHMsICd2YWx1ZUZpZWxkJylcbiAgICB9KTtcbiAgICBwcm92aWRlKGludGVybmFsU2VsZWN0aW9uTWVudUJvZHlJbmplY3Rpb25LZXksIHNlbGZSZWYpO1xuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZhbHVlXG4gICAgICB9ID0gc2Nyb2xsYmFyUmVmO1xuICAgICAgaWYgKHZhbHVlKSB2YWx1ZS5zeW5jKCk7XG4gICAgfSk7XG4gICAgY29uc3QgY3NzVmFyc1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2l6ZVxuICAgICAgfSA9IHByb3BzO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb21tb246IHtcbiAgICAgICAgICBjdWJpY0JlemllckVhc2VJbk91dFxuICAgICAgICB9LFxuICAgICAgICBzZWxmOiB7XG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIGJvcmRlclJhZGl1cyxcbiAgICAgICAgICBjb2xvcixcbiAgICAgICAgICBncm91cEhlYWRlclRleHRDb2xvcixcbiAgICAgICAgICBhY3Rpb25EaXZpZGVyQ29sb3IsXG4gICAgICAgICAgb3B0aW9uVGV4dENvbG9yUHJlc3NlZCxcbiAgICAgICAgICBvcHRpb25UZXh0Q29sb3IsXG4gICAgICAgICAgb3B0aW9uVGV4dENvbG9yRGlzYWJsZWQsXG4gICAgICAgICAgb3B0aW9uVGV4dENvbG9yQWN0aXZlLFxuICAgICAgICAgIG9wdGlvbk9wYWNpdHlEaXNhYmxlZCxcbiAgICAgICAgICBvcHRpb25DaGVja0NvbG9yLFxuICAgICAgICAgIGFjdGlvblRleHRDb2xvcixcbiAgICAgICAgICBvcHRpb25Db2xvclBlbmRpbmcsXG4gICAgICAgICAgb3B0aW9uQ29sb3JBY3RpdmUsXG4gICAgICAgICAgbG9hZGluZ0NvbG9yLFxuICAgICAgICAgIGxvYWRpbmdTaXplLFxuICAgICAgICAgIG9wdGlvbkNvbG9yQWN0aXZlUGVuZGluZyxcbiAgICAgICAgICBbY3JlYXRlS2V5KCdvcHRpb25Gb250U2l6ZScsIHNpemUpXTogZm9udFNpemUsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnb3B0aW9uSGVpZ2h0Jywgc2l6ZSldOiBvcHRpb25IZWlnaHQsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnb3B0aW9uUGFkZGluZycsIHNpemUpXTogb3B0aW9uUGFkZGluZ1xuICAgICAgICB9XG4gICAgICB9ID0gdGhlbWVSZWYudmFsdWU7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAnLS1uLWhlaWdodCc6IGhlaWdodCxcbiAgICAgICAgJy0tbi1hY3Rpb24tZGl2aWRlci1jb2xvcic6IGFjdGlvbkRpdmlkZXJDb2xvcixcbiAgICAgICAgJy0tbi1hY3Rpb24tdGV4dC1jb2xvcic6IGFjdGlvblRleHRDb2xvcixcbiAgICAgICAgJy0tbi1iZXppZXInOiBjdWJpY0JlemllckVhc2VJbk91dCxcbiAgICAgICAgJy0tbi1ib3JkZXItcmFkaXVzJzogYm9yZGVyUmFkaXVzLFxuICAgICAgICAnLS1uLWNvbG9yJzogY29sb3IsXG4gICAgICAgICctLW4tb3B0aW9uLWZvbnQtc2l6ZSc6IGZvbnRTaXplLFxuICAgICAgICAnLS1uLWdyb3VwLWhlYWRlci10ZXh0LWNvbG9yJzogZ3JvdXBIZWFkZXJUZXh0Q29sb3IsXG4gICAgICAgICctLW4tb3B0aW9uLWNoZWNrLWNvbG9yJzogb3B0aW9uQ2hlY2tDb2xvcixcbiAgICAgICAgJy0tbi1vcHRpb24tY29sb3ItcGVuZGluZyc6IG9wdGlvbkNvbG9yUGVuZGluZyxcbiAgICAgICAgJy0tbi1vcHRpb24tY29sb3ItYWN0aXZlJzogb3B0aW9uQ29sb3JBY3RpdmUsXG4gICAgICAgICctLW4tb3B0aW9uLWNvbG9yLWFjdGl2ZS1wZW5kaW5nJzogb3B0aW9uQ29sb3JBY3RpdmVQZW5kaW5nLFxuICAgICAgICAnLS1uLW9wdGlvbi1oZWlnaHQnOiBvcHRpb25IZWlnaHQsXG4gICAgICAgICctLW4tb3B0aW9uLW9wYWNpdHktZGlzYWJsZWQnOiBvcHRpb25PcGFjaXR5RGlzYWJsZWQsXG4gICAgICAgICctLW4tb3B0aW9uLXRleHQtY29sb3InOiBvcHRpb25UZXh0Q29sb3IsXG4gICAgICAgICctLW4tb3B0aW9uLXRleHQtY29sb3ItYWN0aXZlJzogb3B0aW9uVGV4dENvbG9yQWN0aXZlLFxuICAgICAgICAnLS1uLW9wdGlvbi10ZXh0LWNvbG9yLWRpc2FibGVkJzogb3B0aW9uVGV4dENvbG9yRGlzYWJsZWQsXG4gICAgICAgICctLW4tb3B0aW9uLXRleHQtY29sb3ItcHJlc3NlZCc6IG9wdGlvblRleHRDb2xvclByZXNzZWQsXG4gICAgICAgICctLW4tb3B0aW9uLXBhZGRpbmcnOiBvcHRpb25QYWRkaW5nLFxuICAgICAgICAnLS1uLW9wdGlvbi1wYWRkaW5nLWxlZnQnOiBnZXRQYWRkaW5nKG9wdGlvblBhZGRpbmcsICdsZWZ0JyksXG4gICAgICAgICctLW4tb3B0aW9uLXBhZGRpbmctcmlnaHQnOiBnZXRQYWRkaW5nKG9wdGlvblBhZGRpbmcsICdyaWdodCcpLFxuICAgICAgICAnLS1uLWxvYWRpbmctY29sb3InOiBsb2FkaW5nQ29sb3IsXG4gICAgICAgICctLW4tbG9hZGluZy1zaXplJzogbG9hZGluZ1NpemVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3Qge1xuICAgICAgaW5saW5lVGhlbWVEaXNhYmxlZFxuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCB0aGVtZUNsYXNzSGFuZGxlID0gaW5saW5lVGhlbWVEaXNhYmxlZCA/IHVzZVRoZW1lQ2xhc3MoJ2ludGVybmFsLXNlbGVjdC1tZW51JywgY29tcHV0ZWQoKCkgPT4gcHJvcHMuc2l6ZVswXSksIGNzc1ZhcnNSZWYsIHByb3BzKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBleHBvc2VkUHJvcHMgPSB7XG4gICAgICBzZWxmUmVmLFxuICAgICAgbmV4dCxcbiAgICAgIHByZXYsXG4gICAgICBnZXRQZW5kaW5nVG1Ob2RlXG4gICAgfTtcbiAgICB1c2VPblJlc2l6ZShzZWxmUmVmLCBwcm9wcy5vblJlc2l6ZSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWVyZ2VkVGhlbWU6IHRoZW1lUmVmLFxuICAgICAgbWVyZ2VkQ2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXhSZWYsXG4gICAgICBydGxFbmFibGVkOiBydGxFbmFibGVkUmVmLFxuICAgICAgdmlydHVhbExpc3RSZWYsXG4gICAgICBzY3JvbGxiYXJSZWYsXG4gICAgICBpdGVtU2l6ZTogaXRlbVNpemVSZWYsXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nUmVmLFxuICAgICAgZmxhdHRlbmVkTm9kZXM6IGZsYXR0ZW5lZE5vZGVzUmVmLFxuICAgICAgZW1wdHk6IGVtcHR5UmVmLFxuICAgICAgdmlydHVhbExpc3RDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9ID0gdmlydHVhbExpc3RSZWY7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUubGlzdEVsUmVmO1xuICAgICAgfSxcbiAgICAgIHZpcnR1YWxMaXN0Q29udGVudCgpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0gPSB2aXJ0dWFsTGlzdFJlZjtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5pdGVtc0VsUmVmO1xuICAgICAgfSxcbiAgICAgIGRvU2Nyb2xsLFxuICAgICAgaGFuZGxlRm9jdXNpbixcbiAgICAgIGhhbmRsZUZvY3Vzb3V0LFxuICAgICAgaGFuZGxlS2V5VXAsXG4gICAgICBoYW5kbGVLZXlEb3duLFxuICAgICAgaGFuZGxlTW91c2VEb3duLFxuICAgICAgaGFuZGxlVmlydHVhbExpc3RSZXNpemUsXG4gICAgICBoYW5kbGVWaXJ0dWFsTGlzdFNjcm9sbCxcbiAgICAgIGNzc1ZhcnM6IGlubGluZVRoZW1lRGlzYWJsZWQgPyB1bmRlZmluZWQgOiBjc3NWYXJzUmVmLFxuICAgICAgdGhlbWVDbGFzczogdGhlbWVDbGFzc0hhbmRsZSA9PT0gbnVsbCB8fCB0aGVtZUNsYXNzSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZUNsYXNzSGFuZGxlLnRoZW1lQ2xhc3MsXG4gICAgICBvblJlbmRlcjogdGhlbWVDbGFzc0hhbmRsZSA9PT0gbnVsbCB8fCB0aGVtZUNsYXNzSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGVtZUNsYXNzSGFuZGxlLm9uUmVuZGVyXG4gICAgfSwgZXhwb3NlZFByb3BzKTtcbiAgfSxcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgICRzbG90cyxcbiAgICAgIHZpcnR1YWxTY3JvbGwsXG4gICAgICBjbHNQcmVmaXgsXG4gICAgICBtZXJnZWRUaGVtZSxcbiAgICAgIHRoZW1lQ2xhc3MsXG4gICAgICBvblJlbmRlclxuICAgIH0gPSB0aGlzO1xuICAgIG9uUmVuZGVyID09PSBudWxsIHx8IG9uUmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblJlbmRlcigpO1xuICAgIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICAgIHJlZjogXCJzZWxmUmVmXCIsXG4gICAgICB0YWJpbmRleDogdGhpcy5mb2N1c2FibGUgPyAwIDogLTEsXG4gICAgICBjbGFzczogW2Ake2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudWAsIHRoaXMucnRsRW5hYmxlZCAmJiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW1lbnUtLXJ0bGAsIHRoZW1lQ2xhc3MsIHRoaXMubXVsdGlwbGUgJiYgYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1tZW51LS1tdWx0aXBsZWBdLFxuICAgICAgc3R5bGU6IHRoaXMuY3NzVmFycyxcbiAgICAgIG9uRm9jdXNpbjogdGhpcy5oYW5kbGVGb2N1c2luLFxuICAgICAgb25Gb2N1c291dDogdGhpcy5oYW5kbGVGb2N1c291dCxcbiAgICAgIG9uS2V5dXA6IHRoaXMuaGFuZGxlS2V5VXAsXG4gICAgICBvbktleWRvd246IHRoaXMuaGFuZGxlS2V5RG93bixcbiAgICAgIG9uTW91c2Vkb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93bixcbiAgICAgIG9uTW91c2VlbnRlcjogdGhpcy5vbk1vdXNlZW50ZXIsXG4gICAgICBvbk1vdXNlbGVhdmU6IHRoaXMub25Nb3VzZWxlYXZlXG4gICAgfSwgcmVzb2x2ZVdyYXBwZWRTbG90KCRzbG90cy5oZWFkZXIsIGNoaWxkcmVuID0+IGNoaWxkcmVuICYmIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudV9faGVhZGVyYCxcbiAgICAgIFwiZGF0YS1oZWFkZXJcIjogdHJ1ZSxcbiAgICAgIGtleTogXCJoZWFkZXJcIlxuICAgIH0sIGNoaWxkcmVuKSksIHRoaXMubG9hZGluZyA/IGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudV9fbG9hZGluZ2BcbiAgICB9LCBoKE5JbnRlcm5hbExvYWRpbmcsIHtcbiAgICAgIGNsc1ByZWZpeDogY2xzUHJlZml4LFxuICAgICAgc3Ryb2tlV2lkdGg6IDIwXG4gICAgfSkpIDogIXRoaXMuZW1wdHkgPyBoKE5TY3JvbGxiYXIsIHtcbiAgICAgIHJlZjogXCJzY3JvbGxiYXJSZWZcIixcbiAgICAgIHRoZW1lOiBtZXJnZWRUaGVtZS5wZWVycy5TY3JvbGxiYXIsXG4gICAgICB0aGVtZU92ZXJyaWRlczogbWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5TY3JvbGxiYXIsXG4gICAgICBzY3JvbGxhYmxlOiB0aGlzLnNjcm9sbGFibGUsXG4gICAgICBjb250YWluZXI6IHZpcnR1YWxTY3JvbGwgPyB0aGlzLnZpcnR1YWxMaXN0Q29udGFpbmVyIDogdW5kZWZpbmVkLFxuICAgICAgY29udGVudDogdmlydHVhbFNjcm9sbCA/IHRoaXMudmlydHVhbExpc3RDb250ZW50IDogdW5kZWZpbmVkLFxuICAgICAgb25TY3JvbGw6IHZpcnR1YWxTY3JvbGwgPyB1bmRlZmluZWQgOiB0aGlzLmRvU2Nyb2xsXG4gICAgfSwge1xuICAgICAgZGVmYXVsdDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdmlydHVhbFNjcm9sbCA/IGgoVmlydHVhbExpc3QsIHtcbiAgICAgICAgICByZWY6IFwidmlydHVhbExpc3RSZWZcIixcbiAgICAgICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS12aXJ0dWFsLWxpc3RgLFxuICAgICAgICAgIGl0ZW1zOiB0aGlzLmZsYXR0ZW5lZE5vZGVzLFxuICAgICAgICAgIGl0ZW1TaXplOiB0aGlzLml0ZW1TaXplLFxuICAgICAgICAgIHNob3dTY3JvbGxiYXI6IGZhbHNlLFxuICAgICAgICAgIHBhZGRpbmdUb3A6IHRoaXMucGFkZGluZy50b3AsXG4gICAgICAgICAgcGFkZGluZ0JvdHRvbTogdGhpcy5wYWRkaW5nLmJvdHRvbSxcbiAgICAgICAgICBvblJlc2l6ZTogdGhpcy5oYW5kbGVWaXJ0dWFsTGlzdFJlc2l6ZSxcbiAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVWaXJ0dWFsTGlzdFNjcm9sbCxcbiAgICAgICAgICBpdGVtUmVzaXphYmxlOiB0cnVlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiAoe1xuICAgICAgICAgICAgaXRlbTogdG1Ob2RlXG4gICAgICAgICAgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRtTm9kZS5pc0dyb3VwID8gaChOU2VsZWN0R3JvdXBIZWFkZXIsIHtcbiAgICAgICAgICAgICAga2V5OiB0bU5vZGUua2V5LFxuICAgICAgICAgICAgICBjbHNQcmVmaXg6IGNsc1ByZWZpeCxcbiAgICAgICAgICAgICAgdG1Ob2RlOiB0bU5vZGVcbiAgICAgICAgICAgIH0pIDogdG1Ob2RlLmlnbm9yZWQgPyBudWxsIDogaChOU2VsZWN0T3B0aW9uLCB7XG4gICAgICAgICAgICAgIGNsc1ByZWZpeDogY2xzUHJlZml4LFxuICAgICAgICAgICAgICBrZXk6IHRtTm9kZS5rZXksXG4gICAgICAgICAgICAgIHRtTm9kZTogdG1Ob2RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogaChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudS1vcHRpb24td3JhcHBlcmAsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IHRoaXMucGFkZGluZy50b3AsXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiB0aGlzLnBhZGRpbmcuYm90dG9tXG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmZsYXR0ZW5lZE5vZGVzLm1hcCh0bU5vZGUgPT4gdG1Ob2RlLmlzR3JvdXAgPyBoKE5TZWxlY3RHcm91cEhlYWRlciwge1xuICAgICAgICAgIGtleTogdG1Ob2RlLmtleSxcbiAgICAgICAgICBjbHNQcmVmaXg6IGNsc1ByZWZpeCxcbiAgICAgICAgICB0bU5vZGU6IHRtTm9kZVxuICAgICAgICB9KSA6IGgoTlNlbGVjdE9wdGlvbiwge1xuICAgICAgICAgIGNsc1ByZWZpeDogY2xzUHJlZml4LFxuICAgICAgICAgIGtleTogdG1Ob2RlLmtleSxcbiAgICAgICAgICB0bU5vZGU6IHRtTm9kZVxuICAgICAgICB9KSkpO1xuICAgICAgfVxuICAgIH0pIDogaChcImRpdlwiLCB7XG4gICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1tZW51X19lbXB0eWAsXG4gICAgICBcImRhdGEtZW1wdHlcIjogdHJ1ZVxuICAgIH0sIHJlc29sdmVTbG90KCRzbG90cy5lbXB0eSwgKCkgPT4gW2goTkVtcHR5LCB7XG4gICAgICB0aGVtZTogbWVyZ2VkVGhlbWUucGVlcnMuRW1wdHksXG4gICAgICB0aGVtZU92ZXJyaWRlczogbWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5FbXB0eVxuICAgIH0pXSkpLCByZXNvbHZlV3JhcHBlZFNsb3QoJHNsb3RzLmFjdGlvbiwgY2hpbGRyZW4gPT4gY2hpbGRyZW4gJiYgW2goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3QtbWVudV9fYWN0aW9uYCxcbiAgICAgIFwiZGF0YS1hY3Rpb25cIjogdHJ1ZSxcbiAgICAgIGtleTogXCJhY3Rpb25cIlxuICAgIH0sIGNoaWxkcmVuKSwgaChORm9jdXNEZXRlY3Rvciwge1xuICAgICAgb25Gb2N1czogdGhpcy5vblRhYk91dCxcbiAgICAgIGtleTogXCJmb2N1cy1kZXRlY3RvclwiXG4gICAgfSldKSk7XG4gIH1cbn0pOyIsImltcG9ydCB7IGgsIGluamVjdCwgZGVmaW5lQ29tcG9uZW50LCBUcmFuc2l0aW9uIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICd2b29rcyc7XG5pbXBvcnQgeyByZW5kZXIsIG1lcmdlRXZlbnRIYW5kbGVycyB9IGZyb20gXCIuLi8uLi8uLi9fdXRpbHMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBDaGVja21hcmtJY29uIH0gZnJvbSBcIi4uLy4uL2ljb25zL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgTkJhc2VJY29uIH0gZnJvbSBcIi4uLy4uL2ljb24vaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBpbnRlcm5hbFNlbGVjdGlvbk1lbnVJbmplY3Rpb25LZXkgfSBmcm9tIFwiLi9pbnRlcmZhY2UubWpzXCI7XG5mdW5jdGlvbiByZW5kZXJDaGVja01hcmsoc2hvdywgY2xzUHJlZml4KSB7XG4gIHJldHVybiBoKFRyYW5zaXRpb24sIHtcbiAgICBuYW1lOiBcImZhZGUtaW4tc2NhbGUtdXAtdHJhbnNpdGlvblwiXG4gIH0sIHtcbiAgICBkZWZhdWx0OiAoKSA9PiBzaG93ID8gaChOQmFzZUljb24sIHtcbiAgICAgIGNsc1ByZWZpeDogY2xzUHJlZml4LFxuICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Qtb3B0aW9uX19jaGVja2BcbiAgICB9LCB7XG4gICAgICBkZWZhdWx0OiAoKSA9PiBoKENoZWNrbWFya0ljb24pXG4gICAgfSkgOiBudWxsXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogJ05CYXNlU2VsZWN0T3B0aW9uJyxcbiAgcHJvcHM6IHtcbiAgICBjbHNQcmVmaXg6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICB0bU5vZGU6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfVxuICB9LFxuICBzZXR1cChwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlUmVmLFxuICAgICAgcGVuZGluZ1RtTm9kZVJlZixcbiAgICAgIG11bHRpcGxlUmVmLFxuICAgICAgdmFsdWVTZXRSZWYsXG4gICAgICByZW5kZXJMYWJlbFJlZixcbiAgICAgIHJlbmRlck9wdGlvblJlZixcbiAgICAgIGxhYmVsRmllbGRSZWYsXG4gICAgICB2YWx1ZUZpZWxkUmVmLFxuICAgICAgc2hvd0NoZWNrbWFya1JlZixcbiAgICAgIG5vZGVQcm9wc1JlZixcbiAgICAgIGhhbmRsZU9wdGlvbkNsaWNrLFxuICAgICAgaGFuZGxlT3B0aW9uTW91c2VFbnRlclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICB9ID0gaW5qZWN0KGludGVybmFsU2VsZWN0aW9uTWVudUluamVjdGlvbktleSk7XG4gICAgY29uc3QgaXNQZW5kaW5nUmVmID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZhbHVlOiBwZW5kaW5nVG1Ob2RlXG4gICAgICB9ID0gcGVuZGluZ1RtTm9kZVJlZjtcbiAgICAgIGlmICghcGVuZGluZ1RtTm9kZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHByb3BzLnRtTm9kZS5rZXkgPT09IHBlbmRpbmdUbU5vZGUua2V5O1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdG1Ob2RlXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAodG1Ob2RlLmRpc2FibGVkKSByZXR1cm47XG4gICAgICBoYW5kbGVPcHRpb25DbGljayhlLCB0bU5vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdG1Ob2RlXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAodG1Ob2RlLmRpc2FibGVkKSByZXR1cm47XG4gICAgICBoYW5kbGVPcHRpb25Nb3VzZUVudGVyKGUsIHRtTm9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZShlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHRtTm9kZVxuICAgICAgfSA9IHByb3BzO1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogaXNQZW5kaW5nXG4gICAgICB9ID0gaXNQZW5kaW5nUmVmO1xuICAgICAgaWYgKHRtTm9kZS5kaXNhYmxlZCB8fCBpc1BlbmRpbmcpIHJldHVybjtcbiAgICAgIGhhbmRsZU9wdGlvbk1vdXNlRW50ZXIoZSwgdG1Ob2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG11bHRpcGxlOiBtdWx0aXBsZVJlZixcbiAgICAgIGlzR3JvdXBlZDogdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB0bU5vZGVcbiAgICAgICAgfSA9IHByb3BzO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgcGFyZW50XG4gICAgICAgIH0gPSB0bU5vZGU7XG4gICAgICAgIHJldHVybiBwYXJlbnQgJiYgcGFyZW50LnJhd05vZGUudHlwZSA9PT0gJ2dyb3VwJztcbiAgICAgIH0pLFxuICAgICAgc2hvd0NoZWNrbWFyazogc2hvd0NoZWNrbWFya1JlZixcbiAgICAgIG5vZGVQcm9wczogbm9kZVByb3BzUmVmLFxuICAgICAgaXNQZW5kaW5nOiBpc1BlbmRpbmdSZWYsXG4gICAgICBpc1NlbGVjdGVkOiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0gPSB2YWx1ZVJlZjtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlOiBtdWx0aXBsZVxuICAgICAgICB9ID0gbXVsdGlwbGVSZWY7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IHByb3BzLnRtTm9kZS5yYXdOb2RlW3ZhbHVlRmllbGRSZWYudmFsdWVdO1xuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVTZXRcbiAgICAgICAgICB9ID0gdmFsdWVTZXRSZWY7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlU2V0LmhhcyhvcHRpb25WYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBvcHRpb25WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBsYWJlbEZpZWxkOiBsYWJlbEZpZWxkUmVmLFxuICAgICAgcmVuZGVyTGFiZWw6IHJlbmRlckxhYmVsUmVmLFxuICAgICAgcmVuZGVyT3B0aW9uOiByZW5kZXJPcHRpb25SZWYsXG4gICAgICBoYW5kbGVNb3VzZU1vdmUsXG4gICAgICBoYW5kbGVNb3VzZUVudGVyLFxuICAgICAgaGFuZGxlQ2xpY2tcbiAgICB9O1xuICB9LFxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xzUHJlZml4LFxuICAgICAgdG1Ob2RlOiB7XG4gICAgICAgIHJhd05vZGVcbiAgICAgIH0sXG4gICAgICBpc1NlbGVjdGVkLFxuICAgICAgaXNQZW5kaW5nLFxuICAgICAgaXNHcm91cGVkLFxuICAgICAgc2hvd0NoZWNrbWFyayxcbiAgICAgIG5vZGVQcm9wcyxcbiAgICAgIHJlbmRlck9wdGlvbixcbiAgICAgIHJlbmRlckxhYmVsLFxuICAgICAgaGFuZGxlQ2xpY2ssXG4gICAgICBoYW5kbGVNb3VzZUVudGVyLFxuICAgICAgaGFuZGxlTW91c2VNb3ZlXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgY2hlY2ttYXJrID0gcmVuZGVyQ2hlY2tNYXJrKGlzU2VsZWN0ZWQsIGNsc1ByZWZpeCk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSByZW5kZXJMYWJlbCA/IFtyZW5kZXJMYWJlbChyYXdOb2RlLCBpc1NlbGVjdGVkKSwgc2hvd0NoZWNrbWFyayAmJiBjaGVja21hcmtdIDogW3JlbmRlcihyYXdOb2RlW3RoaXMubGFiZWxGaWVsZF0sIHJhd05vZGUsIGlzU2VsZWN0ZWQpLCBzaG93Q2hlY2ttYXJrICYmIGNoZWNrbWFya107XG4gICAgY29uc3QgYXR0cnMgPSBub2RlUHJvcHMgPT09IG51bGwgfHwgbm9kZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlUHJvcHMocmF3Tm9kZSk7XG4gICAgY29uc3Qgbm9kZSA9IGgoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7fSwgYXR0cnMsIHtcbiAgICAgIGNsYXNzOiBbYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1vcHRpb25gLCByYXdOb2RlLmNsYXNzLCBhdHRycyA9PT0gbnVsbCB8fCBhdHRycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXR0cnMuY2xhc3MsIHtcbiAgICAgICAgW2Ake2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Qtb3B0aW9uLS1kaXNhYmxlZGBdOiByYXdOb2RlLmRpc2FibGVkLFxuICAgICAgICBbYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdC1vcHRpb24tLXNlbGVjdGVkYF06IGlzU2VsZWN0ZWQsXG4gICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW9wdGlvbi0tZ3JvdXBlZGBdOiBpc0dyb3VwZWQsXG4gICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW9wdGlvbi0tcGVuZGluZ2BdOiBpc1BlbmRpbmcsXG4gICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW9wdGlvbi0tc2hvdy1jaGVja21hcmtgXTogc2hvd0NoZWNrbWFya1xuICAgICAgfV0sXG4gICAgICBzdHlsZTogWyhhdHRycyA9PT0gbnVsbCB8fCBhdHRycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXR0cnMuc3R5bGUpIHx8ICcnLCByYXdOb2RlLnN0eWxlIHx8ICcnXSxcbiAgICAgIG9uQ2xpY2s6IG1lcmdlRXZlbnRIYW5kbGVycyhbaGFuZGxlQ2xpY2ssIGF0dHJzID09PSBudWxsIHx8IGF0dHJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhdHRycy5vbkNsaWNrXSksXG4gICAgICBvbk1vdXNlZW50ZXI6IG1lcmdlRXZlbnRIYW5kbGVycyhbaGFuZGxlTW91c2VFbnRlciwgYXR0cnMgPT09IG51bGwgfHwgYXR0cnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGF0dHJzLm9uTW91c2VlbnRlcl0pLFxuICAgICAgb25Nb3VzZW1vdmU6IG1lcmdlRXZlbnRIYW5kbGVycyhbaGFuZGxlTW91c2VNb3ZlLCBhdHRycyA9PT0gbnVsbCB8fCBhdHRycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXR0cnMub25Nb3VzZW1vdmVdKVxuICAgIH0pLCBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0LW9wdGlvbl9fY29udGVudGBcbiAgICB9LCBjaGlsZHJlbikpO1xuICAgIHJldHVybiByYXdOb2RlLnJlbmRlciA/IHJhd05vZGUucmVuZGVyKHtcbiAgICAgIG5vZGUsXG4gICAgICBvcHRpb246IHJhd05vZGUsXG4gICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZFxuICAgIH0pIDogcmVuZGVyT3B0aW9uID8gcmVuZGVyT3B0aW9uKHtcbiAgICAgIG5vZGUsXG4gICAgICBvcHRpb246IHJhd05vZGUsXG4gICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZFxuICAgIH0pIDogbm9kZTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgYywgY0IsIGNFLCBjTSwgY05vdE0gfSBmcm9tIFwiLi4vLi4vLi4vLi4vX3V0aWxzL2Nzc3IvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBmYWRlSW5TY2FsZVVwVHJhbnNpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9fc3R5bGVzL3RyYW5zaXRpb25zL2ZhZGUtaW4tc2NhbGUtdXAuY3Nzci5tanNcIjtcbi8vIC0tbi1sb2FkaW5nLWNvbG9yXG4vLyAtLW4tbG9hZGluZy1zaXplXG4vLyAtLW4tb3B0aW9uLXBhZGRpbmctcmlnaHRcbmV4cG9ydCBkZWZhdWx0IGNCKCdiYXNlLXNlbGVjdC1tZW51JywgYFxuIGxpbmUtaGVpZ2h0OiAxLjU7XG4gb3V0bGluZTogbm9uZTtcbiB6LWluZGV4OiAwO1xuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiBib3JkZXItcmFkaXVzOiB2YXIoLS1uLWJvcmRlci1yYWRpdXMpO1xuIHRyYW5zaXRpb246XG4gYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJveC1zaGFkb3cgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yKTtcbmAsIFtjQignc2Nyb2xsYmFyJywgYFxuIG1heC1oZWlnaHQ6IHZhcigtLW4taGVpZ2h0KTtcbiBgKSwgY0IoJ3ZpcnR1YWwtbGlzdCcsIGBcbiBtYXgtaGVpZ2h0OiB2YXIoLS1uLWhlaWdodCk7XG4gYCksIGNCKCdiYXNlLXNlbGVjdC1vcHRpb24nLCBgXG4gbWluLWhlaWdodDogdmFyKC0tbi1vcHRpb24taGVpZ2h0KTtcbiBmb250LXNpemU6IHZhcigtLW4tb3B0aW9uLWZvbnQtc2l6ZSk7XG4gZGlzcGxheTogZmxleDtcbiBhbGlnbi1pdGVtczogY2VudGVyO1xuIGAsIFtjRSgnY29udGVudCcsIGBcbiB6LWluZGV4OiAxO1xuIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gb3ZlcmZsb3c6IGhpZGRlbjtcbiBgKV0pLCBjQignYmFzZS1zZWxlY3QtZ3JvdXAtaGVhZGVyJywgYFxuIG1pbi1oZWlnaHQ6IHZhcigtLW4tb3B0aW9uLWhlaWdodCk7XG4gZm9udC1zaXplOiAuOTNlbTtcbiBkaXNwbGF5OiBmbGV4O1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gYCksIGNCKCdiYXNlLXNlbGVjdC1tZW51LW9wdGlvbi13cmFwcGVyJywgYFxuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiB3aWR0aDogMTAwJTtcbiBgKSwgY0UoJ2xvYWRpbmcsIGVtcHR5JywgYFxuIGRpc3BsYXk6IGZsZXg7XG4gcGFkZGluZzogMTJweCAzMnB4O1xuIGZsZXg6IDE7XG4ganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gYCksIGNFKCdsb2FkaW5nJywgYFxuIGNvbG9yOiB2YXIoLS1uLWxvYWRpbmctY29sb3IpO1xuIGZvbnQtc2l6ZTogdmFyKC0tbi1sb2FkaW5nLXNpemUpO1xuIGApLCBjRSgnaGVhZGVyJywgYFxuIHBhZGRpbmc6IDhweCB2YXIoLS1uLW9wdGlvbi1wYWRkaW5nLWxlZnQpO1xuIGZvbnQtc2l6ZTogdmFyKC0tbi1vcHRpb24tZm9udC1zaXplKTtcbiB0cmFuc2l0aW9uOiBcbiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJvcmRlci1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1uLWFjdGlvbi1kaXZpZGVyLWNvbG9yKTtcbiBjb2xvcjogdmFyKC0tbi1hY3Rpb24tdGV4dC1jb2xvcik7XG4gYCksIGNFKCdhY3Rpb24nLCBgXG4gcGFkZGluZzogOHB4IHZhcigtLW4tb3B0aW9uLXBhZGRpbmctbGVmdCk7XG4gZm9udC1zaXplOiB2YXIoLS1uLW9wdGlvbi1mb250LXNpemUpO1xuIHRyYW5zaXRpb246IFxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllciksXG4gYm9yZGVyLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLW4tYWN0aW9uLWRpdmlkZXItY29sb3IpO1xuIGNvbG9yOiB2YXIoLS1uLWFjdGlvbi10ZXh0LWNvbG9yKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0LWdyb3VwLWhlYWRlcicsIGBcbiBwb3NpdGlvbjogcmVsYXRpdmU7XG4gY3Vyc29yOiBkZWZhdWx0O1xuIHBhZGRpbmc6IHZhcigtLW4tb3B0aW9uLXBhZGRpbmcpO1xuIGNvbG9yOiB2YXIoLS1uLWdyb3VwLWhlYWRlci10ZXh0LWNvbG9yKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0LW9wdGlvbicsIGBcbiBjdXJzb3I6IHBvaW50ZXI7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIHBhZGRpbmc6IHZhcigtLW4tb3B0aW9uLXBhZGRpbmcpO1xuIHRyYW5zaXRpb246XG4gY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBvcGFjaXR5IC4zcyB2YXIoLS1uLWJlemllcik7XG4gYm94LXNpemluZzogYm9yZGVyLWJveDtcbiBjb2xvcjogdmFyKC0tbi1vcHRpb24tdGV4dC1jb2xvcik7XG4gb3BhY2l0eTogMTtcbiBgLCBbY00oJ3Nob3ctY2hlY2ttYXJrJywgYFxuIHBhZGRpbmctcmlnaHQ6IGNhbGModmFyKC0tbi1vcHRpb24tcGFkZGluZy1yaWdodCkgKyAyMHB4KTtcbiBgKSwgYygnJjo6YmVmb3JlJywgYFxuIGNvbnRlbnQ6IFwiXCI7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIGxlZnQ6IDRweDtcbiByaWdodDogNHB4O1xuIHRvcDogMDtcbiBib3R0b206IDA7XG4gYm9yZGVyLXJhZGl1czogdmFyKC0tbi1ib3JkZXItcmFkaXVzKTtcbiB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYCksIGMoJyY6YWN0aXZlJywgYFxuIGNvbG9yOiB2YXIoLS1uLW9wdGlvbi10ZXh0LWNvbG9yLXByZXNzZWQpO1xuIGApLCBjTSgnZ3JvdXBlZCcsIGBcbiBwYWRkaW5nLWxlZnQ6IGNhbGModmFyKC0tbi1vcHRpb24tcGFkZGluZy1sZWZ0KSAqIDEuNSk7XG4gYCksIGNNKCdwZW5kaW5nJywgW2MoJyY6OmJlZm9yZScsIGBcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLW9wdGlvbi1jb2xvci1wZW5kaW5nKTtcbiBgKV0pLCBjTSgnc2VsZWN0ZWQnLCBgXG4gY29sb3I6IHZhcigtLW4tb3B0aW9uLXRleHQtY29sb3ItYWN0aXZlKTtcbiBgLCBbYygnJjo6YmVmb3JlJywgYFxuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tb3B0aW9uLWNvbG9yLWFjdGl2ZSk7XG4gYCksIGNNKCdwZW5kaW5nJywgW2MoJyY6OmJlZm9yZScsIGBcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLW9wdGlvbi1jb2xvci1hY3RpdmUtcGVuZGluZyk7XG4gYCldKV0pLCBjTSgnZGlzYWJsZWQnLCBgXG4gY3Vyc29yOiBub3QtYWxsb3dlZDtcbiBgLCBbY05vdE0oJ3NlbGVjdGVkJywgYFxuIGNvbG9yOiB2YXIoLS1uLW9wdGlvbi10ZXh0LWNvbG9yLWRpc2FibGVkKTtcbiBgKSwgY00oJ3NlbGVjdGVkJywgYFxuIG9wYWNpdHk6IHZhcigtLW4tb3B0aW9uLW9wYWNpdHktZGlzYWJsZWQpO1xuIGApXSksIGNFKCdjaGVjaycsIGBcbiBmb250LXNpemU6IDE2cHg7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIHJpZ2h0OiBjYWxjKHZhcigtLW4tb3B0aW9uLXBhZGRpbmctcmlnaHQpIC0gNHB4KTtcbiB0b3A6IGNhbGMoNTAlIC0gN3B4KTtcbiBjb2xvcjogdmFyKC0tbi1vcHRpb24tY2hlY2stY29sb3IpO1xuIHRyYW5zaXRpb246IGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYCwgW2ZhZGVJblNjYWxlVXBUcmFuc2l0aW9uKHtcbiAgZW50ZXJTY2FsZTogJzAuNSdcbn0pXSldKV0pOyIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbmltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCwgRnJhZ21lbnQsIHJlZiwgY29tcHV0ZWQsIHdhdGNoLCB0b1JlZiwgbmV4dFRpY2ssIHdhdGNoRWZmZWN0LCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgVk92ZXJmbG93IH0gZnJvbSAndnVldWMnO1xuaW1wb3J0IHsgTlBvcG92ZXIgfSBmcm9tIFwiLi4vLi4vLi4vcG9wb3Zlci9pbmRleC5tanNcIjtcbmltcG9ydCB7IE5UYWcgfSBmcm9tIFwiLi4vLi4vLi4vdGFnL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgdXNlVGhlbWVDbGFzcywgdXNlVGhlbWUsIHVzZVJ0bCwgdXNlQ29uZmlnIH0gZnJvbSBcIi4uLy4uLy4uL19taXhpbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVLZXksIGdldFRpdGxlQXR0cmlidXRlLCByZW5kZXIsIHVzZU9uUmVzaXplLCBXcmFwcGVyIH0gZnJvbSBcIi4uLy4uLy4uL191dGlscy9pbmRleC5tanNcIjtcbmltcG9ydCBTdWZmaXggZnJvbSBcIi4uLy4uL3N1ZmZpeC9pbmRleC5tanNcIjtcbmltcG9ydCB7IGludGVybmFsU2VsZWN0aW9uTGlnaHQgfSBmcm9tIFwiLi4vc3R5bGVzL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHN0eWxlIGZyb20gXCIuL3N0eWxlcy9pbmRleC5jc3NyLm1qc1wiO1xuaW1wb3J0IHsgZ2V0UGFkZGluZyB9IGZyb20gJ3NlZW1seSc7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiAnSW50ZXJuYWxTZWxlY3Rpb24nLFxuICBwcm9wczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB1c2VUaGVtZS5wcm9wcyksIHtcbiAgICBjbHNQcmVmaXg6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBib3JkZXJlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgYWN0aXZlOiBCb29sZWFuLFxuICAgIHBhdHRlcm46IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLFxuICAgIHNlbGVjdGVkT3B0aW9uOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfSxcbiAgICBzZWxlY3RlZE9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgbGFiZWxGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2xhYmVsJ1xuICAgIH0sXG4gICAgdmFsdWVGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3ZhbHVlJ1xuICAgIH0sXG4gICAgbXVsdGlwbGU6IEJvb2xlYW4sXG4gICAgZmlsdGVyYWJsZTogQm9vbGVhbixcbiAgICBjbGVhcmFibGU6IEJvb2xlYW4sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgc2l6ZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ21lZGl1bSdcbiAgICB9LFxuICAgIGxvYWRpbmc6IEJvb2xlYW4sXG4gICAgYXV0b2ZvY3VzOiBCb29sZWFuLFxuICAgIHNob3dBcnJvdzoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGlucHV0UHJvcHM6IE9iamVjdCxcbiAgICBmb2N1c2VkOiBCb29sZWFuLFxuICAgIHJlbmRlclRhZzogRnVuY3Rpb24sXG4gICAgb25LZXlkb3duOiBGdW5jdGlvbixcbiAgICBvbkNsaWNrOiBGdW5jdGlvbixcbiAgICBvbkJsdXI6IEZ1bmN0aW9uLFxuICAgIG9uRm9jdXM6IEZ1bmN0aW9uLFxuICAgIG9uRGVsZXRlT3B0aW9uOiBGdW5jdGlvbixcbiAgICBtYXhUYWdDb3VudDogW1N0cmluZywgTnVtYmVyXSxcbiAgICBlbGxpcHNpc1RhZ1BvcG92ZXJQcm9wczogT2JqZWN0LFxuICAgIG9uQ2xlYXI6IEZ1bmN0aW9uLFxuICAgIG9uUGF0dGVybklucHV0OiBGdW5jdGlvbixcbiAgICBvblBhdHRlcm5Gb2N1czogRnVuY3Rpb24sXG4gICAgb25QYXR0ZXJuQmx1cjogRnVuY3Rpb24sXG4gICAgcmVuZGVyTGFiZWw6IEZ1bmN0aW9uLFxuICAgIHN0YXR1czogU3RyaW5nLFxuICAgIGlubGluZVRoZW1lRGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgaWdub3JlQ29tcG9zaXRpb246IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBvblJlc2l6ZTogRnVuY3Rpb25cbiAgfSksXG4gIHNldHVwKHByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWVyZ2VkQ2xzUHJlZml4UmVmLFxuICAgICAgbWVyZ2VkUnRsUmVmXG4gICAgfSA9IHVzZUNvbmZpZyhwcm9wcyk7XG4gICAgY29uc3QgcnRsRW5hYmxlZFJlZiA9IHVzZVJ0bCgnSW50ZXJuYWxTZWxlY3Rpb24nLCBtZXJnZWRSdGxSZWYsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgY29uc3QgcGF0dGVybklucHV0TWlycm9yUmVmID0gcmVmKG51bGwpO1xuICAgIGNvbnN0IHBhdHRlcm5JbnB1dFJlZiA9IHJlZihudWxsKTtcbiAgICBjb25zdCBzZWxmUmVmID0gcmVmKG51bGwpO1xuICAgIGNvbnN0IG11bHRpcGxlRWxSZWYgPSByZWYobnVsbCk7XG4gICAgY29uc3Qgc2luZ2xlRWxSZWYgPSByZWYobnVsbCk7XG4gICAgY29uc3QgcGF0dGVybklucHV0V3JhcHBlclJlZiA9IHJlZihudWxsKTtcbiAgICBjb25zdCBjb3VudGVyUmVmID0gcmVmKG51bGwpO1xuICAgIGNvbnN0IGNvdW50ZXJXcmFwcGVyUmVmID0gcmVmKG51bGwpO1xuICAgIGNvbnN0IG92ZXJmbG93UmVmID0gcmVmKG51bGwpO1xuICAgIGNvbnN0IGlucHV0VGFnRWxSZWYgPSByZWYobnVsbCk7XG4gICAgY29uc3Qgc2hvd1RhZ3NQb3BvdmVyUmVmID0gcmVmKGZhbHNlKTtcbiAgICBjb25zdCBwYXR0ZXJuSW5wdXRGb2N1c2VkUmVmID0gcmVmKGZhbHNlKTtcbiAgICBjb25zdCBob3ZlclJlZiA9IHJlZihmYWxzZSk7XG4gICAgY29uc3QgdGhlbWVSZWYgPSB1c2VUaGVtZSgnSW50ZXJuYWxTZWxlY3Rpb24nLCAnLWludGVybmFsLXNlbGVjdGlvbicsIHN0eWxlLCBpbnRlcm5hbFNlbGVjdGlvbkxpZ2h0LCBwcm9wcywgdG9SZWYocHJvcHMsICdjbHNQcmVmaXgnKSk7XG4gICAgY29uc3QgbWVyZ2VkQ2xlYXJhYmxlUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHByb3BzLmNsZWFyYWJsZSAmJiAhcHJvcHMuZGlzYWJsZWQgJiYgKGhvdmVyUmVmLnZhbHVlIHx8IHByb3BzLmFjdGl2ZSk7XG4gICAgfSk7XG4gICAgY29uc3QgZmlsdGVyYWJsZVBsYWNlaG9sZGVyUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHByb3BzLnNlbGVjdGVkT3B0aW9uID8gcHJvcHMucmVuZGVyVGFnID8gcHJvcHMucmVuZGVyVGFnKHtcbiAgICAgICAgb3B0aW9uOiBwcm9wcy5zZWxlY3RlZE9wdGlvbixcbiAgICAgICAgaGFuZGxlQ2xvc2U6ICgpID0+IHt9XG4gICAgICB9KSA6IHByb3BzLnJlbmRlckxhYmVsID8gcHJvcHMucmVuZGVyTGFiZWwocHJvcHMuc2VsZWN0ZWRPcHRpb24sIHRydWUpIDogcmVuZGVyKHByb3BzLnNlbGVjdGVkT3B0aW9uW3Byb3BzLmxhYmVsRmllbGRdLCBwcm9wcy5zZWxlY3RlZE9wdGlvbiwgdHJ1ZSkgOiBwcm9wcy5wbGFjZWhvbGRlcjtcbiAgICB9KTtcbiAgICBjb25zdCBsYWJlbFJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IHByb3BzLnNlbGVjdGVkT3B0aW9uO1xuICAgICAgaWYgKCFvcHRpb24pIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb3B0aW9uW3Byb3BzLmxhYmVsRmllbGRdO1xuICAgIH0pO1xuICAgIGNvbnN0IHNlbGVjdGVkUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiAhIShBcnJheS5pc0FycmF5KHByb3BzLnNlbGVjdGVkT3B0aW9ucykgJiYgcHJvcHMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJvcHMuc2VsZWN0ZWRPcHRpb24gIT09IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gc3luY01pcnJvcldpZHRoKCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogcGF0dGVybklucHV0TWlycm9yRWxcbiAgICAgIH0gPSBwYXR0ZXJuSW5wdXRNaXJyb3JSZWY7XG4gICAgICBpZiAocGF0dGVybklucHV0TWlycm9yRWwpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlOiBwYXR0ZXJuSW5wdXRFbFxuICAgICAgICB9ID0gcGF0dGVybklucHV0UmVmO1xuICAgICAgICBpZiAocGF0dGVybklucHV0RWwpIHtcbiAgICAgICAgICBwYXR0ZXJuSW5wdXRFbC5zdHlsZS53aWR0aCA9IGAke3BhdHRlcm5JbnB1dE1pcnJvckVsLm9mZnNldFdpZHRofXB4YDtcbiAgICAgICAgICBpZiAocHJvcHMubWF4VGFnQ291bnQgIT09ICdyZXNwb25zaXZlJykge1xuICAgICAgICAgICAgKF9hID0gb3ZlcmZsb3dSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zeW5jKHtcbiAgICAgICAgICAgICAgc2hvd0FsbEl0ZW1zQmVmb3JlQ2FsY3VsYXRlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZGVJbnB1dFRhZygpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IGlucHV0VGFnRWxcbiAgICAgIH0gPSBpbnB1dFRhZ0VsUmVmO1xuICAgICAgaWYgKGlucHV0VGFnRWwpIGlucHV0VGFnRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvd0lucHV0VGFnKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogaW5wdXRUYWdFbFxuICAgICAgfSA9IGlucHV0VGFnRWxSZWY7XG4gICAgICBpZiAoaW5wdXRUYWdFbCkgaW5wdXRUYWdFbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgfVxuICAgIHdhdGNoKHRvUmVmKHByb3BzLCAnYWN0aXZlJyksIHZhbHVlID0+IHtcbiAgICAgIGlmICghdmFsdWUpIGhpZGVJbnB1dFRhZygpO1xuICAgIH0pO1xuICAgIHdhdGNoKHRvUmVmKHByb3BzLCAncGF0dGVybicpLCAoKSA9PiB7XG4gICAgICBpZiAocHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgdm9pZCBuZXh0VGljayhzeW5jTWlycm9yV2lkdGgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGRvRm9jdXMoZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvbkZvY3VzXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAob25Gb2N1cykgb25Gb2N1cyhlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9CbHVyKGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25CbHVyXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAob25CbHVyKSBvbkJsdXIoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvRGVsZXRlT3B0aW9uKHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uRGVsZXRlT3B0aW9uXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAob25EZWxldGVPcHRpb24pIG9uRGVsZXRlT3B0aW9uKHZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9DbGVhcihlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uQ2xlYXJcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGlmIChvbkNsZWFyKSBvbkNsZWFyKGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkb1BhdHRlcm5JbnB1dCh2YWx1ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvblBhdHRlcm5JbnB1dFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaWYgKG9uUGF0dGVybklucHV0KSBvblBhdHRlcm5JbnB1dCh2YWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzaW4oZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKCFlLnJlbGF0ZWRUYXJnZXQgfHwgISgoX2EgPSBzZWxmUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSkpIHtcbiAgICAgICAgZG9Gb2N1cyhlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRm9jdXNvdXQoZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKChfYSA9IHNlbGZSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSByZXR1cm47XG4gICAgICBkb0JsdXIoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsZWFyKGUpIHtcbiAgICAgIGRvQ2xlYXIoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICBob3ZlclJlZi52YWx1ZSA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgICBob3ZlclJlZi52YWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgaWYgKCFwcm9wcy5hY3RpdmUgfHwgIXByb3BzLmZpbHRlcmFibGUpIHJldHVybjtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gcGF0dGVybklucHV0UmVmLnZhbHVlKSByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZURlbGV0ZU9wdGlvbihvcHRpb24pIHtcbiAgICAgIGRvRGVsZXRlT3B0aW9uKG9wdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVBhdHRlcm5LZXlEb3duKGUpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIWlzQ29tcG9zaW5nUmVmLnZhbHVlKSB7XG4gICAgICAgIGlmICghcHJvcHMucGF0dGVybi5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbnNcbiAgICAgICAgICB9ID0gcHJvcHM7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9ucyA9PT0gbnVsbCB8fCBzZWxlY3RlZE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZURlbGV0ZU9wdGlvbihzZWxlY3RlZE9wdGlvbnNbc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNDb21wb3NpbmdSZWYgPSByZWYoZmFsc2UpO1xuICAgIC8vIHRoZSBjb21wb3NpdGlvbiBlbmQgaXMgbGF0ZXIgdGhhbiBpdHMgaW5wdXQgc28gd2UgY2FuIGNhY2hlZCB0aGUgZXZlbnRcbiAgICAvLyBhbmQgcmV0dXJuIHRoZSBpbnB1dCBldmVudFxuICAgIGxldCBjYWNoZWRJbnB1dEV2ZW50ID0gbnVsbDtcbiAgICBmdW5jdGlvbiBoYW5kbGVQYXR0ZXJuSW5wdXRJbnB1dChlKSB7XG4gICAgICAvLyB3ZSBzaG91bGQgc3luYyBtaXJyb3Igd2lkdGggaGVyZVxuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogcGF0dGVybklucHV0TWlycm9yRWxcbiAgICAgIH0gPSBwYXR0ZXJuSW5wdXRNaXJyb3JSZWY7XG4gICAgICBpZiAocGF0dGVybklucHV0TWlycm9yRWwpIHtcbiAgICAgICAgY29uc3QgaW5wdXRUZXh0ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIHBhdHRlcm5JbnB1dE1pcnJvckVsLnRleHRDb250ZW50ID0gaW5wdXRUZXh0O1xuICAgICAgICBzeW5jTWlycm9yV2lkdGgoKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcy5pZ25vcmVDb21wb3NpdGlvbikge1xuICAgICAgICBpZiAoIWlzQ29tcG9zaW5nUmVmLnZhbHVlKSB7XG4gICAgICAgICAgZG9QYXR0ZXJuSW5wdXQoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FjaGVkSW5wdXRFdmVudCA9IGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvUGF0dGVybklucHV0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVDb21wb3NpdGlvblN0YXJ0KCkge1xuICAgICAgaXNDb21wb3NpbmdSZWYudmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVDb21wb3NpdGlvbkVuZCgpIHtcbiAgICAgIGlzQ29tcG9zaW5nUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICBpZiAocHJvcHMuaWdub3JlQ29tcG9zaXRpb24pIHtcbiAgICAgICAgZG9QYXR0ZXJuSW5wdXQoY2FjaGVkSW5wdXRFdmVudCk7XG4gICAgICB9XG4gICAgICBjYWNoZWRJbnB1dEV2ZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUGF0dGVybklucHV0Rm9jdXMoZSkge1xuICAgICAgdmFyIF9hO1xuICAgICAgcGF0dGVybklucHV0Rm9jdXNlZFJlZi52YWx1ZSA9IHRydWU7XG4gICAgICAoX2EgPSBwcm9wcy5vblBhdHRlcm5Gb2N1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvcHMsIGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVQYXR0ZXJuSW5wdXRCbHVyKGUpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHBhdHRlcm5JbnB1dEZvY3VzZWRSZWYudmFsdWUgPSBmYWxzZTtcbiAgICAgIChfYSA9IHByb3BzLm9uUGF0dGVybkJsdXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb3BzLCBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBpZiAocHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICBwYXR0ZXJuSW5wdXRGb2N1c2VkUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIChfYSA9IHBhdHRlcm5JbnB1dFdyYXBwZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgICAgIChfYiA9IHBhdHRlcm5JbnB1dFJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJsdXIoKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlOiBtdWx0aXBsZUVsXG4gICAgICAgIH0gPSBtdWx0aXBsZUVsUmVmO1xuICAgICAgICBtdWx0aXBsZUVsID09PSBudWxsIHx8IG11bHRpcGxlRWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG11bHRpcGxlRWwuYmx1cigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlOiBzaW5nbGVFbFxuICAgICAgICB9ID0gc2luZ2xlRWxSZWY7XG4gICAgICAgIHNpbmdsZUVsID09PSBudWxsIHx8IHNpbmdsZUVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaW5nbGVFbC5ibHVyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICBpZiAocHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICBwYXR0ZXJuSW5wdXRGb2N1c2VkUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIChfYSA9IHBhdHRlcm5JbnB1dFdyYXBwZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAoX2IgPSBtdWx0aXBsZUVsUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChfYyA9IHNpbmdsZUVsUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZm9jdXNJbnB1dCgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IHBhdHRlcm5JbnB1dEVsXG4gICAgICB9ID0gcGF0dGVybklucHV0UmVmO1xuICAgICAgaWYgKHBhdHRlcm5JbnB1dEVsKSB7XG4gICAgICAgIHNob3dJbnB1dFRhZygpO1xuICAgICAgICBwYXR0ZXJuSW5wdXRFbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBibHVySW5wdXQoKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZhbHVlOiBwYXR0ZXJuSW5wdXRFbFxuICAgICAgfSA9IHBhdHRlcm5JbnB1dFJlZjtcbiAgICAgIGlmIChwYXR0ZXJuSW5wdXRFbCkge1xuICAgICAgICBwYXR0ZXJuSW5wdXRFbC5ibHVyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdW50ZXIoY291bnQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWVcbiAgICAgIH0gPSBjb3VudGVyUmVmO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlLnNldFRleHRDb250ZW50KGArJHtjb3VudH1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q291bnRlcigpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWVcbiAgICAgIH0gPSBjb3VudGVyV3JhcHBlclJlZjtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFpbCgpIHtcbiAgICAgIHJldHVybiBwYXR0ZXJuSW5wdXRSZWYudmFsdWU7XG4gICAgfVxuICAgIGxldCBlbnRlclRpbWVySWQgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyRW50ZXJUaW1lcigpIHtcbiAgICAgIGlmIChlbnRlclRpbWVySWQgIT09IG51bGwpIHdpbmRvdy5jbGVhclRpbWVvdXQoZW50ZXJUaW1lcklkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlckNvdW50ZXIoKSB7XG4gICAgICBpZiAocHJvcHMuYWN0aXZlKSByZXR1cm47XG4gICAgICBjbGVhckVudGVyVGltZXIoKTtcbiAgICAgIGVudGVyVGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHNlbGVjdGVkUmVmLnZhbHVlKSB7XG4gICAgICAgICAgc2hvd1RhZ3NQb3BvdmVyUmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZUNvdW50ZXIoKSB7XG4gICAgICBjbGVhckVudGVyVGltZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb3BvdmVyVXBkYXRlU2hvdyhzaG93KSB7XG4gICAgICBpZiAoIXNob3cpIHtcbiAgICAgICAgY2xlYXJFbnRlclRpbWVyKCk7XG4gICAgICAgIHNob3dUYWdzUG9wb3ZlclJlZi52YWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICB3YXRjaChzZWxlY3RlZFJlZiwgdmFsdWUgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICBzaG93VGFnc1BvcG92ZXJSZWYudmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuSW5wdXRXcmFwcGVyRWwgPSBwYXR0ZXJuSW5wdXRXcmFwcGVyUmVmLnZhbHVlO1xuICAgICAgICBpZiAoIXBhdHRlcm5JbnB1dFdyYXBwZXJFbCkgcmV0dXJuO1xuICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBwYXR0ZXJuSW5wdXRXcmFwcGVyRWwucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdHRlcm5JbnB1dFdyYXBwZXJFbC50YWJJbmRleCA9IHBhdHRlcm5JbnB1dEZvY3VzZWRSZWYudmFsdWUgPyAtMSA6IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHVzZU9uUmVzaXplKHNlbGZSZWYsIHByb3BzLm9uUmVzaXplKTtcbiAgICBjb25zdCB7XG4gICAgICBpbmxpbmVUaGVtZURpc2FibGVkXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNzc1ZhcnNSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHNpemVcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgY3ViaWNCZXppZXJFYXNlSW5PdXRcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZjoge1xuICAgICAgICAgIGJvcmRlclJhZGl1cyxcbiAgICAgICAgICBjb2xvcixcbiAgICAgICAgICBwbGFjZWhvbGRlckNvbG9yLFxuICAgICAgICAgIHRleHRDb2xvcixcbiAgICAgICAgICBwYWRkaW5nU2luZ2xlLFxuICAgICAgICAgIHBhZGRpbmdNdWx0aXBsZSxcbiAgICAgICAgICBjYXJldENvbG9yLFxuICAgICAgICAgIGNvbG9yRGlzYWJsZWQsXG4gICAgICAgICAgdGV4dENvbG9yRGlzYWJsZWQsXG4gICAgICAgICAgcGxhY2Vob2xkZXJDb2xvckRpc2FibGVkLFxuICAgICAgICAgIGNvbG9yQWN0aXZlLFxuICAgICAgICAgIGJveFNoYWRvd0ZvY3VzLFxuICAgICAgICAgIGJveFNoYWRvd0FjdGl2ZSxcbiAgICAgICAgICBib3hTaGFkb3dIb3ZlcixcbiAgICAgICAgICBib3JkZXIsXG4gICAgICAgICAgYm9yZGVyRm9jdXMsXG4gICAgICAgICAgYm9yZGVySG92ZXIsXG4gICAgICAgICAgYm9yZGVyQWN0aXZlLFxuICAgICAgICAgIGFycm93Q29sb3IsXG4gICAgICAgICAgYXJyb3dDb2xvckRpc2FibGVkLFxuICAgICAgICAgIGxvYWRpbmdDb2xvcixcbiAgICAgICAgICAvLyBmb3JtIHdhcm5pbmdcbiAgICAgICAgICBjb2xvckFjdGl2ZVdhcm5pbmcsXG4gICAgICAgICAgYm94U2hhZG93Rm9jdXNXYXJuaW5nLFxuICAgICAgICAgIGJveFNoYWRvd0FjdGl2ZVdhcm5pbmcsXG4gICAgICAgICAgYm94U2hhZG93SG92ZXJXYXJuaW5nLFxuICAgICAgICAgIGJvcmRlcldhcm5pbmcsXG4gICAgICAgICAgYm9yZGVyRm9jdXNXYXJuaW5nLFxuICAgICAgICAgIGJvcmRlckhvdmVyV2FybmluZyxcbiAgICAgICAgICBib3JkZXJBY3RpdmVXYXJuaW5nLFxuICAgICAgICAgIC8vIGZvcm0gZXJyb3JcbiAgICAgICAgICBjb2xvckFjdGl2ZUVycm9yLFxuICAgICAgICAgIGJveFNoYWRvd0ZvY3VzRXJyb3IsXG4gICAgICAgICAgYm94U2hhZG93QWN0aXZlRXJyb3IsXG4gICAgICAgICAgYm94U2hhZG93SG92ZXJFcnJvcixcbiAgICAgICAgICBib3JkZXJFcnJvcixcbiAgICAgICAgICBib3JkZXJGb2N1c0Vycm9yLFxuICAgICAgICAgIGJvcmRlckhvdmVyRXJyb3IsXG4gICAgICAgICAgYm9yZGVyQWN0aXZlRXJyb3IsXG4gICAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgICBjbGVhckNvbG9yLFxuICAgICAgICAgIGNsZWFyQ29sb3JIb3ZlcixcbiAgICAgICAgICBjbGVhckNvbG9yUHJlc3NlZCxcbiAgICAgICAgICBjbGVhclNpemUsXG4gICAgICAgICAgLy8gYXJyb3dcbiAgICAgICAgICBhcnJvd1NpemUsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnaGVpZ2h0Jywgc2l6ZSldOiBoZWlnaHQsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnZm9udFNpemUnLCBzaXplKV06IGZvbnRTaXplXG4gICAgICAgIH1cbiAgICAgIH0gPSB0aGVtZVJlZi52YWx1ZTtcbiAgICAgIGNvbnN0IHBhZGRpbmdTaW5nbGVEaXNjcmV0ZSA9IGdldFBhZGRpbmcocGFkZGluZ1NpbmdsZSk7XG4gICAgICBjb25zdCBwYWRkaW5nTXVsdGlwbGVEaXNjcmV0ZSA9IGdldFBhZGRpbmcocGFkZGluZ011bHRpcGxlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICctLW4tYmV6aWVyJzogY3ViaWNCZXppZXJFYXNlSW5PdXQsXG4gICAgICAgICctLW4tYm9yZGVyJzogYm9yZGVyLFxuICAgICAgICAnLS1uLWJvcmRlci1hY3RpdmUnOiBib3JkZXJBY3RpdmUsXG4gICAgICAgICctLW4tYm9yZGVyLWZvY3VzJzogYm9yZGVyRm9jdXMsXG4gICAgICAgICctLW4tYm9yZGVyLWhvdmVyJzogYm9yZGVySG92ZXIsXG4gICAgICAgICctLW4tYm9yZGVyLXJhZGl1cyc6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgJy0tbi1ib3gtc2hhZG93LWFjdGl2ZSc6IGJveFNoYWRvd0FjdGl2ZSxcbiAgICAgICAgJy0tbi1ib3gtc2hhZG93LWZvY3VzJzogYm94U2hhZG93Rm9jdXMsXG4gICAgICAgICctLW4tYm94LXNoYWRvdy1ob3Zlcic6IGJveFNoYWRvd0hvdmVyLFxuICAgICAgICAnLS1uLWNhcmV0LWNvbG9yJzogY2FyZXRDb2xvcixcbiAgICAgICAgJy0tbi1jb2xvcic6IGNvbG9yLFxuICAgICAgICAnLS1uLWNvbG9yLWFjdGl2ZSc6IGNvbG9yQWN0aXZlLFxuICAgICAgICAnLS1uLWNvbG9yLWRpc2FibGVkJzogY29sb3JEaXNhYmxlZCxcbiAgICAgICAgJy0tbi1mb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAgICAgJy0tbi1oZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICctLW4tcGFkZGluZy1zaW5nbGUtdG9wJzogcGFkZGluZ1NpbmdsZURpc2NyZXRlLnRvcCxcbiAgICAgICAgJy0tbi1wYWRkaW5nLW11bHRpcGxlLXRvcCc6IHBhZGRpbmdNdWx0aXBsZURpc2NyZXRlLnRvcCxcbiAgICAgICAgJy0tbi1wYWRkaW5nLXNpbmdsZS1yaWdodCc6IHBhZGRpbmdTaW5nbGVEaXNjcmV0ZS5yaWdodCxcbiAgICAgICAgJy0tbi1wYWRkaW5nLW11bHRpcGxlLXJpZ2h0JzogcGFkZGluZ011bHRpcGxlRGlzY3JldGUucmlnaHQsXG4gICAgICAgICctLW4tcGFkZGluZy1zaW5nbGUtbGVmdCc6IHBhZGRpbmdTaW5nbGVEaXNjcmV0ZS5sZWZ0LFxuICAgICAgICAnLS1uLXBhZGRpbmctbXVsdGlwbGUtbGVmdCc6IHBhZGRpbmdNdWx0aXBsZURpc2NyZXRlLmxlZnQsXG4gICAgICAgICctLW4tcGFkZGluZy1zaW5nbGUtYm90dG9tJzogcGFkZGluZ1NpbmdsZURpc2NyZXRlLmJvdHRvbSxcbiAgICAgICAgJy0tbi1wYWRkaW5nLW11bHRpcGxlLWJvdHRvbSc6IHBhZGRpbmdNdWx0aXBsZURpc2NyZXRlLmJvdHRvbSxcbiAgICAgICAgJy0tbi1wbGFjZWhvbGRlci1jb2xvcic6IHBsYWNlaG9sZGVyQ29sb3IsXG4gICAgICAgICctLW4tcGxhY2Vob2xkZXItY29sb3ItZGlzYWJsZWQnOiBwbGFjZWhvbGRlckNvbG9yRGlzYWJsZWQsXG4gICAgICAgICctLW4tdGV4dC1jb2xvcic6IHRleHRDb2xvcixcbiAgICAgICAgJy0tbi10ZXh0LWNvbG9yLWRpc2FibGVkJzogdGV4dENvbG9yRGlzYWJsZWQsXG4gICAgICAgICctLW4tYXJyb3ctY29sb3InOiBhcnJvd0NvbG9yLFxuICAgICAgICAnLS1uLWFycm93LWNvbG9yLWRpc2FibGVkJzogYXJyb3dDb2xvckRpc2FibGVkLFxuICAgICAgICAnLS1uLWxvYWRpbmctY29sb3InOiBsb2FkaW5nQ29sb3IsXG4gICAgICAgIC8vIGZvcm0gd2FybmluZ1xuICAgICAgICAnLS1uLWNvbG9yLWFjdGl2ZS13YXJuaW5nJzogY29sb3JBY3RpdmVXYXJuaW5nLFxuICAgICAgICAnLS1uLWJveC1zaGFkb3ctZm9jdXMtd2FybmluZyc6IGJveFNoYWRvd0ZvY3VzV2FybmluZyxcbiAgICAgICAgJy0tbi1ib3gtc2hhZG93LWFjdGl2ZS13YXJuaW5nJzogYm94U2hhZG93QWN0aXZlV2FybmluZyxcbiAgICAgICAgJy0tbi1ib3gtc2hhZG93LWhvdmVyLXdhcm5pbmcnOiBib3hTaGFkb3dIb3Zlcldhcm5pbmcsXG4gICAgICAgICctLW4tYm9yZGVyLXdhcm5pbmcnOiBib3JkZXJXYXJuaW5nLFxuICAgICAgICAnLS1uLWJvcmRlci1mb2N1cy13YXJuaW5nJzogYm9yZGVyRm9jdXNXYXJuaW5nLFxuICAgICAgICAnLS1uLWJvcmRlci1ob3Zlci13YXJuaW5nJzogYm9yZGVySG92ZXJXYXJuaW5nLFxuICAgICAgICAnLS1uLWJvcmRlci1hY3RpdmUtd2FybmluZyc6IGJvcmRlckFjdGl2ZVdhcm5pbmcsXG4gICAgICAgIC8vIGZvcm0gZXJyb3JcbiAgICAgICAgJy0tbi1jb2xvci1hY3RpdmUtZXJyb3InOiBjb2xvckFjdGl2ZUVycm9yLFxuICAgICAgICAnLS1uLWJveC1zaGFkb3ctZm9jdXMtZXJyb3InOiBib3hTaGFkb3dGb2N1c0Vycm9yLFxuICAgICAgICAnLS1uLWJveC1zaGFkb3ctYWN0aXZlLWVycm9yJzogYm94U2hhZG93QWN0aXZlRXJyb3IsXG4gICAgICAgICctLW4tYm94LXNoYWRvdy1ob3Zlci1lcnJvcic6IGJveFNoYWRvd0hvdmVyRXJyb3IsXG4gICAgICAgICctLW4tYm9yZGVyLWVycm9yJzogYm9yZGVyRXJyb3IsXG4gICAgICAgICctLW4tYm9yZGVyLWZvY3VzLWVycm9yJzogYm9yZGVyRm9jdXNFcnJvcixcbiAgICAgICAgJy0tbi1ib3JkZXItaG92ZXItZXJyb3InOiBib3JkZXJIb3ZlckVycm9yLFxuICAgICAgICAnLS1uLWJvcmRlci1hY3RpdmUtZXJyb3InOiBib3JkZXJBY3RpdmVFcnJvcixcbiAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgJy0tbi1jbGVhci1zaXplJzogY2xlYXJTaXplLFxuICAgICAgICAnLS1uLWNsZWFyLWNvbG9yJzogY2xlYXJDb2xvcixcbiAgICAgICAgJy0tbi1jbGVhci1jb2xvci1ob3Zlcic6IGNsZWFyQ29sb3JIb3ZlcixcbiAgICAgICAgJy0tbi1jbGVhci1jb2xvci1wcmVzc2VkJzogY2xlYXJDb2xvclByZXNzZWQsXG4gICAgICAgIC8vIGFycm93LXNpemVcbiAgICAgICAgJy0tbi1hcnJvdy1zaXplJzogYXJyb3dTaXplXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHRoZW1lQ2xhc3NIYW5kbGUgPSBpbmxpbmVUaGVtZURpc2FibGVkID8gdXNlVGhlbWVDbGFzcygnaW50ZXJuYWwtc2VsZWN0aW9uJywgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHByb3BzLnNpemVbMF07XG4gICAgfSksIGNzc1ZhcnNSZWYsIHByb3BzKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4ge1xuICAgICAgbWVyZ2VkVGhlbWU6IHRoZW1lUmVmLFxuICAgICAgbWVyZ2VkQ2xlYXJhYmxlOiBtZXJnZWRDbGVhcmFibGVSZWYsXG4gICAgICBtZXJnZWRDbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeFJlZixcbiAgICAgIHJ0bEVuYWJsZWQ6IHJ0bEVuYWJsZWRSZWYsXG4gICAgICBwYXR0ZXJuSW5wdXRGb2N1c2VkOiBwYXR0ZXJuSW5wdXRGb2N1c2VkUmVmLFxuICAgICAgZmlsdGVyYWJsZVBsYWNlaG9sZGVyOiBmaWx0ZXJhYmxlUGxhY2Vob2xkZXJSZWYsXG4gICAgICBsYWJlbDogbGFiZWxSZWYsXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWRSZWYsXG4gICAgICBzaG93VGFnc1BhbmVsOiBzaG93VGFnc1BvcG92ZXJSZWYsXG4gICAgICBpc0NvbXBvc2luZzogaXNDb21wb3NpbmdSZWYsXG4gICAgICAvLyBkb20gcmVmXG4gICAgICBjb3VudGVyUmVmLFxuICAgICAgY291bnRlcldyYXBwZXJSZWYsXG4gICAgICBwYXR0ZXJuSW5wdXRNaXJyb3JSZWYsXG4gICAgICBwYXR0ZXJuSW5wdXRSZWYsXG4gICAgICBzZWxmUmVmLFxuICAgICAgbXVsdGlwbGVFbFJlZixcbiAgICAgIHNpbmdsZUVsUmVmLFxuICAgICAgcGF0dGVybklucHV0V3JhcHBlclJlZixcbiAgICAgIG92ZXJmbG93UmVmLFxuICAgICAgaW5wdXRUYWdFbFJlZixcbiAgICAgIGhhbmRsZU1vdXNlRG93bixcbiAgICAgIGhhbmRsZUZvY3VzaW4sXG4gICAgICBoYW5kbGVDbGVhcixcbiAgICAgIGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICBoYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgaGFuZGxlRGVsZXRlT3B0aW9uLFxuICAgICAgaGFuZGxlUGF0dGVybktleURvd24sXG4gICAgICBoYW5kbGVQYXR0ZXJuSW5wdXRJbnB1dCxcbiAgICAgIGhhbmRsZVBhdHRlcm5JbnB1dEJsdXIsXG4gICAgICBoYW5kbGVQYXR0ZXJuSW5wdXRGb2N1cyxcbiAgICAgIGhhbmRsZU1vdXNlRW50ZXJDb3VudGVyLFxuICAgICAgaGFuZGxlTW91c2VMZWF2ZUNvdW50ZXIsXG4gICAgICBoYW5kbGVGb2N1c291dCxcbiAgICAgIGhhbmRsZUNvbXBvc2l0aW9uRW5kLFxuICAgICAgaGFuZGxlQ29tcG9zaXRpb25TdGFydCxcbiAgICAgIG9uUG9wb3ZlclVwZGF0ZVNob3csXG4gICAgICBmb2N1cyxcbiAgICAgIGZvY3VzSW5wdXQsXG4gICAgICBibHVyLFxuICAgICAgYmx1cklucHV0LFxuICAgICAgdXBkYXRlQ291bnRlcixcbiAgICAgIGdldENvdW50ZXIsXG4gICAgICBnZXRUYWlsLFxuICAgICAgcmVuZGVyTGFiZWw6IHByb3BzLnJlbmRlckxhYmVsLFxuICAgICAgY3NzVmFyczogaW5saW5lVGhlbWVEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGNzc1ZhcnNSZWYsXG4gICAgICB0aGVtZUNsYXNzOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUudGhlbWVDbGFzcyxcbiAgICAgIG9uUmVuZGVyOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUub25SZW5kZXJcbiAgICB9O1xuICB9LFxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc3RhdHVzLFxuICAgICAgbXVsdGlwbGUsXG4gICAgICBzaXplLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBmaWx0ZXJhYmxlLFxuICAgICAgbWF4VGFnQ291bnQsXG4gICAgICBib3JkZXJlZCxcbiAgICAgIGNsc1ByZWZpeCxcbiAgICAgIGVsbGlwc2lzVGFnUG9wb3ZlclByb3BzLFxuICAgICAgb25SZW5kZXIsXG4gICAgICByZW5kZXJUYWcsXG4gICAgICByZW5kZXJMYWJlbFxuICAgIH0gPSB0aGlzO1xuICAgIG9uUmVuZGVyID09PSBudWxsIHx8IG9uUmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblJlbmRlcigpO1xuICAgIGNvbnN0IG1heFRhZ0NvdW50UmVzcG9uc2l2ZSA9IG1heFRhZ0NvdW50ID09PSAncmVzcG9uc2l2ZSc7XG4gICAgY29uc3QgbWF4VGFnQ291bnROdW1lcmljID0gdHlwZW9mIG1heFRhZ0NvdW50ID09PSAnbnVtYmVyJztcbiAgICBjb25zdCB1c2VNYXhUYWdDb3VudCA9IG1heFRhZ0NvdW50UmVzcG9uc2l2ZSB8fCBtYXhUYWdDb3VudE51bWVyaWM7XG4gICAgY29uc3Qgc3VmZml4ID0gaChXcmFwcGVyLCBudWxsLCB7XG4gICAgICBkZWZhdWx0OiAoKSA9PiBoKFN1ZmZpeCwge1xuICAgICAgICBjbHNQcmVmaXg6IGNsc1ByZWZpeCxcbiAgICAgICAgbG9hZGluZzogdGhpcy5sb2FkaW5nLFxuICAgICAgICBzaG93QXJyb3c6IHRoaXMuc2hvd0Fycm93LFxuICAgICAgICBzaG93Q2xlYXI6IHRoaXMubWVyZ2VkQ2xlYXJhYmxlICYmIHRoaXMuc2VsZWN0ZWQsXG4gICAgICAgIG9uQ2xlYXI6IHRoaXMuaGFuZGxlQ2xlYXJcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuJHNsb3RzKS5hcnJvdykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBsYWJlbEZpZWxkXG4gICAgICB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGNyZWF0ZVRhZyA9IG9wdGlvbiA9PiBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tdGFnLXdyYXBwZXJgLFxuICAgICAgICBrZXk6IG9wdGlvbi52YWx1ZVxuICAgICAgfSwgcmVuZGVyVGFnID8gcmVuZGVyVGFnKHtcbiAgICAgICAgb3B0aW9uLFxuICAgICAgICBoYW5kbGVDbG9zZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlRGVsZXRlT3B0aW9uKG9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pIDogaChOVGFnLCB7XG4gICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgIGNsb3NhYmxlOiAhb3B0aW9uLmRpc2FibGVkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZU9wdGlvbihvcHRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBpbnRlcm5hbENsb3NlSXNCdXR0b25UYWc6IGZhbHNlLFxuICAgICAgICBpbnRlcm5hbENsb3NlRm9jdXNhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiByZW5kZXJMYWJlbCA/IHJlbmRlckxhYmVsKG9wdGlvbiwgdHJ1ZSkgOiByZW5kZXIob3B0aW9uW2xhYmVsRmllbGRdLCBvcHRpb24sIHRydWUpXG4gICAgICB9KSk7XG4gICAgICBjb25zdCBjcmVhdGVPcmlnaW5hbFRhZ05vZGVzID0gKCkgPT4gKG1heFRhZ0NvdW50TnVtZXJpYyA/IHRoaXMuc2VsZWN0ZWRPcHRpb25zLnNsaWNlKDAsIG1heFRhZ0NvdW50KSA6IHRoaXMuc2VsZWN0ZWRPcHRpb25zKS5tYXAoY3JlYXRlVGFnKTtcbiAgICAgIGNvbnN0IGlucHV0ID0gZmlsdGVyYWJsZSA/IGgoXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi1pbnB1dC10YWdgLFxuICAgICAgICByZWY6IFwiaW5wdXRUYWdFbFJlZlwiLFxuICAgICAgICBrZXk6IFwiX19pbnB1dC10YWdfX1wiXG4gICAgICB9LCBoKFwiaW5wdXRcIiwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbnB1dFByb3BzLCB7XG4gICAgICAgIHJlZjogXCJwYXR0ZXJuSW5wdXRSZWZcIixcbiAgICAgICAgdGFiaW5kZXg6IC0xLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHZhbHVlOiB0aGlzLnBhdHRlcm4sXG4gICAgICAgIGF1dG9mb2N1czogdGhpcy5hdXRvZm9jdXMsXG4gICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWlucHV0LXRhZ19faW5wdXRgLFxuICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlUGF0dGVybklucHV0Qmx1cixcbiAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVQYXR0ZXJuSW5wdXRGb2N1cyxcbiAgICAgICAgb25LZXlkb3duOiB0aGlzLmhhbmRsZVBhdHRlcm5LZXlEb3duLFxuICAgICAgICBvbklucHV0OiB0aGlzLmhhbmRsZVBhdHRlcm5JbnB1dElucHV0LFxuICAgICAgICBvbkNvbXBvc2l0aW9uc3RhcnQ6IHRoaXMuaGFuZGxlQ29tcG9zaXRpb25TdGFydCxcbiAgICAgICAgb25Db21wb3NpdGlvbmVuZDogdGhpcy5oYW5kbGVDb21wb3NpdGlvbkVuZFxuICAgICAgfSkpLCBoKFwic3BhblwiLCB7XG4gICAgICAgIHJlZjogXCJwYXR0ZXJuSW5wdXRNaXJyb3JSZWZcIixcbiAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24taW5wdXQtdGFnX19taXJyb3JgXG4gICAgICB9LCB0aGlzLnBhdHRlcm4pKSA6IG51bGw7XG4gICAgICAvLyBNYXkgT3ZlcmZsb3dcbiAgICAgIGNvbnN0IHJlbmRlckNvdW50ZXIgPSBtYXhUYWdDb3VudFJlc3BvbnNpdmUgPyAoKSA9PiBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tdGFnLXdyYXBwZXJgLFxuICAgICAgICByZWY6IFwiY291bnRlcldyYXBwZXJSZWZcIlxuICAgICAgfSwgaChOVGFnLCB7XG4gICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgIHJlZjogXCJjb3VudGVyUmVmXCIsXG4gICAgICAgIG9uTW91c2VlbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyQ291bnRlcixcbiAgICAgICAgb25Nb3VzZWxlYXZlOiB0aGlzLmhhbmRsZU1vdXNlTGVhdmVDb3VudGVyLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICAgIH0pKSA6IHVuZGVmaW5lZDtcbiAgICAgIGxldCBjb3VudGVyO1xuICAgICAgaWYgKG1heFRhZ0NvdW50TnVtZXJpYykge1xuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoIC0gbWF4VGFnQ291bnQ7XG4gICAgICAgIGlmIChyZXN0ID4gMCkge1xuICAgICAgICAgIGNvdW50ZXIgPSBoKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLXRhZy13cmFwcGVyYCxcbiAgICAgICAgICAgIGtleTogXCJfX2NvdW50ZXJfX1wiXG4gICAgICAgICAgfSwgaChOVGFnLCB7XG4gICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgcmVmOiBcImNvdW50ZXJSZWZcIixcbiAgICAgICAgICAgIG9uTW91c2VlbnRlcjogdGhpcy5oYW5kbGVNb3VzZUVudGVyQ291bnRlcixcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IGArJHtyZXN0fWBcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhZ3MgPSBtYXhUYWdDb3VudFJlc3BvbnNpdmUgPyBmaWx0ZXJhYmxlID8gaChWT3ZlcmZsb3csIHtcbiAgICAgICAgcmVmOiBcIm92ZXJmbG93UmVmXCIsXG4gICAgICAgIHVwZGF0ZUNvdW50ZXI6IHRoaXMudXBkYXRlQ291bnRlcixcbiAgICAgICAgZ2V0Q291bnRlcjogdGhpcy5nZXRDb3VudGVyLFxuICAgICAgICBnZXRUYWlsOiB0aGlzLmdldFRhaWwsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogY3JlYXRlT3JpZ2luYWxUYWdOb2RlcyxcbiAgICAgICAgY291bnRlcjogcmVuZGVyQ291bnRlcixcbiAgICAgICAgdGFpbDogKCkgPT4gaW5wdXRcbiAgICAgIH0pIDogaChWT3ZlcmZsb3csIHtcbiAgICAgICAgcmVmOiBcIm92ZXJmbG93UmVmXCIsXG4gICAgICAgIHVwZGF0ZUNvdW50ZXI6IHRoaXMudXBkYXRlQ291bnRlcixcbiAgICAgICAgZ2V0Q291bnRlcjogdGhpcy5nZXRDb3VudGVyLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRlZmF1bHQ6IGNyZWF0ZU9yaWdpbmFsVGFnTm9kZXMsXG4gICAgICAgIGNvdW50ZXI6IHJlbmRlckNvdW50ZXJcbiAgICAgIH0pIDogbWF4VGFnQ291bnROdW1lcmljICYmIGNvdW50ZXIgPyBjcmVhdGVPcmlnaW5hbFRhZ05vZGVzKCkuY29uY2F0KGNvdW50ZXIpIDogY3JlYXRlT3JpZ2luYWxUYWdOb2RlcygpO1xuICAgICAgY29uc3QgcmVuZGVyUG9wb3ZlciA9IHVzZU1heFRhZ0NvdW50ID8gKCkgPT4gaChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLXBvcG92ZXJgXG4gICAgICB9LCBtYXhUYWdDb3VudFJlc3BvbnNpdmUgPyBjcmVhdGVPcmlnaW5hbFRhZ05vZGVzKCkgOiB0aGlzLnNlbGVjdGVkT3B0aW9ucy5tYXAoY3JlYXRlVGFnKSkgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBwb3BvdmVyUHJvcHMgPSB1c2VNYXhUYWdDb3VudCA/IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBzaG93OiB0aGlzLnNob3dUYWdzUGFuZWwsXG4gICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXG4gICAgICAgIG92ZXJsYXA6IHRydWUsXG4gICAgICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgICAgIHdpZHRoOiAndHJpZ2dlcicsXG4gICAgICAgIG9uVXBkYXRlU2hvdzogdGhpcy5vblBvcG92ZXJVcGRhdGVTaG93LFxuICAgICAgICB0aGVtZTogdGhpcy5tZXJnZWRUaGVtZS5wZWVycy5Qb3BvdmVyLFxuICAgICAgICB0aGVtZU92ZXJyaWRlczogdGhpcy5tZXJnZWRUaGVtZS5wZWVyT3ZlcnJpZGVzLlBvcG92ZXJcbiAgICAgIH0sIGVsbGlwc2lzVGFnUG9wb3ZlclByb3BzKSA6IG51bGw7XG4gICAgICBjb25zdCBzaG93UGxhY2Vob2xkZXIgPSB0aGlzLnNlbGVjdGVkID8gZmFsc2UgOiB0aGlzLmFjdGl2ZSA/ICF0aGlzLnBhdHRlcm4gJiYgIXRoaXMuaXNDb21wb3NpbmcgOiB0cnVlO1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBzaG93UGxhY2Vob2xkZXIgPyBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXIgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlgXG4gICAgICB9LCBoKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXJfX2lubmVyYFxuICAgICAgfSwgdGhpcy5wbGFjZWhvbGRlcikpIDogbnVsbDtcbiAgICAgIGNvbnN0IHBvcG92ZXJUcmlnZ2VyID0gZmlsdGVyYWJsZSA/IGgoXCJkaXZcIiwge1xuICAgICAgICByZWY6IFwicGF0dGVybklucHV0V3JhcHBlclJlZlwiLFxuICAgICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi10YWdzYFxuICAgICAgfSwgdGFncywgbWF4VGFnQ291bnRSZXNwb25zaXZlID8gbnVsbCA6IGlucHV0LCBzdWZmaXgpIDogaChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogXCJtdWx0aXBsZUVsUmVmXCIsXG4gICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLXRhZ3NgLFxuICAgICAgICB0YWJpbmRleDogZGlzYWJsZWQgPyB1bmRlZmluZWQgOiAwXG4gICAgICB9LCB0YWdzLCBzdWZmaXgpO1xuICAgICAgYm9keSA9IGgoRnJhZ21lbnQsIG51bGwsIHVzZU1heFRhZ0NvdW50ID8gaChOUG9wb3ZlciwgT2JqZWN0LmFzc2lnbih7fSwgcG9wb3ZlclByb3BzLCB7XG4gICAgICAgIHNjcm9sbGFibGU6IHRydWUsXG4gICAgICAgIHN0eWxlOiBcIm1heC1oZWlnaHQ6IGNhbGModmFyKC0tdi10YXJnZXQtaGVpZ2h0KSAqIDYuNik7XCJcbiAgICAgIH0pLCB7XG4gICAgICAgIHRyaWdnZXI6ICgpID0+IHBvcG92ZXJUcmlnZ2VyLFxuICAgICAgICBkZWZhdWx0OiByZW5kZXJQb3BvdmVyXG4gICAgICB9KSA6IHBvcG92ZXJUcmlnZ2VyLCBwbGFjZWhvbGRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaWx0ZXJhYmxlKSB7XG4gICAgICAgIGNvbnN0IGhhc0lucHV0ID0gdGhpcy5wYXR0ZXJuIHx8IHRoaXMuaXNDb21wb3Npbmc7XG4gICAgICAgIGNvbnN0IHNob3dQbGFjZWhvbGRlciA9IHRoaXMuYWN0aXZlID8gIWhhc0lucHV0IDogIXRoaXMuc2VsZWN0ZWQ7XG4gICAgICAgIGNvbnN0IHNob3dTZWxlY3RlZExhYmVsID0gdGhpcy5hY3RpdmUgPyBmYWxzZSA6IHRoaXMuc2VsZWN0ZWQ7XG4gICAgICAgIGJvZHkgPSBoKFwiZGl2XCIsIHtcbiAgICAgICAgICByZWY6IFwicGF0dGVybklucHV0V3JhcHBlclJlZlwiLFxuICAgICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWxhYmVsYCxcbiAgICAgICAgICB0aXRsZTogdGhpcy5wYXR0ZXJuSW5wdXRGb2N1c2VkID8gdW5kZWZpbmVkIDogZ2V0VGl0bGVBdHRyaWJ1dGUodGhpcy5sYWJlbClcbiAgICAgICAgfSwgaChcImlucHV0XCIsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW5wdXRQcm9wcywge1xuICAgICAgICAgIHJlZjogXCJwYXR0ZXJuSW5wdXRSZWZcIixcbiAgICAgICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi1pbnB1dGAsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuYWN0aXZlID8gdGhpcy5wYXR0ZXJuIDogJycsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgICAgICAgcmVhZG9ubHk6IGRpc2FibGVkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICB0YWJpbmRleDogLTEsXG4gICAgICAgICAgYXV0b2ZvY3VzOiB0aGlzLmF1dG9mb2N1cyxcbiAgICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZVBhdHRlcm5JbnB1dEZvY3VzLFxuICAgICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVQYXR0ZXJuSW5wdXRCbHVyLFxuICAgICAgICAgIG9uSW5wdXQ6IHRoaXMuaGFuZGxlUGF0dGVybklucHV0SW5wdXQsXG4gICAgICAgICAgb25Db21wb3NpdGlvbnN0YXJ0OiB0aGlzLmhhbmRsZUNvbXBvc2l0aW9uU3RhcnQsXG4gICAgICAgICAgb25Db21wb3NpdGlvbmVuZDogdGhpcy5oYW5kbGVDb21wb3NpdGlvbkVuZFxuICAgICAgICB9KSksIHNob3dTZWxlY3RlZExhYmVsID8gaChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tbGFiZWxfX3JlbmRlci1sYWJlbCAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tb3ZlcmxheWAsXG4gICAgICAgICAga2V5OiBcImlucHV0XCJcbiAgICAgICAgfSwgaChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tb3ZlcmxheV9fd3JhcHBlcmBcbiAgICAgICAgfSwgcmVuZGVyVGFnID8gcmVuZGVyVGFnKHtcbiAgICAgICAgICBvcHRpb246IHRoaXMuc2VsZWN0ZWRPcHRpb24sXG4gICAgICAgICAgaGFuZGxlQ2xvc2U6ICgpID0+IHt9XG4gICAgICAgIH0pIDogcmVuZGVyTGFiZWwgPyByZW5kZXJMYWJlbCh0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKSA6IHJlbmRlcih0aGlzLmxhYmVsLCB0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKSkpIDogbnVsbCwgc2hvd1BsYWNlaG9sZGVyID8gaChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXIgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlgLFxuICAgICAgICAgIGtleTogXCJwbGFjZWhvbGRlclwiXG4gICAgICAgIH0sIGgoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlfX3dyYXBwZXJgXG4gICAgICAgIH0sIHRoaXMuZmlsdGVyYWJsZVBsYWNlaG9sZGVyKSkgOiBudWxsLCBzdWZmaXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keSA9IGgoXCJkaXZcIiwge1xuICAgICAgICAgIHJlZjogXCJzaW5nbGVFbFJlZlwiLFxuICAgICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLWxhYmVsYCxcbiAgICAgICAgICB0YWJpbmRleDogdGhpcy5kaXNhYmxlZCA/IHVuZGVmaW5lZCA6IDBcbiAgICAgICAgfSwgdGhpcy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gaChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24taW5wdXRgLFxuICAgICAgICAgIHRpdGxlOiBnZXRUaXRsZUF0dHJpYnV0ZSh0aGlzLmxhYmVsKSxcbiAgICAgICAgICBrZXk6IFwiaW5wdXRcIlxuICAgICAgICB9LCBoKFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi1pbnB1dF9fY29udGVudGBcbiAgICAgICAgfSwgcmVuZGVyVGFnID8gcmVuZGVyVGFnKHtcbiAgICAgICAgICBvcHRpb246IHRoaXMuc2VsZWN0ZWRPcHRpb24sXG4gICAgICAgICAgaGFuZGxlQ2xvc2U6ICgpID0+IHt9XG4gICAgICAgIH0pIDogcmVuZGVyTGFiZWwgPyByZW5kZXJMYWJlbCh0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKSA6IHJlbmRlcih0aGlzLmxhYmVsLCB0aGlzLnNlbGVjdGVkT3B0aW9uLCB0cnVlKSkpIDogaChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3M6IGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tcGxhY2Vob2xkZXIgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLW92ZXJsYXlgLFxuICAgICAgICAgIGtleTogXCJwbGFjZWhvbGRlclwiXG4gICAgICAgIH0sIGgoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLXBsYWNlaG9sZGVyX19pbm5lcmBcbiAgICAgICAgfSwgdGhpcy5wbGFjZWhvbGRlcikpLCBzdWZmaXgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICByZWY6IFwic2VsZlJlZlwiLFxuICAgICAgY2xhc3M6IFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uYCwgdGhpcy5ydGxFbmFibGVkICYmIGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tLXJ0bGAsIHRoaXMudGhlbWVDbGFzcywgc3RhdHVzICYmIGAke2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tLSR7c3RhdHVzfS1zdGF0dXNgLCB7XG4gICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS1hY3RpdmVgXTogdGhpcy5hY3RpdmUsXG4gICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS1zZWxlY3RlZGBdOiB0aGlzLnNlbGVjdGVkIHx8IHRoaXMuYWN0aXZlICYmIHRoaXMucGF0dGVybixcbiAgICAgICAgW2Ake2Nsc1ByZWZpeH0tYmFzZS1zZWxlY3Rpb24tLWRpc2FibGVkYF06IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgIFtgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uLS1tdWx0aXBsZWBdOiB0aGlzLm11bHRpcGxlLFxuICAgICAgICAvLyBmb2N1cyBpcyBub3QgY29udHJvbGxlZCBieSBzZWxlY3Rpb24gaXRzZWxmIHNpbmNlIGl0IGFsd2F5cyBuZWVkXG4gICAgICAgIC8vIHRvIGJlIG1hbmFnZWQgdG9nZXRoZXIgd2l0aCBtZW51LiBwcm92aWRlIDpmb2N1cyBzdHlsZSB3aWxsIGNhdXNlXG4gICAgICAgIC8vIG1hbnkgcmVkdW5kYW50IGNvZGVzLlxuICAgICAgICBbYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbi0tZm9jdXNgXTogdGhpcy5mb2N1c2VkXG4gICAgICB9XSxcbiAgICAgIHN0eWxlOiB0aGlzLmNzc1ZhcnMsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssXG4gICAgICBvbk1vdXNlZW50ZXI6IHRoaXMuaGFuZGxlTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VsZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLFxuICAgICAgb25LZXlkb3duOiB0aGlzLm9uS2V5ZG93bixcbiAgICAgIG9uRm9jdXNpbjogdGhpcy5oYW5kbGVGb2N1c2luLFxuICAgICAgb25Gb2N1c291dDogdGhpcy5oYW5kbGVGb2N1c291dCxcbiAgICAgIG9uTW91c2Vkb3duOiB0aGlzLmhhbmRsZU1vdXNlRG93blxuICAgIH0sIGJvZHksIGJvcmRlcmVkID8gaChcImRpdlwiLCB7XG4gICAgICBjbGFzczogYCR7Y2xzUHJlZml4fS1iYXNlLXNlbGVjdGlvbl9fYm9yZGVyYFxuICAgIH0pIDogbnVsbCwgYm9yZGVyZWQgPyBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc2VsZWN0aW9uX19zdGF0ZS1ib3JkZXJgXG4gICAgfSkgOiBudWxsKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgYywgY0IsIGNFLCBjTSwgY05vdE0gfSBmcm9tIFwiLi4vLi4vLi4vLi4vX3V0aWxzL2Nzc3IvaW5kZXgubWpzXCI7XG4vLyB2YXJzOlxuLy8gLS1uLWJlemllclxuLy8gLS1uLWJvcmRlclxuLy8gLS1uLWJvcmRlci1hY3RpdmVcbi8vIC0tbi1ib3JkZXItZm9jdXNcbi8vIC0tbi1ib3JkZXItaG92ZXJcbi8vIC0tbi1ib3JkZXItcmFkaXVzXG4vLyAtLW4tYm94LXNoYWRvdy1hY3RpdmVcbi8vIC0tbi1ib3gtc2hhZG93LWZvY3VzXG4vLyAtLW4tYm94LXNoYWRvdy1ob3ZlclxuLy8gLS1uLWNhcmV0LWNvbG9yXG4vLyAtLW4tY29sb3Jcbi8vIC0tbi1jb2xvci1hY3RpdmVcbi8vIC0tbi1jb2xvci1kaXNhYmxlZFxuLy8gLS1uLWZvbnQtc2l6ZVxuLy8gLS1uLWhlaWdodFxuLy8gLS1uLXBhZGRpbmctc2luZ2xlXG4vLyAtLW4tcGFkZGluZy1tdWx0aXBsZVxuLy8gLS1uLXBsYWNlaG9sZGVyLWNvbG9yXG4vLyAtLW4tcGxhY2Vob2xkZXItY29sb3ItZGlzYWJsZWRcbi8vIC0tbi10ZXh0LWNvbG9yXG4vLyAtLW4tdGV4dC1jb2xvci1kaXNhYmxlZFxuLy8gLS1uLWFycm93LWNvbG9yXG4vLyAtLW4tYXJyb3ctc2l6ZVxuLy8gLS1uLWxvYWRpbmctY29sb3Jcbi8vIC4uLmNsZWFyIHZhcnNcbi8vIC4uLmZvcm0gaXRlbSB2YXJzXG5leHBvcnQgZGVmYXVsdCBjKFtjQignYmFzZS1zZWxlY3Rpb24nLCBgXG4gLS1uLXBhZGRpbmctc2luZ2xlOiB2YXIoLS1uLXBhZGRpbmctc2luZ2xlLXRvcCkgdmFyKC0tbi1wYWRkaW5nLXNpbmdsZS1yaWdodCkgdmFyKC0tbi1wYWRkaW5nLXNpbmdsZS1ib3R0b20pIHZhcigtLW4tcGFkZGluZy1zaW5nbGUtbGVmdCk7XG4gLS1uLXBhZGRpbmctbXVsdGlwbGU6IHZhcigtLW4tcGFkZGluZy1tdWx0aXBsZS10b3ApIHZhcigtLW4tcGFkZGluZy1tdWx0aXBsZS1yaWdodCkgdmFyKC0tbi1wYWRkaW5nLW11bHRpcGxlLWJvdHRvbSkgdmFyKC0tbi1wYWRkaW5nLW11bHRpcGxlLWxlZnQpO1xuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiB6LWluZGV4OiBhdXRvO1xuIGJveC1zaGFkb3c6IG5vbmU7XG4gd2lkdGg6IDEwMCU7XG4gbWF4LXdpZHRoOiAxMDAlO1xuIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xuIGJvcmRlci1yYWRpdXM6IHZhcigtLW4tYm9yZGVyLXJhZGl1cyk7XG4gbWluLWhlaWdodDogdmFyKC0tbi1oZWlnaHQpO1xuIGxpbmUtaGVpZ2h0OiAxLjU7XG4gZm9udC1zaXplOiB2YXIoLS1uLWZvbnQtc2l6ZSk7XG4gYCwgW2NCKCdiYXNlLWxvYWRpbmcnLCBgXG4gY29sb3I6IHZhcigtLW4tbG9hZGluZy1jb2xvcik7XG4gYCksIGNCKCdiYXNlLXNlbGVjdGlvbi10YWdzJywgJ21pbi1oZWlnaHQ6IHZhcigtLW4taGVpZ2h0KTsnKSwgY0UoJ2JvcmRlciwgc3RhdGUtYm9yZGVyJywgYFxuIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiBsZWZ0OiAwO1xuIHJpZ2h0OiAwO1xuIHRvcDogMDtcbiBib3R0b206IDA7XG4gcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlcik7XG4gYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiB0cmFuc2l0aW9uOlxuIGJveC1zaGFkb3cgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBib3JkZXItY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKSwgY0UoJ3N0YXRlLWJvcmRlcicsIGBcbiB6LWluZGV4OiAxO1xuIGJvcmRlci1jb2xvcjogIzAwMDA7XG4gYCksIGNCKCdiYXNlLXN1ZmZpeCcsIGBcbiBjdXJzb3I6IHBvaW50ZXI7XG4gcG9zaXRpb246IGFic29sdXRlO1xuIHRvcDogNTAlO1xuIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiByaWdodDogMTBweDtcbiBgLCBbY0UoJ2Fycm93JywgYFxuIGZvbnQtc2l6ZTogdmFyKC0tbi1hcnJvdy1zaXplKTtcbiBjb2xvcjogdmFyKC0tbi1hcnJvdy1jb2xvcik7XG4gdHJhbnNpdGlvbjogY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKV0pLCBjQignYmFzZS1zZWxlY3Rpb24tb3ZlcmxheScsIGBcbiBkaXNwbGF5OiBmbGV4O1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiBwb2ludGVyLWV2ZW50czogbm9uZTtcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gdG9wOiAwO1xuIHJpZ2h0OiAwO1xuIGJvdHRvbTogMDtcbiBsZWZ0OiAwO1xuIHBhZGRpbmc6IHZhcigtLW4tcGFkZGluZy1zaW5nbGUpO1xuIHRyYW5zaXRpb246IGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYCwgW2NFKCd3cmFwcGVyJywgYFxuIGZsZXgtYmFzaXM6IDA7XG4gZmxleC1ncm93OiAxO1xuIG92ZXJmbG93OiBoaWRkZW47XG4gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gYCldKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXBsYWNlaG9sZGVyJywgYFxuIGNvbG9yOiB2YXIoLS1uLXBsYWNlaG9sZGVyLWNvbG9yKTtcbiBgLCBbY0UoJ2lubmVyJywgYFxuIG1heC13aWR0aDogMTAwJTtcbiBvdmVyZmxvdzogaGlkZGVuO1xuIGApXSksIGNCKCdiYXNlLXNlbGVjdGlvbi10YWdzJywgYFxuIGN1cnNvcjogcG9pbnRlcjtcbiBvdXRsaW5lOiBub25lO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIHotaW5kZXg6IGF1dG87XG4gZGlzcGxheTogZmxleDtcbiBwYWRkaW5nOiB2YXIoLS1uLXBhZGRpbmctbXVsdGlwbGUpO1xuIGZsZXgtd3JhcDogd3JhcDtcbiBhbGlnbi1pdGVtczogY2VudGVyO1xuIHdpZHRoOiAxMDAlO1xuIHZlcnRpY2FsLWFsaWduOiBib3R0b207XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvcik7XG4gYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiB0cmFuc2l0aW9uOlxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllciksXG4gYm94LXNoYWRvdyAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJhY2tncm91bmQtY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLWxhYmVsJywgYFxuIGhlaWdodDogdmFyKC0tbi1oZWlnaHQpO1xuIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuIHdpZHRoOiAxMDAlO1xuIHZlcnRpY2FsLWFsaWduOiBib3R0b207XG4gY3Vyc29yOiBwb2ludGVyO1xuIG91dGxpbmU6IG5vbmU7XG4gei1pbmRleDogYXV0bztcbiBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiB0cmFuc2l0aW9uOlxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllciksXG4gYm94LXNoYWRvdyAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJhY2tncm91bmQtY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3IpO1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gYCwgW2NCKCdiYXNlLXNlbGVjdGlvbi1pbnB1dCcsIGBcbiBmb250LXNpemU6IGluaGVyaXQ7XG4gbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gb3V0bGluZTogbm9uZTtcbiBjdXJzb3I6IHBvaW50ZXI7XG4gYm94LXNpemluZzogYm9yZGVyLWJveDtcbiBib3JkZXI6bm9uZTtcbiB3aWR0aDogMTAwJTtcbiBwYWRkaW5nOiB2YXIoLS1uLXBhZGRpbmctc2luZ2xlKTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDtcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yKTtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGNhcmV0LWNvbG9yOiB2YXIoLS1uLWNhcmV0LWNvbG9yKTtcbiBgLCBbY0UoJ2NvbnRlbnQnLCBgXG4gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gb3ZlcmZsb3c6IGhpZGRlbjtcbiB3aGl0ZS1zcGFjZTogbm93cmFwOyBcbiBgKV0pLCBjRSgncmVuZGVyLWxhYmVsJywgYFxuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3IpO1xuIGApXSksIGNOb3RNKCdkaXNhYmxlZCcsIFtjKCcmOmhvdmVyJywgW2NFKCdzdGF0ZS1ib3JkZXInLCBgXG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93LWhvdmVyKTtcbiBib3JkZXI6IHZhcigtLW4tYm9yZGVyLWhvdmVyKTtcbiBgKV0pLCBjTSgnZm9jdXMnLCBbY0UoJ3N0YXRlLWJvcmRlcicsIGBcbiBib3gtc2hhZG93OiB2YXIoLS1uLWJveC1zaGFkb3ctZm9jdXMpO1xuIGJvcmRlcjogdmFyKC0tbi1ib3JkZXItZm9jdXMpO1xuIGApXSksIGNNKCdhY3RpdmUnLCBbY0UoJ3N0YXRlLWJvcmRlcicsIGBcbiBib3gtc2hhZG93OiB2YXIoLS1uLWJveC1zaGFkb3ctYWN0aXZlKTtcbiBib3JkZXI6IHZhcigtLW4tYm9yZGVyLWFjdGl2ZSk7XG4gYCksIGNCKCdiYXNlLXNlbGVjdGlvbi1sYWJlbCcsICdiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWFjdGl2ZSk7JyksIGNCKCdiYXNlLXNlbGVjdGlvbi10YWdzJywgJ2JhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItYWN0aXZlKTsnKV0pXSksIGNNKCdkaXNhYmxlZCcsICdjdXJzb3I6IG5vdC1hbGxvd2VkOycsIFtjRSgnYXJyb3cnLCBgXG4gY29sb3I6IHZhcigtLW4tYXJyb3ctY29sb3ItZGlzYWJsZWQpO1xuIGApLCBjQignYmFzZS1zZWxlY3Rpb24tbGFiZWwnLCBgXG4gY3Vyc29yOiBub3QtYWxsb3dlZDtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWRpc2FibGVkKTtcbiBgLCBbY0IoJ2Jhc2Utc2VsZWN0aW9uLWlucHV0JywgYFxuIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvci1kaXNhYmxlZCk7XG4gYCksIGNFKCdyZW5kZXItbGFiZWwnLCBgXG4gY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvci1kaXNhYmxlZCk7XG4gYCldKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXRhZ3MnLCBgXG4gY3Vyc29yOiBub3QtYWxsb3dlZDtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWRpc2FibGVkKTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXBsYWNlaG9sZGVyJywgYFxuIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gY29sb3I6IHZhcigtLW4tcGxhY2Vob2xkZXItY29sb3ItZGlzYWJsZWQpO1xuIGApXSksIGNCKCdiYXNlLXNlbGVjdGlvbi1pbnB1dC10YWcnLCBgXG4gaGVpZ2h0OiBjYWxjKHZhcigtLW4taGVpZ2h0KSAtIDZweCk7XG4gbGluZS1oZWlnaHQ6IGNhbGModmFyKC0tbi1oZWlnaHQpIC0gNnB4KTtcbiBvdXRsaW5lOiBub25lO1xuIGRpc3BsYXk6IG5vbmU7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIG1hcmdpbi1ib3R0b206IDNweDtcbiBtYXgtd2lkdGg6IDEwMCU7XG4gdmVydGljYWwtYWxpZ246IGJvdHRvbTtcbiBgLCBbY0UoJ2lucHV0JywgYFxuIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiBmb250LWZhbWlseTogaW5oZXJpdDtcbiBtaW4td2lkdGg6IDFweDtcbiBwYWRkaW5nOiAwO1xuIGJhY2tncm91bmQtY29sb3I6ICMwMDAwO1xuIG91dGxpbmU6IG5vbmU7XG4gYm9yZGVyOiBub25lO1xuIG1heC13aWR0aDogMTAwJTtcbiBvdmVyZmxvdzogaGlkZGVuO1xuIHdpZHRoOiAxZW07XG4gbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gY3Vyc29yOiBwb2ludGVyO1xuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3IpO1xuIGNhcmV0LWNvbG9yOiB2YXIoLS1uLWNhcmV0LWNvbG9yKTtcbiBgKSwgY0UoJ21pcnJvcicsIGBcbiBwb3NpdGlvbjogYWJzb2x1dGU7XG4gbGVmdDogMDtcbiB0b3A6IDA7XG4gd2hpdGUtc3BhY2U6IHByZTtcbiB2aXNpYmlsaXR5OiBoaWRkZW47XG4gdXNlci1zZWxlY3Q6IG5vbmU7XG4gLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiBvcGFjaXR5OiAwO1xuIGApXSksIFsnd2FybmluZycsICdlcnJvciddLm1hcChzdGF0dXMgPT4gY00oYCR7c3RhdHVzfS1zdGF0dXNgLCBbY0UoJ3N0YXRlLWJvcmRlcicsIGBib3JkZXI6IHZhcigtLW4tYm9yZGVyLSR7c3RhdHVzfSk7YCksIGNOb3RNKCdkaXNhYmxlZCcsIFtjKCcmOmhvdmVyJywgW2NFKCdzdGF0ZS1ib3JkZXInLCBgXG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93LWhvdmVyLSR7c3RhdHVzfSk7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlci1ob3Zlci0ke3N0YXR1c30pO1xuIGApXSksIGNNKCdhY3RpdmUnLCBbY0UoJ3N0YXRlLWJvcmRlcicsIGBcbiBib3gtc2hhZG93OiB2YXIoLS1uLWJveC1zaGFkb3ctYWN0aXZlLSR7c3RhdHVzfSk7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlci1hY3RpdmUtJHtzdGF0dXN9KTtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLWxhYmVsJywgYGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItYWN0aXZlLSR7c3RhdHVzfSk7YCksIGNCKCdiYXNlLXNlbGVjdGlvbi10YWdzJywgYGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItYWN0aXZlLSR7c3RhdHVzfSk7YCldKSwgY00oJ2ZvY3VzJywgW2NFKCdzdGF0ZS1ib3JkZXInLCBgXG4gYm94LXNoYWRvdzogdmFyKC0tbi1ib3gtc2hhZG93LWZvY3VzLSR7c3RhdHVzfSk7XG4gYm9yZGVyOiB2YXIoLS1uLWJvcmRlci1mb2N1cy0ke3N0YXR1c30pO1xuIGApXSldKV0pKV0pLCBjQignYmFzZS1zZWxlY3Rpb24tcG9wb3ZlcicsIGBcbiBtYXJnaW4tYm90dG9tOiAtM3B4O1xuIGRpc3BsYXk6IGZsZXg7XG4gZmxleC13cmFwOiB3cmFwO1xuIG1hcmdpbi1yaWdodDogLThweDtcbiBgKSwgY0IoJ2Jhc2Utc2VsZWN0aW9uLXRhZy13cmFwcGVyJywgYFxuIG1heC13aWR0aDogMTAwJTtcbiBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiBwYWRkaW5nOiAwIDdweCAzcHggMDtcbiBgLCBbYygnJjpsYXN0LWNoaWxkJywgJ3BhZGRpbmctcmlnaHQ6IDA7JyksIGNCKCd0YWcnLCBgXG4gZm9udC1zaXplOiAxNHB4O1xuIG1heC13aWR0aDogMTAwJTtcbiBgLCBbY0UoJ2NvbnRlbnQnLCBgXG4gbGluZS1oZWlnaHQ6IDEuMjU7XG4gdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gb3ZlcmZsb3c6IGhpZGRlbjtcbiBgKV0pXSldKTsiLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IE5CYXNlQ2xlYXIgZnJvbSBcIi4uLy4uL2NsZWFyL2luZGV4Lm1qc1wiO1xuaW1wb3J0IE5CYXNlTG9hZGluZyBmcm9tIFwiLi4vLi4vbG9hZGluZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IE5CYXNlSWNvbiB9IGZyb20gXCIuLi8uLi9pY29uL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgQ2hldnJvbkRvd25JY29uIH0gZnJvbSBcIi4uLy4uL2ljb25zL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgcmVzb2x2ZVNsb3QgfSBmcm9tIFwiLi4vLi4vLi4vX3V0aWxzL3Z1ZS9pbmRleC5tanNcIjtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdJbnRlcm5hbFNlbGVjdGlvblN1ZmZpeCcsXG4gIHByb3BzOiB7XG4gICAgY2xzUHJlZml4OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgc2hvd0Fycm93OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gICAgfSxcbiAgICBzaG93Q2xlYXI6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9LFxuICAgIGxvYWRpbmc6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgb25DbGVhcjogRnVuY3Rpb25cbiAgfSxcbiAgc2V0dXAocHJvcHMsIHtcbiAgICBzbG90c1xuICB9KSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2xzUHJlZml4XG4gICAgICB9ID0gcHJvcHM7XG4gICAgICByZXR1cm4gaChOQmFzZUxvYWRpbmcsIHtcbiAgICAgICAgY2xzUHJlZml4OiBjbHNQcmVmaXgsXG4gICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc3VmZml4YCxcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDI0LFxuICAgICAgICBzY2FsZTogMC44NSxcbiAgICAgICAgc2hvdzogcHJvcHMubG9hZGluZ1xuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBwcm9wcy5zaG93QXJyb3cgPyBoKE5CYXNlQ2xlYXIsIHtcbiAgICAgICAgICBjbHNQcmVmaXg6IGNsc1ByZWZpeCxcbiAgICAgICAgICBzaG93OiBwcm9wcy5zaG93Q2xlYXIsXG4gICAgICAgICAgb25DbGVhcjogcHJvcHMub25DbGVhclxuICAgICAgICB9LCB7XG4gICAgICAgICAgcGxhY2Vob2xkZXI6ICgpID0+IGgoTkJhc2VJY29uLCB7XG4gICAgICAgICAgICBjbHNQcmVmaXg6IGNsc1ByZWZpeCxcbiAgICAgICAgICAgIGNsYXNzOiBgJHtjbHNQcmVmaXh9LWJhc2Utc3VmZml4X19hcnJvd2BcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiByZXNvbHZlU2xvdChzbG90cy5kZWZhdWx0LCAoKSA9PiBbaChDaGV2cm9uRG93bkljb24sIG51bGwpXSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KSA6IG51bGxcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn0pOyIsImltcG9ydCB7IG9uQmVmb3JlVW5tb3VudCwgb25Nb3VudGVkIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHJlc2l6ZU9ic2VydmVyTWFuYWdlciB9IGZyb20gJ3Z1ZXVjJztcbmV4cG9ydCBmdW5jdGlvbiB1c2VPblJlc2l6ZShlbFJlZiwgb25SZXNpemUpIHtcbiAgLy8gaXQgbmVlZG4ndCBiZSByZWFjdGl2ZSBzaW5jZSBpdCdzIGZvciBpbnRlcm5hbCB1c2FnZVxuICBpZiAob25SZXNpemUpIHtcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogZWxcbiAgICAgIH0gPSBlbFJlZjtcbiAgICAgIGlmIChlbCkge1xuICAgICAgICByZXNpemVPYnNlcnZlck1hbmFnZXIucmVnaXN0ZXJIYW5kbGVyKGVsLCBvblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IGVsXG4gICAgICB9ID0gZWxSZWY7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXJNYW5hZ2VyLnVucmVnaXN0ZXJIYW5kbGVyKGVsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsImNvbnN0IGV2ZW50U2V0ID0gbmV3IFdlYWtTZXQoKTtcbmV4cG9ydCBmdW5jdGlvbiBtYXJrRXZlbnRFZmZlY3RQZXJmb3JtZWQoZXZlbnQpIHtcbiAgZXZlbnRTZXQuYWRkKGV2ZW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBldmVudEVmZmVjdE5vdFBlcmZvcm1lZChldmVudCkge1xuICByZXR1cm4gIWV2ZW50U2V0LmhhcyhldmVudCk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlQXR0cmlidXRlKHZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIC8vIFRoZSBlbXB0eSBzdHJpbmcgc2hvdWxkIGFsc28gYmUgcmVzZXQgdG8gdW5kZWZpbmVkLlxuICAgICAgcmV0dXJuIHZhbHVlIHx8IHVuZGVmaW5lZDtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gbWVyZ2VFdmVudEhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gIGNvbnN0IGZpbHRlcmVkSGFuZGxlcnMgPSBoYW5kbGVycy5maWx0ZXIoaGFuZGxlciA9PiBoYW5kbGVyICE9PSB1bmRlZmluZWQpO1xuICBpZiAoZmlsdGVyZWRIYW5kbGVycy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gIGlmIChmaWx0ZXJlZEhhbmRsZXJzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGZpbHRlcmVkSGFuZGxlcnNbMF07XG4gIHJldHVybiBlID0+IHtcbiAgICBoYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlcihlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0iLCJpbXBvcnQgeyBjcmVhdGVUZXh0Vk5vZGUgfSBmcm9tICd2dWUnO1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChyLCAuLi5hcmdzKSA9PiB7XG4gIGlmICh0eXBlb2YgciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiByKC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjcmVhdGVUZXh0Vk5vZGUocik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHIgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRleHRWTm9kZShTdHJpbmcocikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59OyIsImltcG9ydCB7IGgsIGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIGluamVjdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBjb25maWdQcm92aWRlckluamVjdGlvbktleSB9IGZyb20gXCIuLi8uLi9jb25maWctcHJvdmlkZXIvc3JjL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBOQmFzZUljb24gfSBmcm9tIFwiLi4vLi4vX2ludGVybmFsL2ljb24vaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBFbXB0eUljb24gfSBmcm9tIFwiLi4vLi4vX2ludGVybmFsL2ljb25zL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgdXNlQ29uZmlnLCB1c2VMb2NhbGUsIHVzZVRoZW1lLCB1c2VUaGVtZUNsYXNzIH0gZnJvbSBcIi4uLy4uL19taXhpbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVLZXkgfSBmcm9tIFwiLi4vLi4vX3V0aWxzL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgZW1wdHlMaWdodCB9IGZyb20gXCIuLi9zdHlsZXMvaW5kZXgubWpzXCI7XG5pbXBvcnQgc3R5bGUgZnJvbSBcIi4vc3R5bGVzL2luZGV4LmNzc3IubWpzXCI7XG5leHBvcnQgY29uc3QgZW1wdHlQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdXNlVGhlbWUucHJvcHMpLCB7XG4gIGRlc2NyaXB0aW9uOiBTdHJpbmcsXG4gIHNob3dEZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBzaG93SWNvbjoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBzaXplOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdtZWRpdW0nXG4gIH0sXG4gIHJlbmRlckljb246IEZ1bmN0aW9uXG59KTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdFbXB0eScsXG4gIHByb3BzOiBlbXB0eVByb3BzLFxuICBzZXR1cChwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1lcmdlZENsc1ByZWZpeFJlZixcbiAgICAgIGlubGluZVRoZW1lRGlzYWJsZWRcbiAgICB9ID0gdXNlQ29uZmlnKHByb3BzKTtcbiAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdFbXB0eScsICctZW1wdHknLCBzdHlsZSwgZW1wdHlMaWdodCwgcHJvcHMsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgY29uc3Qge1xuICAgICAgbG9jYWxlUmVmXG4gICAgfSA9IHVzZUxvY2FsZSgnRW1wdHknKTtcbiAgICBjb25zdCBOQ29uZmlnUHJvdmlkZXIgPSBpbmplY3QoY29uZmlnUHJvdmlkZXJJbmplY3Rpb25LZXksIG51bGwpO1xuICAgIGNvbnN0IG1lcmdlZERlc2NyaXB0aW9uUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICByZXR1cm4gKF9hID0gcHJvcHMuZGVzY3JpcHRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYyA9IChfYiA9IE5Db25maWdQcm92aWRlciA9PT0gbnVsbCB8fCBOQ29uZmlnUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IE5Db25maWdQcm92aWRlci5tZXJnZWRDb21wb25lbnRQcm9wc1JlZi52YWx1ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLkVtcHR5KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGVzY3JpcHRpb247XG4gICAgfSk7XG4gICAgY29uc3QgbWVyZ2VkUmVuZGVySWNvblJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICByZXR1cm4gKChfYiA9IChfYSA9IE5Db25maWdQcm92aWRlciA9PT0gbnVsbCB8fCBOQ29uZmlnUHJvdmlkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IE5Db25maWdQcm92aWRlci5tZXJnZWRDb21wb25lbnRQcm9wc1JlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLkVtcHR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVuZGVySWNvbikgfHwgKCgpID0+IGgoRW1wdHlJY29uLCBudWxsKSk7XG4gICAgfSk7XG4gICAgY29uc3QgY3NzVmFyc1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2l6ZVxuICAgICAgfSA9IHByb3BzO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb21tb246IHtcbiAgICAgICAgICBjdWJpY0JlemllckVhc2VJbk91dFxuICAgICAgICB9LFxuICAgICAgICBzZWxmOiB7XG4gICAgICAgICAgW2NyZWF0ZUtleSgnaWNvblNpemUnLCBzaXplKV06IGljb25TaXplLFxuICAgICAgICAgIFtjcmVhdGVLZXkoJ2ZvbnRTaXplJywgc2l6ZSldOiBmb250U2l6ZSxcbiAgICAgICAgICB0ZXh0Q29sb3IsXG4gICAgICAgICAgaWNvbkNvbG9yLFxuICAgICAgICAgIGV4dHJhVGV4dENvbG9yXG4gICAgICAgIH1cbiAgICAgIH0gPSB0aGVtZVJlZi52YWx1ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICctLW4taWNvbi1zaXplJzogaWNvblNpemUsXG4gICAgICAgICctLW4tZm9udC1zaXplJzogZm9udFNpemUsXG4gICAgICAgICctLW4tYmV6aWVyJzogY3ViaWNCZXppZXJFYXNlSW5PdXQsXG4gICAgICAgICctLW4tdGV4dC1jb2xvcic6IHRleHRDb2xvcixcbiAgICAgICAgJy0tbi1pY29uLWNvbG9yJzogaWNvbkNvbG9yLFxuICAgICAgICAnLS1uLWV4dHJhLXRleHQtY29sb3InOiBleHRyYVRleHRDb2xvclxuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCB0aGVtZUNsYXNzSGFuZGxlID0gaW5saW5lVGhlbWVEaXNhYmxlZCA/IHVzZVRoZW1lQ2xhc3MoJ2VtcHR5JywgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2l6ZVxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaGFzaCArPSBzaXplWzBdO1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfSksIGNzc1ZhcnNSZWYsIHByb3BzKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4ge1xuICAgICAgbWVyZ2VkQ2xzUHJlZml4OiBtZXJnZWRDbHNQcmVmaXhSZWYsXG4gICAgICBtZXJnZWRSZW5kZXJJY29uOiBtZXJnZWRSZW5kZXJJY29uUmVmLFxuICAgICAgbG9jYWxpemVkRGVzY3JpcHRpb246IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG1lcmdlZERlc2NyaXB0aW9uUmVmLnZhbHVlIHx8IGxvY2FsZVJlZi52YWx1ZS5kZXNjcmlwdGlvbjtcbiAgICAgIH0pLFxuICAgICAgY3NzVmFyczogaW5saW5lVGhlbWVEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGNzc1ZhcnNSZWYsXG4gICAgICB0aGVtZUNsYXNzOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUudGhlbWVDbGFzcyxcbiAgICAgIG9uUmVuZGVyOiB0aGVtZUNsYXNzSGFuZGxlID09PSBudWxsIHx8IHRoZW1lQ2xhc3NIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZW1lQ2xhc3NIYW5kbGUub25SZW5kZXJcbiAgICB9O1xuICB9LFxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgJHNsb3RzLFxuICAgICAgbWVyZ2VkQ2xzUHJlZml4LFxuICAgICAgb25SZW5kZXJcbiAgICB9ID0gdGhpcztcbiAgICBvblJlbmRlciA9PT0gbnVsbCB8fCBvblJlbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZW5kZXIoKTtcbiAgICByZXR1cm4gaChcImRpdlwiLCB7XG4gICAgICBjbGFzczogW2Ake21lcmdlZENsc1ByZWZpeH0tZW1wdHlgLCB0aGlzLnRoZW1lQ2xhc3NdLFxuICAgICAgc3R5bGU6IHRoaXMuY3NzVmFyc1xuICAgIH0sIHRoaXMuc2hvd0ljb24gPyBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LWVtcHR5X19pY29uYFxuICAgIH0sICRzbG90cy5pY29uID8gJHNsb3RzLmljb24oKSA6IGgoTkJhc2VJY29uLCB7XG4gICAgICBjbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeFxuICAgIH0sIHtcbiAgICAgIGRlZmF1bHQ6IHRoaXMubWVyZ2VkUmVuZGVySWNvblxuICAgIH0pKSA6IG51bGwsIHRoaXMuc2hvd0Rlc2NyaXB0aW9uID8gaChcImRpdlwiLCB7XG4gICAgICBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS1lbXB0eV9fZGVzY3JpcHRpb25gXG4gICAgfSwgJHNsb3RzLmRlZmF1bHQgPyAkc2xvdHMuZGVmYXVsdCgpIDogdGhpcy5sb2NhbGl6ZWREZXNjcmlwdGlvbikgOiBudWxsLCAkc2xvdHMuZXh0cmEgPyBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LWVtcHR5X19leHRyYWBcbiAgICB9LCAkc2xvdHMuZXh0cmEoKSkgOiBudWxsKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgYywgY0IsIGNFIH0gZnJvbSBcIi4uLy4uLy4uL191dGlscy9jc3NyL2luZGV4Lm1qc1wiO1xuLy8gdmFyczpcbi8vIC0tbi1mb250LXNpemVcbi8vIC0tbi1pY29uLXNpemVcbi8vIC0tbi1pY29uLWNvbG9yXG4vLyAtLW4tYmV6aWVyXG4vLyAtLW4tdGV4dC1jb2xvclxuLy8gLS1uLWV4dHJhLXRleHQtY29sb3JcbmV4cG9ydCBkZWZhdWx0IGNCKCdlbXB0eScsIGBcbiBkaXNwbGF5OiBmbGV4O1xuIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBmb250LXNpemU6IHZhcigtLW4tZm9udC1zaXplKTtcbmAsIFtjRSgnaWNvbicsIGBcbiB3aWR0aDogdmFyKC0tbi1pY29uLXNpemUpO1xuIGhlaWdodDogdmFyKC0tbi1pY29uLXNpemUpO1xuIGZvbnQtc2l6ZTogdmFyKC0tbi1pY29uLXNpemUpO1xuIGxpbmUtaGVpZ2h0OiB2YXIoLS1uLWljb24tc2l6ZSk7XG4gY29sb3I6IHZhcigtLW4taWNvbi1jb2xvcik7XG4gdHJhbnNpdGlvbjpcbiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGAsIFtjKCcrJywgW2NFKCdkZXNjcmlwdGlvbicsIGBcbiBtYXJnaW4tdG9wOiA4cHg7XG4gYCldKV0pLCBjRSgnZGVzY3JpcHRpb24nLCBgXG4gdHJhbnNpdGlvbjogY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yKTtcbiBgKSwgY0UoJ2V4dHJhJywgYFxuIHRleHQtYWxpZ246IGNlbnRlcjtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIG1hcmdpbi10b3A6IDEycHg7XG4gY29sb3I6IHZhcigtLW4tZXh0cmEtdGV4dC1jb2xvcik7XG4gYCldKTsiLCJpbXBvcnQgeyBoLCByZWYsIGNvbXB1dGVkLCB0b1JlZiwgZGVmaW5lQ29tcG9uZW50LCB3YXRjaCwgVHJhbnNpdGlvbiwgd2l0aERpcmVjdGl2ZXMsIHZTaG93LCB3YXRjaEVmZmVjdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBnZXRQcmVjaXNlRXZlbnRUYXJnZXQsIGhhcHBlbnNJbiB9IGZyb20gJ3NlZW1seSc7XG5pbXBvcnQgeyBjcmVhdGVUcmVlTWF0ZSB9IGZyb20gJ3RyZWVtYXRlJztcbmltcG9ydCB7IFZCaW5kZXIsIFZGb2xsb3dlciwgVlRhcmdldCB9IGZyb20gJ3Z1ZXVjJztcbmltcG9ydCB7IHVzZUlzTW91bnRlZCwgdXNlTWVyZ2VkU3RhdGUsIHVzZUNvbXBpdGFibGUgfSBmcm9tICd2b29rcyc7XG5pbXBvcnQgeyBjbGlja291dHNpZGUgfSBmcm9tICd2ZGlycyc7XG5pbXBvcnQgeyB1c2VUaGVtZSwgdXNlQ29uZmlnLCB1c2VMb2NhbGUsIHVzZUZvcm1JdGVtLCB1c2VUaGVtZUNsYXNzIH0gZnJvbSBcIi4uLy4uL19taXhpbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBjYWxsLCBtYXJrRXZlbnRFZmZlY3RQZXJmb3JtZWQsIHVzZUFkanVzdGVkVG8sIHdhcm5PbmNlIH0gZnJvbSBcIi4uLy4uL191dGlscy9pbmRleC5tanNcIjtcbmltcG9ydCB7IE5JbnRlcm5hbFNlbGVjdE1lbnUsIE5JbnRlcm5hbFNlbGVjdGlvbiB9IGZyb20gXCIuLi8uLi9faW50ZXJuYWwvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBzZWxlY3RMaWdodCB9IGZyb20gXCIuLi9zdHlsZXMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVWYWxPcHRNYXAsIGZpbHRlck9wdGlvbnMsIGNyZWF0ZVRtT3B0aW9ucywgcGF0dGVybk1hdGNoZWQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCBzdHlsZSBmcm9tIFwiLi9zdHlsZXMvaW5kZXguY3Nzci5tanNcIjtcbmV4cG9ydCBjb25zdCBzZWxlY3RQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdXNlVGhlbWUucHJvcHMpLCB7XG4gIHRvOiB1c2VBZGp1c3RlZFRvLnByb3BUbyxcbiAgYm9yZGVyZWQ6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICB9LFxuICBjbGVhcmFibGU6IEJvb2xlYW4sXG4gIGNsZWFyRmlsdGVyQWZ0ZXJTZWxlY3Q6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgb3B0aW9uczoge1xuICAgIHR5cGU6IEFycmF5LFxuICAgIGRlZmF1bHQ6ICgpID0+IFtdXG4gIH0sXG4gIGRlZmF1bHRWYWx1ZToge1xuICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlciwgQXJyYXldLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAga2V5Ym9hcmQ6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgdmFsdWU6IFtTdHJpbmcsIE51bWJlciwgQXJyYXldLFxuICBwbGFjZWhvbGRlcjogU3RyaW5nLFxuICBtZW51UHJvcHM6IE9iamVjdCxcbiAgbXVsdGlwbGU6IEJvb2xlYW4sXG4gIHNpemU6IFN0cmluZyxcbiAgZmlsdGVyYWJsZTogQm9vbGVhbixcbiAgZGlzYWJsZWQ6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICB9LFxuICByZW1vdGU6IEJvb2xlYW4sXG4gIGxvYWRpbmc6IEJvb2xlYW4sXG4gIGZpbHRlcjogRnVuY3Rpb24sXG4gIHBsYWNlbWVudDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnYm90dG9tLXN0YXJ0J1xuICB9LFxuICB3aWR0aE1vZGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3RyaWdnZXInXG4gIH0sXG4gIHRhZzogQm9vbGVhbixcbiAgb25DcmVhdGU6IEZ1bmN0aW9uLFxuICBmYWxsYmFja09wdGlvbjoge1xuICAgIHR5cGU6IFtGdW5jdGlvbiwgQm9vbGVhbl0sXG4gICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gIH0sXG4gIHNob3c6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICB9LFxuICBzaG93QXJyb3c6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgbWF4VGFnQ291bnQ6IFtOdW1iZXIsIFN0cmluZ10sXG4gIGVsbGlwc2lzVGFnUG9wb3ZlclByb3BzOiBPYmplY3QsXG4gIGNvbnNpc3RlbnRNZW51V2lkdGg6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgdmlydHVhbFNjcm9sbDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBsYWJlbEZpZWxkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdsYWJlbCdcbiAgfSxcbiAgdmFsdWVGaWVsZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAndmFsdWUnXG4gIH0sXG4gIGNoaWxkcmVuRmllbGQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2NoaWxkcmVuJ1xuICB9LFxuICByZW5kZXJMYWJlbDogRnVuY3Rpb24sXG4gIHJlbmRlck9wdGlvbjogRnVuY3Rpb24sXG4gIHJlbmRlclRhZzogRnVuY3Rpb24sXG4gICdvblVwZGF0ZTp2YWx1ZSc6IFtGdW5jdGlvbiwgQXJyYXldLFxuICBpbnB1dFByb3BzOiBPYmplY3QsXG4gIG5vZGVQcm9wczogRnVuY3Rpb24sXG4gIGlnbm9yZUNvbXBvc2l0aW9uOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIHNob3dPbkZvY3VzOiBCb29sZWFuLFxuICAvLyBmb3IganN4XG4gIG9uVXBkYXRlVmFsdWU6IFtGdW5jdGlvbiwgQXJyYXldLFxuICBvbkJsdXI6IFtGdW5jdGlvbiwgQXJyYXldLFxuICBvbkNsZWFyOiBbRnVuY3Rpb24sIEFycmF5XSxcbiAgb25Gb2N1czogW0Z1bmN0aW9uLCBBcnJheV0sXG4gIG9uU2Nyb2xsOiBbRnVuY3Rpb24sIEFycmF5XSxcbiAgb25TZWFyY2g6IFtGdW5jdGlvbiwgQXJyYXldLFxuICBvblVwZGF0ZVNob3c6IFtGdW5jdGlvbiwgQXJyYXldLFxuICAnb25VcGRhdGU6c2hvdyc6IFtGdW5jdGlvbiwgQXJyYXldLFxuICBkaXNwbGF5RGlyZWN0aXZlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdzaG93J1xuICB9LFxuICByZXNldE1lbnVPbk9wdGlvbnNDaGFuZ2U6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgc3RhdHVzOiBTdHJpbmcsXG4gIHNob3dDaGVja21hcms6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgLyoqIGRlcHJlY2F0ZWQgKi9cbiAgb25DaGFuZ2U6IFtGdW5jdGlvbiwgQXJyYXldLFxuICBpdGVtczogQXJyYXlcbn0pO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogJ1NlbGVjdCcsXG4gIHByb3BzOiBzZWxlY3RQcm9wcyxcbiAgc2V0dXAocHJvcHMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuaXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHdhcm5PbmNlKCdzZWxlY3QnLCAnYGl0ZW1zYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBvcHRpb25zYCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5vbkNoYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgd2Fybk9uY2UoJ3NlbGVjdCcsICdgb24tY2hhbmdlYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBvbi11cGRhdGU6dmFsdWVgIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBtZXJnZWRDbHNQcmVmaXhSZWYsXG4gICAgICBtZXJnZWRCb3JkZXJlZFJlZixcbiAgICAgIG5hbWVzcGFjZVJlZixcbiAgICAgIGlubGluZVRoZW1lRGlzYWJsZWRcbiAgICB9ID0gdXNlQ29uZmlnKHByb3BzKTtcbiAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdTZWxlY3QnLCAnLXNlbGVjdCcsIHN0eWxlLCBzZWxlY3RMaWdodCwgcHJvcHMsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgY29uc3QgdW5jb250cm9sbGVkVmFsdWVSZWYgPSByZWYocHJvcHMuZGVmYXVsdFZhbHVlKTtcbiAgICBjb25zdCBjb250cm9sbGVkVmFsdWVSZWYgPSB0b1JlZihwcm9wcywgJ3ZhbHVlJyk7XG4gICAgY29uc3QgbWVyZ2VkVmFsdWVSZWYgPSB1c2VNZXJnZWRTdGF0ZShjb250cm9sbGVkVmFsdWVSZWYsIHVuY29udHJvbGxlZFZhbHVlUmVmKTtcbiAgICBjb25zdCBmb2N1c2VkUmVmID0gcmVmKGZhbHNlKTtcbiAgICBjb25zdCBwYXR0ZXJuUmVmID0gcmVmKCcnKTtcbiAgICBjb25zdCB0cmVlTWF0ZVJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWVGaWVsZCxcbiAgICAgICAgY2hpbGRyZW5GaWVsZFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGNyZWF0ZVRtT3B0aW9ucyh2YWx1ZUZpZWxkLCBjaGlsZHJlbkZpZWxkKTtcbiAgICAgIHJldHVybiBjcmVhdGVUcmVlTWF0ZShmaWx0ZXJlZE9wdGlvbnNSZWYudmFsdWUsIG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIGNvbnN0IHZhbE9wdE1hcFJlZiA9IGNvbXB1dGVkKCgpID0+IGNyZWF0ZVZhbE9wdE1hcChsb2NhbE9wdGlvbnNSZWYudmFsdWUsIHByb3BzLnZhbHVlRmllbGQsIHByb3BzLmNoaWxkcmVuRmllbGQpKTtcbiAgICBjb25zdCB1bmNvbnRyb2xsZWRTaG93UmVmID0gcmVmKGZhbHNlKTtcbiAgICBjb25zdCBtZXJnZWRTaG93UmVmID0gdXNlTWVyZ2VkU3RhdGUodG9SZWYocHJvcHMsICdzaG93JyksIHVuY29udHJvbGxlZFNob3dSZWYpO1xuICAgIGNvbnN0IHRyaWdnZXJSZWYgPSByZWYobnVsbCk7XG4gICAgY29uc3QgZm9sbG93ZXJSZWYgPSByZWYobnVsbCk7XG4gICAgY29uc3QgbWVudVJlZiA9IHJlZihudWxsKTtcbiAgICBjb25zdCB7XG4gICAgICBsb2NhbGVSZWZcbiAgICB9ID0gdXNlTG9jYWxlKCdTZWxlY3QnKTtcbiAgICBjb25zdCBsb2NhbGl6ZWRQbGFjZWhvbGRlclJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSBwcm9wcy5wbGFjZWhvbGRlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbG9jYWxlUmVmLnZhbHVlLnBsYWNlaG9sZGVyO1xuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBpdGFibGVPcHRpb25zUmVmID0gdXNlQ29tcGl0YWJsZShwcm9wcywgWydpdGVtcycsICdvcHRpb25zJ10pO1xuICAgIGNvbnN0IGVtcHR5QXJyYXkgPSBbXTtcbiAgICBjb25zdCBjcmVhdGVkT3B0aW9uc1JlZiA9IHJlZihbXSk7XG4gICAgY29uc3QgYmVpbmdDcmVhdGVkT3B0aW9uc1JlZiA9IHJlZihbXSk7XG4gICAgY29uc3QgbWVtb1ZhbE9wdE1hcFJlZiA9IHJlZihuZXcgTWFwKCkpO1xuICAgIGNvbnN0IHdyYXBwZWRGYWxsYmFja09wdGlvblJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZmFsbGJhY2tPcHRpb25cbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGlmIChmYWxsYmFja09wdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBsYWJlbEZpZWxkLFxuICAgICAgICAgIHZhbHVlRmllbGRcbiAgICAgICAgfSA9IHByb3BzO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT4gKHtcbiAgICAgICAgICBbbGFiZWxGaWVsZF06IFN0cmluZyh2YWx1ZSksXG4gICAgICAgICAgW3ZhbHVlRmllbGRdOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChmYWxsYmFja09wdGlvbiA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB2YWx1ZSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGZhbGxiYWNrT3B0aW9uKHZhbHVlKSwge1xuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBsb2NhbE9wdGlvbnNSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gYmVpbmdDcmVhdGVkT3B0aW9uc1JlZi52YWx1ZS5jb25jYXQoY3JlYXRlZE9wdGlvbnNSZWYudmFsdWUpLmNvbmNhdChjb21waXRhYmxlT3B0aW9uc1JlZi52YWx1ZSk7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzb2x2ZWRGaWx0ZXJSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbHRlclxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaWYgKGZpbHRlcikgcmV0dXJuIGZpbHRlcjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbGFiZWxGaWVsZCxcbiAgICAgICAgdmFsdWVGaWVsZFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIChwYXR0ZXJuLCBvcHRpb24pID0+IHtcbiAgICAgICAgaWYgKCFvcHRpb24pIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBvcHRpb25bbGFiZWxGaWVsZF07XG4gICAgICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdHRlcm5NYXRjaGVkKHBhdHRlcm4sIGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvblt2YWx1ZUZpZWxkXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gcGF0dGVybk1hdGNoZWQocGF0dGVybiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdHRlcm5NYXRjaGVkKHBhdHRlcm4sIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgZmlsdGVyZWRPcHRpb25zUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKHByb3BzLnJlbW90ZSkge1xuICAgICAgICByZXR1cm4gY29tcGl0YWJsZU9wdGlvbnNSZWYudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmFsdWU6IGxvY2FsT3B0aW9uc1xuICAgICAgICB9ID0gbG9jYWxPcHRpb25zUmVmO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmFsdWU6IHBhdHRlcm5cbiAgICAgICAgfSA9IHBhdHRlcm5SZWY7XG4gICAgICAgIGlmICghcGF0dGVybi5sZW5ndGggfHwgIXByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxPcHRpb25zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmaWx0ZXJPcHRpb25zKGxvY2FsT3B0aW9ucywgcmVzb2x2ZWRGaWx0ZXJSZWYudmFsdWUsIHBhdHRlcm4sIHByb3BzLmNoaWxkcmVuRmllbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0TWVyZ2VkT3B0aW9ucyh2YWx1ZXMpIHtcbiAgICAgIGNvbnN0IHJlbW90ZSA9IHByb3BzLnJlbW90ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IG1lbW9WYWxPcHRNYXBcbiAgICAgIH0gPSBtZW1vVmFsT3B0TWFwUmVmO1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogdmFsT3B0TWFwXG4gICAgICB9ID0gdmFsT3B0TWFwUmVmO1xuICAgICAgY29uc3Qge1xuICAgICAgICB2YWx1ZTogd3JhcHBlZEZhbGxiYWNrT3B0aW9uXG4gICAgICB9ID0gd3JhcHBlZEZhbGxiYWNrT3B0aW9uUmVmO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICBpZiAodmFsT3B0TWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgIG9wdGlvbnMucHVzaCh2YWxPcHRNYXAuZ2V0KHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVtb3RlICYmIG1lbW9WYWxPcHRNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgb3B0aW9ucy5wdXNoKG1lbW9WYWxPcHRNYXAuZ2V0KHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAod3JhcHBlZEZhbGxiYWNrT3B0aW9uKSB7XG4gICAgICAgICAgY29uc3Qgb3B0aW9uID0gd3JhcHBlZEZhbGxiYWNrT3B0aW9uKHZhbHVlKTtcbiAgICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uc1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlc1xuICAgICAgICB9ID0gbWVyZ2VkVmFsdWVSZWY7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBnZXRNZXJnZWRPcHRpb25zKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbiAgICBjb25zdCBzZWxlY3RlZE9wdGlvblJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IG1lcmdlZFZhbHVlXG4gICAgICB9ID0gbWVyZ2VkVmFsdWVSZWY7XG4gICAgICBpZiAoIXByb3BzLm11bHRpcGxlICYmICFBcnJheS5pc0FycmF5KG1lcmdlZFZhbHVlKSkge1xuICAgICAgICBpZiAobWVyZ2VkVmFsdWUgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gZ2V0TWVyZ2VkT3B0aW9ucyhbbWVyZ2VkVmFsdWVdKVswXSB8fCBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgY29uc3QgZm9ybUl0ZW0gPSB1c2VGb3JtSXRlbShwcm9wcyk7XG4gICAgY29uc3Qge1xuICAgICAgbWVyZ2VkU2l6ZVJlZixcbiAgICAgIG1lcmdlZERpc2FibGVkUmVmLFxuICAgICAgbWVyZ2VkU3RhdHVzUmVmXG4gICAgfSA9IGZvcm1JdGVtO1xuICAgIGZ1bmN0aW9uIGRvVXBkYXRlVmFsdWUodmFsdWUsIG9wdGlvbikge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgJ29uVXBkYXRlOnZhbHVlJzogX29uVXBkYXRlVmFsdWUsXG4gICAgICAgIG9uVXBkYXRlVmFsdWVcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgblRyaWdnZXJGb3JtQ2hhbmdlLFxuICAgICAgICBuVHJpZ2dlckZvcm1JbnB1dFxuICAgICAgfSA9IGZvcm1JdGVtO1xuICAgICAgaWYgKG9uQ2hhbmdlKSBjYWxsKG9uQ2hhbmdlLCB2YWx1ZSwgb3B0aW9uKTtcbiAgICAgIGlmIChvblVwZGF0ZVZhbHVlKSBjYWxsKG9uVXBkYXRlVmFsdWUsIHZhbHVlLCBvcHRpb24pO1xuICAgICAgaWYgKF9vblVwZGF0ZVZhbHVlKSB7XG4gICAgICAgIGNhbGwoX29uVXBkYXRlVmFsdWUsIHZhbHVlLCBvcHRpb24pO1xuICAgICAgfVxuICAgICAgdW5jb250cm9sbGVkVmFsdWVSZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgIG5UcmlnZ2VyRm9ybUNoYW5nZSgpO1xuICAgICAgblRyaWdnZXJGb3JtSW5wdXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9CbHVyKGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25CbHVyXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5UcmlnZ2VyRm9ybUJsdXJcbiAgICAgIH0gPSBmb3JtSXRlbTtcbiAgICAgIGlmIChvbkJsdXIpIGNhbGwob25CbHVyLCBlKTtcbiAgICAgIG5UcmlnZ2VyRm9ybUJsdXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9DbGVhcigpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25DbGVhclxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaWYgKG9uQ2xlYXIpIGNhbGwob25DbGVhcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvRm9jdXMoZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvbkZvY3VzLFxuICAgICAgICBzaG93T25Gb2N1c1xuICAgICAgfSA9IHByb3BzO1xuICAgICAgY29uc3Qge1xuICAgICAgICBuVHJpZ2dlckZvcm1Gb2N1c1xuICAgICAgfSA9IGZvcm1JdGVtO1xuICAgICAgaWYgKG9uRm9jdXMpIGNhbGwob25Gb2N1cywgZSk7XG4gICAgICBuVHJpZ2dlckZvcm1Gb2N1cygpO1xuICAgICAgaWYgKHNob3dPbkZvY3VzKSB7XG4gICAgICAgIG9wZW5NZW51KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvU2VhcmNoKHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uU2VhcmNoXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAob25TZWFyY2gpIGNhbGwob25TZWFyY2gsIHZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9TY3JvbGwoZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvblNjcm9sbFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaWYgKG9uU2Nyb2xsKSBjYWxsKG9uU2Nyb2xsLCBlKTtcbiAgICB9XG4gICAgLy8gcmVtb3RlIHJlbGF0ZWQgbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHVwZGF0ZU1lbW9yaXplZE9wdGlvbnMoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlbW90ZSxcbiAgICAgICAgbXVsdGlwbGVcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGlmIChyZW1vdGUpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHZhbHVlOiBtZW1vVmFsT3B0TWFwXG4gICAgICAgIH0gPSBtZW1vVmFsT3B0TWFwUmVmO1xuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB2YWx1ZUZpZWxkXG4gICAgICAgICAgfSA9IHByb3BzO1xuICAgICAgICAgIChfYSA9IHNlbGVjdGVkT3B0aW9uc1JlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgIG1lbW9WYWxPcHRNYXAuc2V0KG9wdGlvblt2YWx1ZUZpZWxkXSwgb3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3RlZE9wdGlvblJlZi52YWx1ZTtcbiAgICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICBtZW1vVmFsT3B0TWFwLnNldChvcHRpb25bcHJvcHMudmFsdWVGaWVsZF0sIG9wdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIG1lbnUgcmVsYXRlZCBtZXRob2RzXG4gICAgZnVuY3Rpb24gZG9VcGRhdGVTaG93KHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uVXBkYXRlU2hvdyxcbiAgICAgICAgJ29uVXBkYXRlOnNob3cnOiBfb25VcGRhdGVTaG93XG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAob25VcGRhdGVTaG93KSBjYWxsKG9uVXBkYXRlU2hvdywgdmFsdWUpO1xuICAgICAgaWYgKF9vblVwZGF0ZVNob3cpIGNhbGwoX29uVXBkYXRlU2hvdywgdmFsdWUpO1xuICAgICAgdW5jb250cm9sbGVkU2hvd1JlZi52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuTWVudSgpIHtcbiAgICAgIGlmICghbWVyZ2VkRGlzYWJsZWRSZWYudmFsdWUpIHtcbiAgICAgICAgZG9VcGRhdGVTaG93KHRydWUpO1xuICAgICAgICB1bmNvbnRyb2xsZWRTaG93UmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgICBmb2N1c1NlbGVjdGlvbklucHV0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xuICAgICAgZG9VcGRhdGVTaG93KGZhbHNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTWVudUFmdGVyTGVhdmUoKSB7XG4gICAgICBwYXR0ZXJuUmVmLnZhbHVlID0gJyc7XG4gICAgICBiZWluZ0NyZWF0ZWRPcHRpb25zUmVmLnZhbHVlID0gZW1wdHlBcnJheTtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlV2l0aG91dE1lbnVPcGVuUmVmID0gcmVmKGZhbHNlKTtcbiAgICBmdW5jdGlvbiBvblRyaWdnZXJJbnB1dEZvY3VzKCkge1xuICAgICAgaWYgKHByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgYWN0aXZlV2l0aG91dE1lbnVPcGVuUmVmLnZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25UcmlnZ2VySW5wdXRCbHVyKCkge1xuICAgICAgaWYgKHByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgYWN0aXZlV2l0aG91dE1lbnVPcGVuUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIGlmICghbWVyZ2VkU2hvd1JlZi52YWx1ZSkge1xuICAgICAgICAgIGhhbmRsZU1lbnVBZnRlckxlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVHJpZ2dlckNsaWNrKCkge1xuICAgICAgaWYgKG1lcmdlZERpc2FibGVkUmVmLnZhbHVlKSByZXR1cm47XG4gICAgICBpZiAoIW1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcHJvcHMuZmlsdGVyYWJsZSkge1xuICAgICAgICAgIC8vIGFscmVhZHkgZm9jdXNlZCwgZG9uJ3QgbmVlZCB0byByZXR1cm4gZm9jdXNcbiAgICAgICAgICBjbG9zZU1lbnUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb2N1c1NlbGVjdGlvbklucHV0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVHJpZ2dlckJsdXIoZSkge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICgoX2IgPSAoX2EgPSBtZW51UmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VsZlJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9jdXNlZFJlZi52YWx1ZSA9IGZhbHNlO1xuICAgICAgZG9CbHVyKGUpO1xuICAgICAgLy8gb3V0c2lkZSBzZWxlY3QsIGRvbid0IG5lZWQgdG8gcmV0dXJuIGZvY3VzXG4gICAgICBjbG9zZU1lbnUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVHJpZ2dlckZvY3VzKGUpIHtcbiAgICAgIGRvRm9jdXMoZSk7XG4gICAgICBmb2N1c2VkUmVmLnZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTWVudUZvY3VzKGUpIHtcbiAgICAgIGZvY3VzZWRSZWYudmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVNZW51Qmx1cihlKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLiRlbC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSByZXR1cm47XG4gICAgICBmb2N1c2VkUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICBkb0JsdXIoZSk7XG4gICAgICAvLyBvdXRzaWRlIHNlbGVjdCwgZG9uJ3QgbmVlZCB0byByZXR1cm4gZm9jdXNcbiAgICAgIGNsb3NlTWVudSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVNZW51VGFiT3V0KCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICBjbG9zZU1lbnUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTWVudUNsaWNrT3V0c2lkZShlKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAobWVyZ2VkU2hvd1JlZi52YWx1ZSkge1xuICAgICAgICBpZiAoISgoX2EgPSB0cmlnZ2VyUmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuJGVsLmNvbnRhaW5zKGdldFByZWNpc2VFdmVudFRhcmdldChlKSkpKSB7XG4gICAgICAgICAgLy8gb3V0c2lkZSBzZWxlY3QsIGRvbid0IG5lZWQgdG8gcmV0dXJuIGZvY3VzXG4gICAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xlYXJlZE11bHRpcGxlU2VsZWN0VmFsdWUodmFsdWUpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiBbXTtcbiAgICAgIGlmICh3cmFwcGVkRmFsbGJhY2tPcHRpb25SZWYudmFsdWUpIHtcbiAgICAgICAgLy8gaWYgb3B0aW9uIGhhcyBhIGZhbGxiYWNrLCBJIGNhbid0IGhlbHAgdXNlciB0byBjbGVhciBzb21lIHVua25vd24gdmFsdWVcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgdGhlcmUncyBubyBvcHRpb24gZmFsbGJhY2ssIHVuYXBwZWFyZWQgb3B0aW9ucyBhcmUgdHJlYXRlZCBhcyBpbnZhbGlkXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZW1vdGVcbiAgICAgICAgfSA9IHByb3BzO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmFsdWU6IHZhbE9wdE1hcFxuICAgICAgICB9ID0gdmFsT3B0TWFwUmVmO1xuICAgICAgICBpZiAocmVtb3RlKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdmFsdWU6IG1lbW9WYWxPcHRNYXBcbiAgICAgICAgICB9ID0gbWVtb1ZhbE9wdE1hcFJlZjtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuZmlsdGVyKHYgPT4gdmFsT3B0TWFwLmhhcyh2KSB8fCBtZW1vVmFsT3B0TWFwLmhhcyh2KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmZpbHRlcih2ID0+IHZhbE9wdE1hcC5oYXModikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVRvZ2dsZUJ5VG1Ob2RlKHRtTm9kZSkge1xuICAgICAgaGFuZGxlVG9nZ2xlQnlPcHRpb24odG1Ob2RlLnJhd05vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVUb2dnbGVCeU9wdGlvbihvcHRpb24pIHtcbiAgICAgIGlmIChtZXJnZWREaXNhYmxlZFJlZi52YWx1ZSkgcmV0dXJuO1xuICAgICAgY29uc3Qge1xuICAgICAgICB0YWcsXG4gICAgICAgIHJlbW90ZSxcbiAgICAgICAgY2xlYXJGaWx0ZXJBZnRlclNlbGVjdCxcbiAgICAgICAgdmFsdWVGaWVsZFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgaWYgKHRhZyAmJiAhcmVtb3RlKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB2YWx1ZTogYmVpbmdDcmVhdGVkT3B0aW9uc1xuICAgICAgICB9ID0gYmVpbmdDcmVhdGVkT3B0aW9uc1JlZjtcbiAgICAgICAgY29uc3QgYmVpbmdDcmVhdGVkT3B0aW9uID0gYmVpbmdDcmVhdGVkT3B0aW9uc1swXSB8fCBudWxsO1xuICAgICAgICBpZiAoYmVpbmdDcmVhdGVkT3B0aW9uKSB7XG4gICAgICAgICAgY29uc3QgY3JlYXRlZE9wdGlvbnMgPSBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZTtcbiAgICAgICAgICBpZiAoIWNyZWF0ZWRPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgY3JlYXRlZE9wdGlvbnNSZWYudmFsdWUgPSBbYmVpbmdDcmVhdGVkT3B0aW9uXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlZE9wdGlvbnMucHVzaChiZWluZ0NyZWF0ZWRPcHRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiZWluZ0NyZWF0ZWRPcHRpb25zUmVmLnZhbHVlID0gZW1wdHlBcnJheTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbW90ZSkge1xuICAgICAgICBtZW1vVmFsT3B0TWFwUmVmLnZhbHVlLnNldChvcHRpb25bdmFsdWVGaWVsZF0sIG9wdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlZFZhbHVlID0gY3JlYXRlQ2xlYXJlZE11bHRpcGxlU2VsZWN0VmFsdWUobWVyZ2VkVmFsdWVSZWYudmFsdWUpO1xuICAgICAgICBjb25zdCBpbmRleCA9IGNoYW5nZWRWYWx1ZS5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUgPT09IG9wdGlvblt2YWx1ZUZpZWxkXSk7XG4gICAgICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgICBjaGFuZ2VkVmFsdWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpZiAodGFnICYmICFyZW1vdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRPcHRpb25JbmRleCA9IGdldENyZWF0ZWRPcHRpb25JbmRleChvcHRpb25bdmFsdWVGaWVsZF0pO1xuICAgICAgICAgICAgaWYgKH5jcmVhdGVkT3B0aW9uSW5kZXgpIHtcbiAgICAgICAgICAgICAgY3JlYXRlZE9wdGlvbnNSZWYudmFsdWUuc3BsaWNlKGNyZWF0ZWRPcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICAgIGlmIChjbGVhckZpbHRlckFmdGVyU2VsZWN0KSBwYXR0ZXJuUmVmLnZhbHVlID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZWRWYWx1ZS5wdXNoKG9wdGlvblt2YWx1ZUZpZWxkXSk7XG4gICAgICAgICAgaWYgKGNsZWFyRmlsdGVyQWZ0ZXJTZWxlY3QpIHBhdHRlcm5SZWYudmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBkb1VwZGF0ZVZhbHVlKGNoYW5nZWRWYWx1ZSwgZ2V0TWVyZ2VkT3B0aW9ucyhjaGFuZ2VkVmFsdWUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YWcgJiYgIXJlbW90ZSkge1xuICAgICAgICAgIGNvbnN0IGNyZWF0ZWRPcHRpb25JbmRleCA9IGdldENyZWF0ZWRPcHRpb25JbmRleChvcHRpb25bdmFsdWVGaWVsZF0pO1xuICAgICAgICAgIGlmICh+Y3JlYXRlZE9wdGlvbkluZGV4KSB7XG4gICAgICAgICAgICBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZSA9IFtjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZVtjcmVhdGVkT3B0aW9uSW5kZXhdXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlZE9wdGlvbnNSZWYudmFsdWUgPSBlbXB0eUFycmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb2N1c1NlbGVjdGlvbigpO1xuICAgICAgICBjbG9zZU1lbnUoKTtcbiAgICAgICAgZG9VcGRhdGVWYWx1ZShvcHRpb25bdmFsdWVGaWVsZF0sIG9wdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENyZWF0ZWRPcHRpb25JbmRleChvcHRpb25WYWx1ZSkge1xuICAgICAgY29uc3QgY3JlYXRlZE9wdGlvbnMgPSBjcmVhdGVkT3B0aW9uc1JlZi52YWx1ZTtcbiAgICAgIHJldHVybiBjcmVhdGVkT3B0aW9ucy5maW5kSW5kZXgoY3JlYXRlZE9wdGlvbiA9PiBjcmVhdGVkT3B0aW9uW3Byb3BzLnZhbHVlRmllbGRdID09PSBvcHRpb25WYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVBhdHRlcm5JbnB1dChlKSB7XG4gICAgICBpZiAoIW1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWVcbiAgICAgIH0gPSBlLnRhcmdldDtcbiAgICAgIHBhdHRlcm5SZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGFnLFxuICAgICAgICByZW1vdGVcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGRvU2VhcmNoKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgJiYgIXJlbW90ZSkge1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgYmVpbmdDcmVhdGVkT3B0aW9uc1JlZi52YWx1ZSA9IGVtcHR5QXJyYXk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBvbkNyZWF0ZVxuICAgICAgICB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IG9wdGlvbkJlaW5nQ3JlYXRlZCA9IG9uQ3JlYXRlID8gb25DcmVhdGUodmFsdWUpIDoge1xuICAgICAgICAgIFtwcm9wcy5sYWJlbEZpZWxkXTogdmFsdWUsXG4gICAgICAgICAgW3Byb3BzLnZhbHVlRmllbGRdOiB2YWx1ZVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmFsdWVGaWVsZCxcbiAgICAgICAgICBsYWJlbEZpZWxkXG4gICAgICAgIH0gPSBwcm9wcztcbiAgICAgICAgaWYgKGNvbXBpdGFibGVPcHRpb25zUmVmLnZhbHVlLnNvbWUob3B0aW9uID0+IHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uW3ZhbHVlRmllbGRdID09PSBvcHRpb25CZWluZ0NyZWF0ZWRbdmFsdWVGaWVsZF0gfHwgb3B0aW9uW2xhYmVsRmllbGRdID09PSBvcHRpb25CZWluZ0NyZWF0ZWRbbGFiZWxGaWVsZF07XG4gICAgICAgIH0pIHx8IGNyZWF0ZWRPcHRpb25zUmVmLnZhbHVlLnNvbWUob3B0aW9uID0+IHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uW3ZhbHVlRmllbGRdID09PSBvcHRpb25CZWluZ0NyZWF0ZWRbdmFsdWVGaWVsZF0gfHwgb3B0aW9uW2xhYmVsRmllbGRdID09PSBvcHRpb25CZWluZ0NyZWF0ZWRbbGFiZWxGaWVsZF07XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgYmVpbmdDcmVhdGVkT3B0aW9uc1JlZi52YWx1ZSA9IGVtcHR5QXJyYXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmVpbmdDcmVhdGVkT3B0aW9uc1JlZi52YWx1ZSA9IFtvcHRpb25CZWluZ0NyZWF0ZWRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsZWFyKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG11bHRpcGxlXG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBpZiAoIW11bHRpcGxlICYmIHByb3BzLmZpbHRlcmFibGUpIHtcbiAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICB9XG4gICAgICBkb0NsZWFyKCk7XG4gICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgZG9VcGRhdGVWYWx1ZShbXSwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9VcGRhdGVWYWx1ZShudWxsLCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTWVudU1vdXNlZG93bihlKSB7XG4gICAgICBpZiAoIWhhcHBlbnNJbihlLCAnYWN0aW9uJykgJiYgIWhhcHBlbnNJbihlLCAnZW1wdHknKSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICAvLyBzY3JvbGwgZXZlbnRzIG9uIG1lbnVcbiAgICBmdW5jdGlvbiBoYW5kbGVNZW51U2Nyb2xsKGUpIHtcbiAgICAgIGRvU2Nyb2xsKGUpO1xuICAgIH1cbiAgICAvLyBrZXlib2FyZCBldmVudHNcbiAgICAvLyBhbHNvIGZvciBtZW51IGtleWRvd25cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGUpIHtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICBpZiAoIXByb3BzLmtleWJvYXJkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICBpZiAocHJvcHMuZmlsdGVyYWJsZSkgYnJlYWs7ZWxzZSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgIGlmICghKChfYSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0NvbXBvc2luZykpIHtcbiAgICAgICAgICAgIGlmIChtZXJnZWRTaG93UmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdUbU5vZGUgPSAoX2IgPSBtZW51UmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0UGVuZGluZ1RtTm9kZSgpO1xuICAgICAgICAgICAgICBpZiAocGVuZGluZ1RtTm9kZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUJ5VG1Ob2RlKHBlbmRpbmdUbU5vZGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFwcm9wcy5maWx0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICAgICAgICAgICAgZm9jdXNTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3Blbk1lbnUoKTtcbiAgICAgICAgICAgICAgaWYgKHByb3BzLnRhZyAmJiBhY3RpdmVXaXRob3V0TWVudU9wZW5SZWYudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWluZ0NyZWF0ZWRPcHRpb24gPSBiZWluZ0NyZWF0ZWRPcHRpb25zUmVmLnZhbHVlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChiZWluZ0NyZWF0ZWRPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gYmVpbmdDcmVhdGVkT3B0aW9uW3Byb3BzLnZhbHVlRmllbGRdO1xuICAgICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWVyZ2VkVmFsdWVcbiAgICAgICAgICAgICAgICAgIH0gPSBtZXJnZWRWYWx1ZVJlZjtcbiAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXJnZWRWYWx1ZSkgJiYgbWVyZ2VkVmFsdWUuc29tZSh2YWx1ZSA9PiB2YWx1ZSA9PT0gb3B0aW9uVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUJ5T3B0aW9uKGJlaW5nQ3JlYXRlZE9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVRvZ2dsZUJ5T3B0aW9uKGJlaW5nQ3JlYXRlZE9wdGlvbik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmIChwcm9wcy5sb2FkaW5nKSByZXR1cm47XG4gICAgICAgICAgaWYgKG1lcmdlZFNob3dSZWYudmFsdWUpIHtcbiAgICAgICAgICAgIChfYyA9IG1lbnVSZWYudmFsdWUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wcmV2KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpZiAocHJvcHMubG9hZGluZykgcmV0dXJuO1xuICAgICAgICAgIGlmIChtZXJnZWRTaG93UmVmLnZhbHVlKSB7XG4gICAgICAgICAgICAoX2QgPSBtZW51UmVmLnZhbHVlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubmV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcGVuTWVudSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICBpZiAobWVyZ2VkU2hvd1JlZi52YWx1ZSkge1xuICAgICAgICAgICAgbWFya0V2ZW50RWZmZWN0UGVyZm9ybWVkKGUpO1xuICAgICAgICAgICAgY2xvc2VNZW51KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIChfZSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5mb2N1cygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmb2N1c1NlbGVjdGlvbigpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIChfYSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb2N1c1NlbGVjdGlvbklucHV0KCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzSW5wdXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVHJpZ2dlck9yTWVudVJlc2l6ZSgpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGlmICghbWVyZ2VkU2hvd1JlZi52YWx1ZSkgcmV0dXJuO1xuICAgICAgKF9hID0gZm9sbG93ZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zeW5jUG9zaXRpb24oKTtcbiAgICB9XG4gICAgdXBkYXRlTWVtb3JpemVkT3B0aW9ucygpO1xuICAgIHdhdGNoKHRvUmVmKHByb3BzLCAnb3B0aW9ucycpLCB1cGRhdGVNZW1vcml6ZWRPcHRpb25zKTtcbiAgICBjb25zdCBleHBvc2VkTWV0aG9kcyA9IHtcbiAgICAgIGZvY3VzOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICB9LFxuICAgICAgZm9jdXNJbnB1dDogKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1c0lucHV0KCk7XG4gICAgICB9LFxuICAgICAgYmx1cjogKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRyaWdnZXJSZWYudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgICB9LFxuICAgICAgYmx1cklucHV0OiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdHJpZ2dlclJlZi52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXJJbnB1dCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY3NzVmFyc1JlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2VsZjoge1xuICAgICAgICAgIG1lbnVCb3hTaGFkb3dcbiAgICAgICAgfVxuICAgICAgfSA9IHRoZW1lUmVmLnZhbHVlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJy0tbi1tZW51LWJveC1zaGFkb3cnOiBtZW51Qm94U2hhZG93XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHRoZW1lQ2xhc3NIYW5kbGUgPSBpbmxpbmVUaGVtZURpc2FibGVkID8gdXNlVGhlbWVDbGFzcygnc2VsZWN0JywgdW5kZWZpbmVkLCBjc3NWYXJzUmVmLCBwcm9wcykgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXhwb3NlZE1ldGhvZHMpLCB7XG4gICAgICBtZXJnZWRTdGF0dXM6IG1lcmdlZFN0YXR1c1JlZixcbiAgICAgIG1lcmdlZENsc1ByZWZpeDogbWVyZ2VkQ2xzUHJlZml4UmVmLFxuICAgICAgbWVyZ2VkQm9yZGVyZWQ6IG1lcmdlZEJvcmRlcmVkUmVmLFxuICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VSZWYsXG4gICAgICB0cmVlTWF0ZTogdHJlZU1hdGVSZWYsXG4gICAgICBpc01vdW50ZWQ6IHVzZUlzTW91bnRlZCgpLFxuICAgICAgdHJpZ2dlclJlZixcbiAgICAgIG1lbnVSZWYsXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuUmVmLFxuICAgICAgdW5jb250cm9sbGVkU2hvdzogdW5jb250cm9sbGVkU2hvd1JlZixcbiAgICAgIG1lcmdlZFNob3c6IG1lcmdlZFNob3dSZWYsXG4gICAgICBhZGp1c3RlZFRvOiB1c2VBZGp1c3RlZFRvKHByb3BzKSxcbiAgICAgIHVuY29udHJvbGxlZFZhbHVlOiB1bmNvbnRyb2xsZWRWYWx1ZVJlZixcbiAgICAgIG1lcmdlZFZhbHVlOiBtZXJnZWRWYWx1ZVJlZixcbiAgICAgIGZvbGxvd2VyUmVmLFxuICAgICAgbG9jYWxpemVkUGxhY2Vob2xkZXI6IGxvY2FsaXplZFBsYWNlaG9sZGVyUmVmLFxuICAgICAgc2VsZWN0ZWRPcHRpb246IHNlbGVjdGVkT3B0aW9uUmVmLFxuICAgICAgc2VsZWN0ZWRPcHRpb25zOiBzZWxlY3RlZE9wdGlvbnNSZWYsXG4gICAgICBtZXJnZWRTaXplOiBtZXJnZWRTaXplUmVmLFxuICAgICAgbWVyZ2VkRGlzYWJsZWQ6IG1lcmdlZERpc2FibGVkUmVmLFxuICAgICAgZm9jdXNlZDogZm9jdXNlZFJlZixcbiAgICAgIGFjdGl2ZVdpdGhvdXRNZW51T3BlbjogYWN0aXZlV2l0aG91dE1lbnVPcGVuUmVmLFxuICAgICAgaW5saW5lVGhlbWVEaXNhYmxlZCxcbiAgICAgIG9uVHJpZ2dlcklucHV0Rm9jdXMsXG4gICAgICBvblRyaWdnZXJJbnB1dEJsdXIsXG4gICAgICBoYW5kbGVUcmlnZ2VyT3JNZW51UmVzaXplLFxuICAgICAgaGFuZGxlTWVudUZvY3VzLFxuICAgICAgaGFuZGxlTWVudUJsdXIsXG4gICAgICBoYW5kbGVNZW51VGFiT3V0LFxuICAgICAgaGFuZGxlVHJpZ2dlckNsaWNrLFxuICAgICAgaGFuZGxlVG9nZ2xlOiBoYW5kbGVUb2dnbGVCeVRtTm9kZSxcbiAgICAgIGhhbmRsZURlbGV0ZU9wdGlvbjogaGFuZGxlVG9nZ2xlQnlPcHRpb24sXG4gICAgICBoYW5kbGVQYXR0ZXJuSW5wdXQsXG4gICAgICBoYW5kbGVDbGVhcixcbiAgICAgIGhhbmRsZVRyaWdnZXJCbHVyLFxuICAgICAgaGFuZGxlVHJpZ2dlckZvY3VzLFxuICAgICAgaGFuZGxlS2V5ZG93bixcbiAgICAgIGhhbmRsZU1lbnVBZnRlckxlYXZlLFxuICAgICAgaGFuZGxlTWVudUNsaWNrT3V0c2lkZSxcbiAgICAgIGhhbmRsZU1lbnVTY3JvbGwsXG4gICAgICBoYW5kbGVNZW51S2V5ZG93bjogaGFuZGxlS2V5ZG93bixcbiAgICAgIGhhbmRsZU1lbnVNb3VzZWRvd24sXG4gICAgICBtZXJnZWRUaGVtZTogdGhlbWVSZWYsXG4gICAgICBjc3NWYXJzOiBpbmxpbmVUaGVtZURpc2FibGVkID8gdW5kZWZpbmVkIDogY3NzVmFyc1JlZixcbiAgICAgIHRoZW1lQ2xhc3M6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS50aGVtZUNsYXNzLFxuICAgICAgb25SZW5kZXI6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS5vblJlbmRlclxuICAgIH0pO1xuICB9LFxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGAke3RoaXMubWVyZ2VkQ2xzUHJlZml4fS1zZWxlY3RgXG4gICAgfSwgaChWQmluZGVyLCBudWxsLCB7XG4gICAgICBkZWZhdWx0OiAoKSA9PiBbaChWVGFyZ2V0LCBudWxsLCB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGgoTkludGVybmFsU2VsZWN0aW9uLCB7XG4gICAgICAgICAgcmVmOiBcInRyaWdnZXJSZWZcIixcbiAgICAgICAgICBpbmxpbmVUaGVtZURpc2FibGVkOiB0aGlzLmlubGluZVRoZW1lRGlzYWJsZWQsXG4gICAgICAgICAgc3RhdHVzOiB0aGlzLm1lcmdlZFN0YXR1cyxcbiAgICAgICAgICBpbnB1dFByb3BzOiB0aGlzLmlucHV0UHJvcHMsXG4gICAgICAgICAgY2xzUHJlZml4OiB0aGlzLm1lcmdlZENsc1ByZWZpeCxcbiAgICAgICAgICBzaG93QXJyb3c6IHRoaXMuc2hvd0Fycm93LFxuICAgICAgICAgIG1heFRhZ0NvdW50OiB0aGlzLm1heFRhZ0NvdW50LFxuICAgICAgICAgIGVsbGlwc2lzVGFnUG9wb3ZlclByb3BzOiB0aGlzLmVsbGlwc2lzVGFnUG9wb3ZlclByb3BzLFxuICAgICAgICAgIGJvcmRlcmVkOiB0aGlzLm1lcmdlZEJvcmRlcmVkLFxuICAgICAgICAgIGFjdGl2ZTogdGhpcy5hY3RpdmVXaXRob3V0TWVudU9wZW4gfHwgdGhpcy5tZXJnZWRTaG93LFxuICAgICAgICAgIHBhdHRlcm46IHRoaXMucGF0dGVybixcbiAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy5sb2NhbGl6ZWRQbGFjZWhvbGRlcixcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbjogdGhpcy5zZWxlY3RlZE9wdGlvbixcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbnM6IHRoaXMuc2VsZWN0ZWRPcHRpb25zLFxuICAgICAgICAgIG11bHRpcGxlOiB0aGlzLm11bHRpcGxlLFxuICAgICAgICAgIHJlbmRlclRhZzogdGhpcy5yZW5kZXJUYWcsXG4gICAgICAgICAgcmVuZGVyTGFiZWw6IHRoaXMucmVuZGVyTGFiZWwsXG4gICAgICAgICAgZmlsdGVyYWJsZTogdGhpcy5maWx0ZXJhYmxlLFxuICAgICAgICAgIGNsZWFyYWJsZTogdGhpcy5jbGVhcmFibGUsXG4gICAgICAgICAgZGlzYWJsZWQ6IHRoaXMubWVyZ2VkRGlzYWJsZWQsXG4gICAgICAgICAgc2l6ZTogdGhpcy5tZXJnZWRTaXplLFxuICAgICAgICAgIHRoZW1lOiB0aGlzLm1lcmdlZFRoZW1lLnBlZXJzLkludGVybmFsU2VsZWN0aW9uLFxuICAgICAgICAgIGxhYmVsRmllbGQ6IHRoaXMubGFiZWxGaWVsZCxcbiAgICAgICAgICB2YWx1ZUZpZWxkOiB0aGlzLnZhbHVlRmllbGQsXG4gICAgICAgICAgdGhlbWVPdmVycmlkZXM6IHRoaXMubWVyZ2VkVGhlbWUucGVlck92ZXJyaWRlcy5JbnRlcm5hbFNlbGVjdGlvbixcbiAgICAgICAgICBsb2FkaW5nOiB0aGlzLmxvYWRpbmcsXG4gICAgICAgICAgZm9jdXNlZDogdGhpcy5mb2N1c2VkLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVHJpZ2dlckNsaWNrLFxuICAgICAgICAgIG9uRGVsZXRlT3B0aW9uOiB0aGlzLmhhbmRsZURlbGV0ZU9wdGlvbixcbiAgICAgICAgICBvblBhdHRlcm5JbnB1dDogdGhpcy5oYW5kbGVQYXR0ZXJuSW5wdXQsXG4gICAgICAgICAgb25DbGVhcjogdGhpcy5oYW5kbGVDbGVhcixcbiAgICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlVHJpZ2dlckJsdXIsXG4gICAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVUcmlnZ2VyRm9jdXMsXG4gICAgICAgICAgb25LZXlkb3duOiB0aGlzLmhhbmRsZUtleWRvd24sXG4gICAgICAgICAgb25QYXR0ZXJuQmx1cjogdGhpcy5vblRyaWdnZXJJbnB1dEJsdXIsXG4gICAgICAgICAgb25QYXR0ZXJuRm9jdXM6IHRoaXMub25UcmlnZ2VySW5wdXRGb2N1cyxcbiAgICAgICAgICBvblJlc2l6ZTogdGhpcy5oYW5kbGVUcmlnZ2VyT3JNZW51UmVzaXplLFxuICAgICAgICAgIGlnbm9yZUNvbXBvc2l0aW9uOiB0aGlzLmlnbm9yZUNvbXBvc2l0aW9uXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBhcnJvdzogKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiBbKF9iID0gKF9hID0gdGhpcy4kc2xvdHMpLmFycm93KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pLCBoKFZGb2xsb3dlciwge1xuICAgICAgICByZWY6IFwiZm9sbG93ZXJSZWZcIixcbiAgICAgICAgc2hvdzogdGhpcy5tZXJnZWRTaG93LFxuICAgICAgICB0bzogdGhpcy5hZGp1c3RlZFRvLFxuICAgICAgICB0ZWxlcG9ydERpc2FibGVkOiB0aGlzLmFkanVzdGVkVG8gPT09IHVzZUFkanVzdGVkVG8udGRrZXksXG4gICAgICAgIGNvbnRhaW5lckNsYXNzOiB0aGlzLm5hbWVzcGFjZSxcbiAgICAgICAgd2lkdGg6IHRoaXMuY29uc2lzdGVudE1lbnVXaWR0aCA/ICd0YXJnZXQnIDogdW5kZWZpbmVkLFxuICAgICAgICBtaW5XaWR0aDogXCJ0YXJnZXRcIixcbiAgICAgICAgcGxhY2VtZW50OiB0aGlzLnBsYWNlbWVudFxuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBoKFRyYW5zaXRpb24sIHtcbiAgICAgICAgICBuYW1lOiBcImZhZGUtaW4tc2NhbGUtdXAtdHJhbnNpdGlvblwiLFxuICAgICAgICAgIGFwcGVhcjogdGhpcy5pc01vdW50ZWQsXG4gICAgICAgICAgb25BZnRlckxlYXZlOiB0aGlzLmhhbmRsZU1lbnVBZnRlckxlYXZlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGlmICghKHRoaXMubWVyZ2VkU2hvdyB8fCB0aGlzLmRpc3BsYXlEaXJlY3RpdmUgPT09ICdzaG93JykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2EgPSB0aGlzLm9uUmVuZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB3aXRoRGlyZWN0aXZlcyhoKE5JbnRlcm5hbFNlbGVjdE1lbnUsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMubWVudVByb3BzLCB7XG4gICAgICAgICAgICAgIHJlZjogXCJtZW51UmVmXCIsXG4gICAgICAgICAgICAgIG9uUmVzaXplOiB0aGlzLmhhbmRsZVRyaWdnZXJPck1lbnVSZXNpemUsXG4gICAgICAgICAgICAgIGlubGluZVRoZW1lRGlzYWJsZWQ6IHRoaXMuaW5saW5lVGhlbWVEaXNhYmxlZCxcbiAgICAgICAgICAgICAgdmlydHVhbFNjcm9sbDogdGhpcy5jb25zaXN0ZW50TWVudVdpZHRoICYmIHRoaXMudmlydHVhbFNjcm9sbCxcbiAgICAgICAgICAgICAgY2xhc3M6IFtgJHt0aGlzLm1lcmdlZENsc1ByZWZpeH0tc2VsZWN0LW1lbnVgLCB0aGlzLnRoZW1lQ2xhc3MsIChfYiA9IHRoaXMubWVudVByb3BzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xhc3NdLFxuICAgICAgICAgICAgICBjbHNQcmVmaXg6IHRoaXMubWVyZ2VkQ2xzUHJlZml4LFxuICAgICAgICAgICAgICBmb2N1c2FibGU6IHRydWUsXG4gICAgICAgICAgICAgIGxhYmVsRmllbGQ6IHRoaXMubGFiZWxGaWVsZCxcbiAgICAgICAgICAgICAgdmFsdWVGaWVsZDogdGhpcy52YWx1ZUZpZWxkLFxuICAgICAgICAgICAgICBhdXRvUGVuZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgbm9kZVByb3BzOiB0aGlzLm5vZGVQcm9wcyxcbiAgICAgICAgICAgICAgdGhlbWU6IHRoaXMubWVyZ2VkVGhlbWUucGVlcnMuSW50ZXJuYWxTZWxlY3RNZW51LFxuICAgICAgICAgICAgICB0aGVtZU92ZXJyaWRlczogdGhpcy5tZXJnZWRUaGVtZS5wZWVyT3ZlcnJpZGVzLkludGVybmFsU2VsZWN0TWVudSxcbiAgICAgICAgICAgICAgdHJlZU1hdGU6IHRoaXMudHJlZU1hdGUsXG4gICAgICAgICAgICAgIG11bHRpcGxlOiB0aGlzLm11bHRpcGxlLFxuICAgICAgICAgICAgICBzaXplOiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICByZW5kZXJPcHRpb246IHRoaXMucmVuZGVyT3B0aW9uLFxuICAgICAgICAgICAgICByZW5kZXJMYWJlbDogdGhpcy5yZW5kZXJMYWJlbCxcbiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMubWVyZ2VkVmFsdWUsXG4gICAgICAgICAgICAgIHN0eWxlOiBbKF9jID0gdGhpcy5tZW51UHJvcHMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zdHlsZSwgdGhpcy5jc3NWYXJzXSxcbiAgICAgICAgICAgICAgb25Ub2dnbGU6IHRoaXMuaGFuZGxlVG9nZ2xlLFxuICAgICAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVNZW51U2Nyb2xsLFxuICAgICAgICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZU1lbnVGb2N1cyxcbiAgICAgICAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZU1lbnVCbHVyLFxuICAgICAgICAgICAgICBvbktleWRvd246IHRoaXMuaGFuZGxlTWVudUtleWRvd24sXG4gICAgICAgICAgICAgIG9uVGFiT3V0OiB0aGlzLmhhbmRsZU1lbnVUYWJPdXQsXG4gICAgICAgICAgICAgIG9uTW91c2Vkb3duOiB0aGlzLmhhbmRsZU1lbnVNb3VzZWRvd24sXG4gICAgICAgICAgICAgIHNob3c6IHRoaXMubWVyZ2VkU2hvdyxcbiAgICAgICAgICAgICAgc2hvd0NoZWNrbWFyazogdGhpcy5zaG93Q2hlY2ttYXJrLFxuICAgICAgICAgICAgICByZXNldE1lbnVPbk9wdGlvbnNDaGFuZ2U6IHRoaXMucmVzZXRNZW51T25PcHRpb25zQ2hhbmdlXG4gICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICBlbXB0eTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsoX2IgPSAoX2EgPSB0aGlzLiRzbG90cykuZW1wdHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKV07XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGhlYWRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsoX2IgPSAoX2EgPSB0aGlzLiRzbG90cykuaGVhZGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSldO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHJldHVybiBbKF9iID0gKF9hID0gdGhpcy4kc2xvdHMpLmFjdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHRoaXMuZGlzcGxheURpcmVjdGl2ZSA9PT0gJ3Nob3cnID8gW1t2U2hvdywgdGhpcy5tZXJnZWRTaG93XSwgW2NsaWNrb3V0c2lkZSwgdGhpcy5oYW5kbGVNZW51Q2xpY2tPdXRzaWRlLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICAgICAgfV1dIDogW1tjbGlja291dHNpZGUsIHRoaXMuaGFuZGxlTWVudUNsaWNrT3V0c2lkZSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICAgIH1dXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSkpO1xuICB9XG59KTsiLCJpbXBvcnQgeyBjQiwgYyB9IGZyb20gXCIuLi8uLi8uLi9fdXRpbHMvY3Nzci9pbmRleC5tanNcIjtcbmltcG9ydCB7IGZhZGVJblNjYWxlVXBUcmFuc2l0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL19zdHlsZXMvdHJhbnNpdGlvbnMvZmFkZS1pbi1zY2FsZS11cC5jc3NyLm1qc1wiO1xuLy8gLS1uLW1lbnUtYm94LXNoYWRvd1xuZXhwb3J0IGRlZmF1bHQgYyhbY0IoJ3NlbGVjdCcsIGBcbiB6LWluZGV4OiBhdXRvO1xuIG91dGxpbmU6IG5vbmU7XG4gd2lkdGg6IDEwMCU7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIGApLCBjQignc2VsZWN0LW1lbnUnLCBgXG4gbWFyZ2luOiA0cHggMDtcbiBib3gtc2hhZG93OiB2YXIoLS1uLW1lbnUtYm94LXNoYWRvdyk7XG4gYCwgW2ZhZGVJblNjYWxlVXBUcmFuc2l0aW9uKHtcbiAgb3JpZ2luYWxUcmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLCBib3gtc2hhZG93IC4zcyB2YXIoLS1uLWJlemllciknXG59KV0pXSk7IiwiZXhwb3J0IGZ1bmN0aW9uIGdldElzR3JvdXAob3B0aW9uKSB7XG4gIHJldHVybiBvcHRpb24udHlwZSA9PT0gJ2dyb3VwJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZ25vcmVkKG9wdGlvbikge1xuICByZXR1cm4gb3B0aW9uLnR5cGUgPT09ICdpZ25vcmVkJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXR0ZXJuTWF0Y2hlZChwYXR0ZXJuLCB2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiAhISgxICsgdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocGF0dGVybi50cmltKCkudG9Mb3dlckNhc2UoKSkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUbU9wdGlvbnModmFsdWVGaWVsZCwgY2hpbGRyZW5GaWVsZCkge1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGdldElzR3JvdXAsXG4gICAgZ2V0SWdub3JlZCxcbiAgICBnZXRLZXkob3B0aW9uKSB7XG4gICAgICBpZiAoZ2V0SXNHcm91cChvcHRpb24pKSB7XG4gICAgICAgIHJldHVybiBvcHRpb24ubmFtZSB8fCBvcHRpb24ua2V5IHx8ICdrZXktcmVxdWlyZWQnO1xuICAgICAgfVxuICAgICAgLy8gUmVxdWlyZWQgZm9yIG5vbi1jdXN0b20gbGFiZWwgJiB2YWx1ZSBmaWVsZFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgIHJldHVybiBvcHRpb25bdmFsdWVGaWVsZF07XG4gICAgfSxcbiAgICBnZXRDaGlsZHJlbihvcHRpb24pIHtcbiAgICAgIHJldHVybiBvcHRpb25bY2hpbGRyZW5GaWVsZF07XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJPcHRpb25zKG9yaWdpbmFsT3B0cywgZmlsdGVyLCBwYXR0ZXJuLCBjaGlsZHJlbkZpZWxkKSB7XG4gIGlmICghZmlsdGVyKSByZXR1cm4gb3JpZ2luYWxPcHRzO1xuICBmdW5jdGlvbiB0cmF2ZXJzZShvcHRpb25zKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMpKSByZXR1cm4gW107XG4gICAgY29uc3QgZmlsdGVyZWRPcHRpb25zID0gW107XG4gICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgaWYgKGdldElzR3JvdXAob3B0aW9uKSkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRyYXZlcnNlKG9wdGlvbltjaGlsZHJlbkZpZWxkXSk7XG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBmaWx0ZXJlZE9wdGlvbnMucHVzaChPYmplY3QuYXNzaWduKHt9LCBvcHRpb24sIHtcbiAgICAgICAgICAgIFtjaGlsZHJlbkZpZWxkXTogY2hpbGRyZW5cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2V0SWdub3JlZChvcHRpb24pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXIocGF0dGVybiwgb3B0aW9uKSkge1xuICAgICAgICBmaWx0ZXJlZE9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyZWRPcHRpb25zO1xuICB9XG4gIHJldHVybiB0cmF2ZXJzZShvcmlnaW5hbE9wdHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbE9wdE1hcChvcHRpb25zLCB2YWx1ZUZpZWxkLCBjaGlsZHJlbkZpZWxkKSB7XG4gIGNvbnN0IHZhbE9wdE1hcCA9IG5ldyBNYXAoKTtcbiAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgaWYgKGdldElzR3JvdXAob3B0aW9uKSkge1xuICAgICAgO1xuICAgICAgb3B0aW9uW2NoaWxkcmVuRmllbGRdLmZvckVhY2goc2VsZWN0R3JvdXBPcHRpb24gPT4ge1xuICAgICAgICB2YWxPcHRNYXAuc2V0KHNlbGVjdEdyb3VwT3B0aW9uW3ZhbHVlRmllbGRdLCBzZWxlY3RHcm91cE9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsT3B0TWFwLnNldChvcHRpb25bdmFsdWVGaWVsZF0sIG9wdGlvbik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHZhbE9wdE1hcDtcbn0iLCJpbXBvcnQgeyBoLCBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCByZWYsIHByb3ZpZGUsIHRvUmVmLCB3YXRjaEVmZmVjdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyB1c2VSdGwgfSBmcm9tIFwiLi4vLi4vX21peGlucy91c2UtcnRsLm1qc1wiO1xuaW1wb3J0IHsgTkJhc2VDbG9zZSB9IGZyb20gXCIuLi8uLi9faW50ZXJuYWwvY2xvc2UvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyB1c2VDb25maWcsIHVzZVRoZW1lQ2xhc3MsIHVzZVRoZW1lIH0gZnJvbSBcIi4uLy4uL19taXhpbnMvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVLZXksIGNhbGwsIGNyZWF0ZUluamVjdGlvbktleSwgY29sb3IyQ2xhc3MsIHJlc29sdmVXcmFwcGVkU2xvdCwgd2Fybk9uY2UgfSBmcm9tIFwiLi4vLi4vX3V0aWxzL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgdGFnTGlnaHQgfSBmcm9tIFwiLi4vc3R5bGVzL2luZGV4Lm1qc1wiO1xuaW1wb3J0IGNvbW1vblByb3BzIGZyb20gXCIuL2NvbW1vbi1wcm9wcy5tanNcIjtcbmltcG9ydCBzdHlsZSBmcm9tIFwiLi9zdHlsZXMvaW5kZXguY3Nzci5tanNcIjtcbmltcG9ydCB7IGdldE1hcmdpbiB9IGZyb20gJ3NlZW1seSc7XG5leHBvcnQgY29uc3QgdGFnUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdXNlVGhlbWUucHJvcHMpLCBjb21tb25Qcm9wcyksIHtcbiAgYm9yZGVyZWQ6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHVuZGVmaW5lZFxuICB9LFxuICBjaGVja2VkOiBCb29sZWFuLFxuICBjaGVja2FibGU6IEJvb2xlYW4sXG4gIHN0cm9uZzogQm9vbGVhbixcbiAgdHJpZ2dlckNsaWNrT25DbG9zZTogQm9vbGVhbixcbiAgb25DbG9zZTogW0FycmF5LCBGdW5jdGlvbl0sXG4gIG9uTW91c2VlbnRlcjogRnVuY3Rpb24sXG4gIG9uTW91c2VsZWF2ZTogRnVuY3Rpb24sXG4gICdvblVwZGF0ZTpjaGVja2VkJzogRnVuY3Rpb24sXG4gIG9uVXBkYXRlQ2hlY2tlZDogRnVuY3Rpb24sXG4gIC8vIHByaXZhdGVcbiAgaW50ZXJuYWxDbG9zZUZvY3VzYWJsZToge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBpbnRlcm5hbENsb3NlSXNCdXR0b25UYWc6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgLy8gZGVwcmVjYXRlZFxuICBvbkNoZWNrZWRDaGFuZ2U6IEZ1bmN0aW9uXG59KTtcbmV4cG9ydCBjb25zdCB0YWdJbmplY3Rpb25LZXkgPSBjcmVhdGVJbmplY3Rpb25LZXkoJ24tdGFnJyk7XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiAnVGFnJyxcbiAgcHJvcHM6IHRhZ1Byb3BzLFxuICBzZXR1cChwcm9wcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5vbkNoZWNrZWRDaGFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHdhcm5PbmNlKCd0YWcnLCAnYG9uLWNoZWNrZWQtY2hhbmdlYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBvbi11cGRhdGU6Y2hlY2tlZGAgaW5zdGVhZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudFJlZiA9IHJlZihudWxsKTtcbiAgICBjb25zdCB7XG4gICAgICBtZXJnZWRCb3JkZXJlZFJlZixcbiAgICAgIG1lcmdlZENsc1ByZWZpeFJlZixcbiAgICAgIGlubGluZVRoZW1lRGlzYWJsZWQsXG4gICAgICBtZXJnZWRSdGxSZWZcbiAgICB9ID0gdXNlQ29uZmlnKHByb3BzKTtcbiAgICBjb25zdCB0aGVtZVJlZiA9IHVzZVRoZW1lKCdUYWcnLCAnLXRhZycsIHN0eWxlLCB0YWdMaWdodCwgcHJvcHMsIG1lcmdlZENsc1ByZWZpeFJlZik7XG4gICAgcHJvdmlkZSh0YWdJbmplY3Rpb25LZXksIHtcbiAgICAgIHJvdW5kUmVmOiB0b1JlZihwcm9wcywgJ3JvdW5kJylcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7XG4gICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIGlmIChwcm9wcy5jaGVja2FibGUpIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjaGVja2VkLFxuICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlLFxuICAgICAgICAgICAgb25VcGRhdGVDaGVja2VkLFxuICAgICAgICAgICAgJ29uVXBkYXRlOmNoZWNrZWQnOiBfb25VcGRhdGVDaGVja2VkXG4gICAgICAgICAgfSA9IHByb3BzO1xuICAgICAgICAgIGlmIChvblVwZGF0ZUNoZWNrZWQpIG9uVXBkYXRlQ2hlY2tlZCghY2hlY2tlZCk7XG4gICAgICAgICAgaWYgKF9vblVwZGF0ZUNoZWNrZWQpIF9vblVwZGF0ZUNoZWNrZWQoIWNoZWNrZWQpO1xuICAgICAgICAgIC8vIGRlcHJlY2F0ZWRcbiAgICAgICAgICBpZiAob25DaGVja2VkQ2hhbmdlKSBvbkNoZWNrZWRDaGFuZ2UoIWNoZWNrZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsb3NlQ2xpY2soZSkge1xuICAgICAgaWYgKCFwcm9wcy50cmlnZ2VyQ2xpY2tPbkNsb3NlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBvbkNsb3NlXG4gICAgICAgIH0gPSBwcm9wcztcbiAgICAgICAgaWYgKG9uQ2xvc2UpIGNhbGwob25DbG9zZSwgZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRhZ1B1YmxpY01ldGhvZHMgPSB7XG4gICAgICBzZXRUZXh0Q29udGVudCh0ZXh0Q29udGVudCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSA9IGNvbnRlbnRSZWY7XG4gICAgICAgIGlmICh2YWx1ZSkgdmFsdWUudGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJ0bEVuYWJsZWRSZWYgPSB1c2VSdGwoJ1RhZycsIG1lcmdlZFJ0bFJlZiwgbWVyZ2VkQ2xzUHJlZml4UmVmKTtcbiAgICBjb25zdCBjc3NWYXJzUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0eXBlLFxuICAgICAgICBzaXplLFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIHRleHRDb2xvclxuICAgICAgICB9ID0ge31cbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgY3ViaWNCZXppZXJFYXNlSW5PdXRcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZjoge1xuICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgY2xvc2VNYXJnaW4sXG4gICAgICAgICAgYm9yZGVyUmFkaXVzLFxuICAgICAgICAgIG9wYWNpdHlEaXNhYmxlZCxcbiAgICAgICAgICB0ZXh0Q29sb3JDaGVja2FibGUsXG4gICAgICAgICAgdGV4dENvbG9ySG92ZXJDaGVja2FibGUsXG4gICAgICAgICAgdGV4dENvbG9yUHJlc3NlZENoZWNrYWJsZSxcbiAgICAgICAgICB0ZXh0Q29sb3JDaGVja2VkLFxuICAgICAgICAgIGNvbG9yQ2hlY2thYmxlLFxuICAgICAgICAgIGNvbG9ySG92ZXJDaGVja2FibGUsXG4gICAgICAgICAgY29sb3JQcmVzc2VkQ2hlY2thYmxlLFxuICAgICAgICAgIGNvbG9yQ2hlY2tlZCxcbiAgICAgICAgICBjb2xvckNoZWNrZWRIb3ZlcixcbiAgICAgICAgICBjb2xvckNoZWNrZWRQcmVzc2VkLFxuICAgICAgICAgIGNsb3NlQm9yZGVyUmFkaXVzLFxuICAgICAgICAgIGZvbnRXZWlnaHRTdHJvbmcsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnY29sb3JCb3JkZXJlZCcsIHR5cGUpXTogY29sb3JCb3JkZXJlZCxcbiAgICAgICAgICBbY3JlYXRlS2V5KCdjbG9zZVNpemUnLCBzaXplKV06IGNsb3NlU2l6ZSxcbiAgICAgICAgICBbY3JlYXRlS2V5KCdjbG9zZUljb25TaXplJywgc2l6ZSldOiBjbG9zZUljb25TaXplLFxuICAgICAgICAgIFtjcmVhdGVLZXkoJ2ZvbnRTaXplJywgc2l6ZSldOiBmb250U2l6ZSxcbiAgICAgICAgICBbY3JlYXRlS2V5KCdoZWlnaHQnLCBzaXplKV06IGhlaWdodCxcbiAgICAgICAgICBbY3JlYXRlS2V5KCdjb2xvcicsIHR5cGUpXTogdHlwZWRDb2xvcixcbiAgICAgICAgICBbY3JlYXRlS2V5KCd0ZXh0Q29sb3InLCB0eXBlKV06IHR5cGVUZXh0Q29sb3IsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnYm9yZGVyJywgdHlwZSldOiBib3JkZXIsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnY2xvc2VJY29uQ29sb3InLCB0eXBlKV06IGNsb3NlSWNvbkNvbG9yLFxuICAgICAgICAgIFtjcmVhdGVLZXkoJ2Nsb3NlSWNvbkNvbG9ySG92ZXInLCB0eXBlKV06IGNsb3NlSWNvbkNvbG9ySG92ZXIsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnY2xvc2VJY29uQ29sb3JQcmVzc2VkJywgdHlwZSldOiBjbG9zZUljb25Db2xvclByZXNzZWQsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnY2xvc2VDb2xvckhvdmVyJywgdHlwZSldOiBjbG9zZUNvbG9ySG92ZXIsXG4gICAgICAgICAgW2NyZWF0ZUtleSgnY2xvc2VDb2xvclByZXNzZWQnLCB0eXBlKV06IGNsb3NlQ29sb3JQcmVzc2VkXG4gICAgICAgIH1cbiAgICAgIH0gPSB0aGVtZVJlZi52YWx1ZTtcbiAgICAgIGNvbnN0IGNsb3NlTWFyZ2luRGlzY3JldGUgPSBnZXRNYXJnaW4oY2xvc2VNYXJnaW4pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJy0tbi1mb250LXdlaWdodC1zdHJvbmcnOiBmb250V2VpZ2h0U3Ryb25nLFxuICAgICAgICAnLS1uLWF2YXRhci1zaXplLW92ZXJyaWRlJzogYGNhbGMoJHtoZWlnaHR9IC0gOHB4KWAsXG4gICAgICAgICctLW4tYmV6aWVyJzogY3ViaWNCZXppZXJFYXNlSW5PdXQsXG4gICAgICAgICctLW4tYm9yZGVyLXJhZGl1cyc6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgJy0tbi1ib3JkZXInOiBib3JkZXIsXG4gICAgICAgICctLW4tY2xvc2UtaWNvbi1zaXplJzogY2xvc2VJY29uU2l6ZSxcbiAgICAgICAgJy0tbi1jbG9zZS1jb2xvci1wcmVzc2VkJzogY2xvc2VDb2xvclByZXNzZWQsXG4gICAgICAgICctLW4tY2xvc2UtY29sb3ItaG92ZXInOiBjbG9zZUNvbG9ySG92ZXIsXG4gICAgICAgICctLW4tY2xvc2UtYm9yZGVyLXJhZGl1cyc6IGNsb3NlQm9yZGVyUmFkaXVzLFxuICAgICAgICAnLS1uLWNsb3NlLWljb24tY29sb3InOiBjbG9zZUljb25Db2xvcixcbiAgICAgICAgJy0tbi1jbG9zZS1pY29uLWNvbG9yLWhvdmVyJzogY2xvc2VJY29uQ29sb3JIb3ZlcixcbiAgICAgICAgJy0tbi1jbG9zZS1pY29uLWNvbG9yLXByZXNzZWQnOiBjbG9zZUljb25Db2xvclByZXNzZWQsXG4gICAgICAgICctLW4tY2xvc2UtaWNvbi1jb2xvci1kaXNhYmxlZCc6IGNsb3NlSWNvbkNvbG9yLFxuICAgICAgICAnLS1uLWNsb3NlLW1hcmdpbi10b3AnOiBjbG9zZU1hcmdpbkRpc2NyZXRlLnRvcCxcbiAgICAgICAgJy0tbi1jbG9zZS1tYXJnaW4tcmlnaHQnOiBjbG9zZU1hcmdpbkRpc2NyZXRlLnJpZ2h0LFxuICAgICAgICAnLS1uLWNsb3NlLW1hcmdpbi1ib3R0b20nOiBjbG9zZU1hcmdpbkRpc2NyZXRlLmJvdHRvbSxcbiAgICAgICAgJy0tbi1jbG9zZS1tYXJnaW4tbGVmdCc6IGNsb3NlTWFyZ2luRGlzY3JldGUubGVmdCxcbiAgICAgICAgJy0tbi1jbG9zZS1zaXplJzogY2xvc2VTaXplLFxuICAgICAgICAnLS1uLWNvbG9yJzogY29sb3IgfHwgKG1lcmdlZEJvcmRlcmVkUmVmLnZhbHVlID8gY29sb3JCb3JkZXJlZCA6IHR5cGVkQ29sb3IpLFxuICAgICAgICAnLS1uLWNvbG9yLWNoZWNrYWJsZSc6IGNvbG9yQ2hlY2thYmxlLFxuICAgICAgICAnLS1uLWNvbG9yLWNoZWNrZWQnOiBjb2xvckNoZWNrZWQsXG4gICAgICAgICctLW4tY29sb3ItY2hlY2tlZC1ob3Zlcic6IGNvbG9yQ2hlY2tlZEhvdmVyLFxuICAgICAgICAnLS1uLWNvbG9yLWNoZWNrZWQtcHJlc3NlZCc6IGNvbG9yQ2hlY2tlZFByZXNzZWQsXG4gICAgICAgICctLW4tY29sb3ItaG92ZXItY2hlY2thYmxlJzogY29sb3JIb3ZlckNoZWNrYWJsZSxcbiAgICAgICAgJy0tbi1jb2xvci1wcmVzc2VkLWNoZWNrYWJsZSc6IGNvbG9yUHJlc3NlZENoZWNrYWJsZSxcbiAgICAgICAgJy0tbi1mb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAgICAgJy0tbi1oZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICctLW4tb3BhY2l0eS1kaXNhYmxlZCc6IG9wYWNpdHlEaXNhYmxlZCxcbiAgICAgICAgJy0tbi1wYWRkaW5nJzogcGFkZGluZyxcbiAgICAgICAgJy0tbi10ZXh0LWNvbG9yJzogdGV4dENvbG9yIHx8IHR5cGVUZXh0Q29sb3IsXG4gICAgICAgICctLW4tdGV4dC1jb2xvci1jaGVja2FibGUnOiB0ZXh0Q29sb3JDaGVja2FibGUsXG4gICAgICAgICctLW4tdGV4dC1jb2xvci1jaGVja2VkJzogdGV4dENvbG9yQ2hlY2tlZCxcbiAgICAgICAgJy0tbi10ZXh0LWNvbG9yLWhvdmVyLWNoZWNrYWJsZSc6IHRleHRDb2xvckhvdmVyQ2hlY2thYmxlLFxuICAgICAgICAnLS1uLXRleHQtY29sb3ItcHJlc3NlZC1jaGVja2FibGUnOiB0ZXh0Q29sb3JQcmVzc2VkQ2hlY2thYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHRoZW1lQ2xhc3NIYW5kbGUgPSBpbmxpbmVUaGVtZURpc2FibGVkID8gdXNlVGhlbWVDbGFzcygndGFnJywgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBjb2xvcixcbiAgICAgICAgICB0ZXh0Q29sb3JcbiAgICAgICAgfSA9IHt9XG4gICAgICB9ID0gcHJvcHM7XG4gICAgICBoYXNoICs9IHR5cGVbMF07XG4gICAgICBoYXNoICs9IHNpemVbMF07XG4gICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgaGFzaCArPSBgYSR7Y29sb3IyQ2xhc3MoY29sb3IpfWA7XG4gICAgICB9XG4gICAgICBpZiAodGV4dENvbG9yKSB7XG4gICAgICAgIGhhc2ggKz0gYGIke2NvbG9yMkNsYXNzKHRleHRDb2xvcil9YDtcbiAgICAgIH1cbiAgICAgIGlmIChtZXJnZWRCb3JkZXJlZFJlZi52YWx1ZSkge1xuICAgICAgICBoYXNoICs9ICdjJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH0pLCBjc3NWYXJzUmVmLCBwcm9wcykgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGFnUHVibGljTWV0aG9kcyksIHtcbiAgICAgIHJ0bEVuYWJsZWQ6IHJ0bEVuYWJsZWRSZWYsXG4gICAgICBtZXJnZWRDbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeFJlZixcbiAgICAgIGNvbnRlbnRSZWYsXG4gICAgICBtZXJnZWRCb3JkZXJlZDogbWVyZ2VkQm9yZGVyZWRSZWYsXG4gICAgICBoYW5kbGVDbGljayxcbiAgICAgIGhhbmRsZUNsb3NlQ2xpY2ssXG4gICAgICBjc3NWYXJzOiBpbmxpbmVUaGVtZURpc2FibGVkID8gdW5kZWZpbmVkIDogY3NzVmFyc1JlZixcbiAgICAgIHRoZW1lQ2xhc3M6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS50aGVtZUNsYXNzLFxuICAgICAgb25SZW5kZXI6IHRoZW1lQ2xhc3NIYW5kbGUgPT09IG51bGwgfHwgdGhlbWVDbGFzc0hhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhlbWVDbGFzc0hhbmRsZS5vblJlbmRlclxuICAgIH0pO1xuICB9LFxuICByZW5kZXIoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7XG4gICAgICBtZXJnZWRDbHNQcmVmaXgsXG4gICAgICBydGxFbmFibGVkLFxuICAgICAgY2xvc2FibGUsXG4gICAgICBjb2xvcjoge1xuICAgICAgICBib3JkZXJDb2xvclxuICAgICAgfSA9IHt9LFxuICAgICAgcm91bmQsXG4gICAgICBvblJlbmRlcixcbiAgICAgICRzbG90c1xuICAgIH0gPSB0aGlzO1xuICAgIG9uUmVuZGVyID09PSBudWxsIHx8IG9uUmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblJlbmRlcigpO1xuICAgIGNvbnN0IGF2YXRhck5vZGUgPSByZXNvbHZlV3JhcHBlZFNsb3QoJHNsb3RzLmF2YXRhciwgY2hpbGRyZW4gPT4gY2hpbGRyZW4gJiYgaChcImRpdlwiLCB7XG4gICAgICBjbGFzczogYCR7bWVyZ2VkQ2xzUHJlZml4fS10YWdfX2F2YXRhcmBcbiAgICB9LCBjaGlsZHJlbikpO1xuICAgIGNvbnN0IGljb25Ob2RlID0gcmVzb2x2ZVdyYXBwZWRTbG90KCRzbG90cy5pY29uLCBjaGlsZHJlbiA9PiBjaGlsZHJlbiAmJiBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LXRhZ19faWNvbmBcbiAgICB9LCBjaGlsZHJlbikpO1xuICAgIHJldHVybiBoKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBbYCR7bWVyZ2VkQ2xzUHJlZml4fS10YWdgLCB0aGlzLnRoZW1lQ2xhc3MsIHtcbiAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1ydGxgXTogcnRsRW5hYmxlZCxcbiAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1zdHJvbmdgXTogdGhpcy5zdHJvbmcsXG4gICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXRhZy0tZGlzYWJsZWRgXTogdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1jaGVja2FibGVgXTogdGhpcy5jaGVja2FibGUsXG4gICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXRhZy0tY2hlY2tlZGBdOiB0aGlzLmNoZWNrYWJsZSAmJiB0aGlzLmNoZWNrZWQsXG4gICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXRhZy0tcm91bmRgXTogcm91bmQsXG4gICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXRhZy0tYXZhdGFyYF06IGF2YXRhck5vZGUsXG4gICAgICAgIFtgJHttZXJnZWRDbHNQcmVmaXh9LXRhZy0taWNvbmBdOiBpY29uTm9kZSxcbiAgICAgICAgW2Ake21lcmdlZENsc1ByZWZpeH0tdGFnLS1jbG9zYWJsZWBdOiBjbG9zYWJsZVxuICAgICAgfV0sXG4gICAgICBzdHlsZTogdGhpcy5jc3NWYXJzLFxuICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGljayxcbiAgICAgIG9uTW91c2VlbnRlcjogdGhpcy5vbk1vdXNlZW50ZXIsXG4gICAgICBvbk1vdXNlbGVhdmU6IHRoaXMub25Nb3VzZWxlYXZlXG4gICAgfSwgaWNvbk5vZGUgfHwgYXZhdGFyTm9kZSwgaChcInNwYW5cIiwge1xuICAgICAgY2xhc3M6IGAke21lcmdlZENsc1ByZWZpeH0tdGFnX19jb250ZW50YCxcbiAgICAgIHJlZjogXCJjb250ZW50UmVmXCJcbiAgICB9LCAoX2IgPSAoX2EgPSB0aGlzLiRzbG90cykuZGVmYXVsdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSwgIXRoaXMuY2hlY2thYmxlICYmIGNsb3NhYmxlID8gaChOQmFzZUNsb3NlLCB7XG4gICAgICBjbHNQcmVmaXg6IG1lcmdlZENsc1ByZWZpeCxcbiAgICAgIGNsYXNzOiBgJHttZXJnZWRDbHNQcmVmaXh9LXRhZ19fY2xvc2VgLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsb3NlQ2xpY2ssXG4gICAgICBmb2N1c2FibGU6IHRoaXMuaW50ZXJuYWxDbG9zZUZvY3VzYWJsZSxcbiAgICAgIHJvdW5kOiByb3VuZCxcbiAgICAgIGlzQnV0dG9uVGFnOiB0aGlzLmludGVybmFsQ2xvc2VJc0J1dHRvblRhZyxcbiAgICAgIGFic29sdXRlOiB0cnVlXG4gICAgfSkgOiBudWxsLCAhdGhpcy5jaGVja2FibGUgJiYgdGhpcy5tZXJnZWRCb3JkZXJlZCA/IGgoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGAke21lcmdlZENsc1ByZWZpeH0tdGFnX19ib3JkZXJgLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYm9yZGVyQ29sb3JcbiAgICAgIH1cbiAgICB9KSA6IG51bGwpO1xuICB9XG59KTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIGNvbG9yOiBPYmplY3QsXG4gIHR5cGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2RlZmF1bHQnXG4gIH0sXG4gIHJvdW5kOiBCb29sZWFuLFxuICBzaXplOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdtZWRpdW0nXG4gIH0sXG4gIGNsb3NhYmxlOiBCb29sZWFuLFxuICBkaXNhYmxlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdW5kZWZpbmVkXG4gIH1cbn07IiwiaW1wb3J0IHsgYywgY0IsIGNFLCBjTSwgY05vdE0gfSBmcm9tIFwiLi4vLi4vLi4vX3V0aWxzL2Nzc3IvaW5kZXgubWpzXCI7XG4vLyB2YXJzOlxuLy8gLS1uLWJlemllclxuLy8gLS1uLWJvcmRlci1yYWRpdXNcbi8vIC0tbi1ib3JkZXJcbi8vIC0tbi1jbG9zZS1pY29uLWNvbG9yXG4vLyAtLW4tY2xvc2UtaWNvbi1jb2xvci1ob3ZlclxuLy8gLS1uLWNsb3NlLWljb24tY29sb3ItcHJlc3NlZFxuLy8gLS1uLWNsb3NlLW1hcmdpblxuLy8gLS1uLWNsb3NlLXNpemVcbi8vIC0tbi1jb2xvclxuLy8gLS1uLWNvbG9yLWNoZWNrYWJsZVxuLy8gLS1uLWNvbG9yLWNoZWNrZWRcbi8vIC0tbi1jb2xvci1jaGVja2VkLWhvdmVyXG4vLyAtLW4tY29sb3ItY2hlY2tlZC1wcmVzc2VkXG4vLyAtLW4tY29sb3ItaG92ZXItY2hlY2thYmxlXG4vLyAtLW4tY29sb3ItcHJlc3NlZC1jaGVja2FibGVcbi8vIC0tbi1mb250LXNpemVcbi8vIC0tbi1oZWlnaHRcbi8vIC0tbi1vcGFjaXR5LWRpc2FibGVkXG4vLyAtLW4tcGFkZGluZ1xuLy8gLS1uLXRleHQtY29sb3Jcbi8vIC0tbi10ZXh0LWNvbG9yLWNoZWNrYWJsZVxuLy8gLS1uLXRleHQtY29sb3ItY2hlY2tlZFxuLy8gLS1uLXRleHQtY29sb3ItaG92ZXItY2hlY2thYmxlXG4vLyAtLW4tdGV4dC1jb2xvci1wcmVzc2VkLWNoZWNrYWJsZVxuLy8gLS1uLWZvbnQtd2VpZ2h0LXN0cm9uZ1xuZXhwb3J0IGRlZmF1bHQgY0IoJ3RhZycsIGBcbiAtLW4tY2xvc2UtbWFyZ2luOiB2YXIoLS1uLWNsb3NlLW1hcmdpbi10b3ApIHZhcigtLW4tY2xvc2UtbWFyZ2luLXJpZ2h0KSB2YXIoLS1uLWNsb3NlLW1hcmdpbi1ib3R0b20pIHZhcigtLW4tY2xvc2UtbWFyZ2luLWxlZnQpO1xuIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gcG9zaXRpb246IHJlbGF0aXZlO1xuIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gY3Vyc29yOiBkZWZhdWx0O1xuIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gZmxleC13cmFwOiBub3dyYXA7XG4gcGFkZGluZzogdmFyKC0tbi1wYWRkaW5nKTtcbiBib3JkZXItcmFkaXVzOiB2YXIoLS1uLWJvcmRlci1yYWRpdXMpO1xuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3IpO1xuIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3IpO1xuIHRyYW5zaXRpb246IFxuIGJvcmRlci1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJhY2tncm91bmQtY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGJveC1zaGFkb3cgLjNzIHZhcigtLW4tYmV6aWVyKSxcbiBvcGFjaXR5IC4zcyB2YXIoLS1uLWJlemllcik7XG4gbGluZS1oZWlnaHQ6IDE7XG4gaGVpZ2h0OiB2YXIoLS1uLWhlaWdodCk7XG4gZm9udC1zaXplOiB2YXIoLS1uLWZvbnQtc2l6ZSk7XG5gLCBbY00oJ3N0cm9uZycsIGBcbiBmb250LXdlaWdodDogdmFyKC0tbi1mb250LXdlaWdodC1zdHJvbmcpO1xuIGApLCBjRSgnYm9yZGVyJywgYFxuIHBvaW50ZXItZXZlbnRzOiBub25lO1xuIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiBsZWZ0OiAwO1xuIHJpZ2h0OiAwO1xuIHRvcDogMDtcbiBib3R0b206IDA7XG4gYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiBib3JkZXI6IHZhcigtLW4tYm9yZGVyKTtcbiB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjNzIHZhcigtLW4tYmV6aWVyKTtcbiBgKSwgY0UoJ2ljb24nLCBgXG4gZGlzcGxheTogZmxleDtcbiBtYXJnaW46IDAgNHB4IDAgMDtcbiBjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yKTtcbiB0cmFuc2l0aW9uOiBjb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpO1xuIGZvbnQtc2l6ZTogdmFyKC0tbi1hdmF0YXItc2l6ZS1vdmVycmlkZSk7XG4gYCksIGNFKCdhdmF0YXInLCBgXG4gZGlzcGxheTogZmxleDtcbiBtYXJnaW46IDAgNnB4IDAgMDtcbiBgKSwgY0UoJ2Nsb3NlJywgYFxuIG1hcmdpbjogdmFyKC0tbi1jbG9zZS1tYXJnaW4pO1xuIHRyYW5zaXRpb246XG4gYmFja2dyb3VuZC1jb2xvciAuM3MgdmFyKC0tbi1iZXppZXIpLFxuIGNvbG9yIC4zcyB2YXIoLS1uLWJlemllcik7XG4gYCksIGNNKCdyb3VuZCcsIGBcbiBwYWRkaW5nOiAwIGNhbGModmFyKC0tbi1oZWlnaHQpIC8gMyk7XG4gYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS1uLWhlaWdodCkgLyAyKTtcbiBgLCBbY0UoJ2ljb24nLCBgXG4gbWFyZ2luOiAwIDRweCAwIGNhbGMoKHZhcigtLW4taGVpZ2h0KSAtIDhweCkgLyAtMik7XG4gYCksIGNFKCdhdmF0YXInLCBgXG4gbWFyZ2luOiAwIDZweCAwIGNhbGMoKHZhcigtLW4taGVpZ2h0KSAtIDhweCkgLyAtMik7XG4gYCksIGNNKCdjbG9zYWJsZScsIGBcbiBwYWRkaW5nOiAwIGNhbGModmFyKC0tbi1oZWlnaHQpIC8gNCkgMCBjYWxjKHZhcigtLW4taGVpZ2h0KSAvIDMpO1xuIGApXSksIGNNKCdpY29uLCBhdmF0YXInLCBbY00oJ3JvdW5kJywgYFxuIHBhZGRpbmc6IDAgY2FsYyh2YXIoLS1uLWhlaWdodCkgLyAzKSAwIGNhbGModmFyKC0tbi1oZWlnaHQpIC8gMik7XG4gYCldKSwgY00oJ2Rpc2FibGVkJywgYFxuIGN1cnNvcjogbm90LWFsbG93ZWQgIWltcG9ydGFudDtcbiBvcGFjaXR5OiB2YXIoLS1uLW9wYWNpdHktZGlzYWJsZWQpO1xuIGApLCBjTSgnY2hlY2thYmxlJywgYFxuIGN1cnNvcjogcG9pbnRlcjtcbiBib3gtc2hhZG93OiBub25lO1xuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3ItY2hlY2thYmxlKTtcbiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uLWNvbG9yLWNoZWNrYWJsZSk7XG4gYCwgW2NOb3RNKCdkaXNhYmxlZCcsIFtjKCcmOmhvdmVyJywgJ2JhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItaG92ZXItY2hlY2thYmxlKTsnLCBbY05vdE0oJ2NoZWNrZWQnLCAnY29sb3I6IHZhcigtLW4tdGV4dC1jb2xvci1ob3Zlci1jaGVja2FibGUpOycpXSksIGMoJyY6YWN0aXZlJywgJ2JhY2tncm91bmQtY29sb3I6IHZhcigtLW4tY29sb3ItcHJlc3NlZC1jaGVja2FibGUpOycsIFtjTm90TSgnY2hlY2tlZCcsICdjb2xvcjogdmFyKC0tbi10ZXh0LWNvbG9yLXByZXNzZWQtY2hlY2thYmxlKTsnKV0pXSksIGNNKCdjaGVja2VkJywgYFxuIGNvbG9yOiB2YXIoLS1uLXRleHQtY29sb3ItY2hlY2tlZCk7XG4gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1jaGVja2VkKTtcbiBgLCBbY05vdE0oJ2Rpc2FibGVkJywgW2MoJyY6aG92ZXInLCAnYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1jaGVja2VkLWhvdmVyKTsnKSwgYygnJjphY3RpdmUnLCAnYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbi1jb2xvci1jaGVja2VkLXByZXNzZWQpOycpXSldKV0pXSk7IiwiaW1wb3J0IGNvbW1vblZhcmlhYmxlcyBmcm9tIFwiLi9fY29tbW9uLm1qc1wiO1xuaW1wb3J0IHsgY2hhbmdlQ29sb3IgfSBmcm9tICdzZWVtbHknO1xuaW1wb3J0IHsgY29tbW9uTGlnaHQgfSBmcm9tIFwiLi4vLi4vX3N0eWxlcy9jb21tb24vaW5kZXgubWpzXCI7XG5jb25zdCBzZWxmID0gdmFycyA9PiB7XG4gIGNvbnN0IHtcbiAgICB0ZXh0Q29sb3IyLFxuICAgIHByaW1hcnlDb2xvckhvdmVyLFxuICAgIHByaW1hcnlDb2xvclByZXNzZWQsXG4gICAgcHJpbWFyeUNvbG9yLFxuICAgIGluZm9Db2xvcixcbiAgICBzdWNjZXNzQ29sb3IsXG4gICAgd2FybmluZ0NvbG9yLFxuICAgIGVycm9yQ29sb3IsXG4gICAgYmFzZUNvbG9yLFxuICAgIGJvcmRlckNvbG9yLFxuICAgIG9wYWNpdHlEaXNhYmxlZCxcbiAgICB0YWdDb2xvcixcbiAgICBjbG9zZUljb25Db2xvcixcbiAgICBjbG9zZUljb25Db2xvckhvdmVyLFxuICAgIGNsb3NlSWNvbkNvbG9yUHJlc3NlZCxcbiAgICBib3JkZXJSYWRpdXNTbWFsbDogYm9yZGVyUmFkaXVzLFxuICAgIGZvbnRTaXplTWluaSxcbiAgICBmb250U2l6ZVRpbnksXG4gICAgZm9udFNpemVTbWFsbCxcbiAgICBmb250U2l6ZU1lZGl1bSxcbiAgICBoZWlnaHRNaW5pLFxuICAgIGhlaWdodFRpbnksXG4gICAgaGVpZ2h0U21hbGwsXG4gICAgaGVpZ2h0TWVkaXVtLFxuICAgIGNsb3NlQ29sb3JIb3ZlcixcbiAgICBjbG9zZUNvbG9yUHJlc3NlZCxcbiAgICBidXR0b25Db2xvcjJIb3ZlcixcbiAgICBidXR0b25Db2xvcjJQcmVzc2VkLFxuICAgIGZvbnRXZWlnaHRTdHJvbmdcbiAgfSA9IHZhcnM7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblZhcmlhYmxlcyksIHtcbiAgICBjbG9zZUJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgIGhlaWdodFRpbnk6IGhlaWdodE1pbmksXG4gICAgaGVpZ2h0U21hbGw6IGhlaWdodFRpbnksXG4gICAgaGVpZ2h0TWVkaXVtOiBoZWlnaHRTbWFsbCxcbiAgICBoZWlnaHRMYXJnZTogaGVpZ2h0TWVkaXVtLFxuICAgIGJvcmRlclJhZGl1cyxcbiAgICBvcGFjaXR5RGlzYWJsZWQsXG4gICAgZm9udFNpemVUaW55OiBmb250U2l6ZU1pbmksXG4gICAgZm9udFNpemVTbWFsbDogZm9udFNpemVUaW55LFxuICAgIGZvbnRTaXplTWVkaXVtOiBmb250U2l6ZVNtYWxsLFxuICAgIGZvbnRTaXplTGFyZ2U6IGZvbnRTaXplTWVkaXVtLFxuICAgIGZvbnRXZWlnaHRTdHJvbmcsXG4gICAgLy8gY2hlY2tlZFxuICAgIHRleHRDb2xvckNoZWNrYWJsZTogdGV4dENvbG9yMixcbiAgICB0ZXh0Q29sb3JIb3ZlckNoZWNrYWJsZTogdGV4dENvbG9yMixcbiAgICB0ZXh0Q29sb3JQcmVzc2VkQ2hlY2thYmxlOiB0ZXh0Q29sb3IyLFxuICAgIHRleHRDb2xvckNoZWNrZWQ6IGJhc2VDb2xvcixcbiAgICBjb2xvckNoZWNrYWJsZTogJyMwMDAwJyxcbiAgICBjb2xvckhvdmVyQ2hlY2thYmxlOiBidXR0b25Db2xvcjJIb3ZlcixcbiAgICBjb2xvclByZXNzZWRDaGVja2FibGU6IGJ1dHRvbkNvbG9yMlByZXNzZWQsXG4gICAgY29sb3JDaGVja2VkOiBwcmltYXJ5Q29sb3IsXG4gICAgY29sb3JDaGVja2VkSG92ZXI6IHByaW1hcnlDb2xvckhvdmVyLFxuICAgIGNvbG9yQ2hlY2tlZFByZXNzZWQ6IHByaW1hcnlDb2xvclByZXNzZWQsXG4gICAgLy8gZGVmYXVsdFxuICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2JvcmRlckNvbG9yfWAsXG4gICAgdGV4dENvbG9yOiB0ZXh0Q29sb3IyLFxuICAgIGNvbG9yOiB0YWdDb2xvcixcbiAgICBjb2xvckJvcmRlcmVkOiAncmdiKDI1MCwgMjUwLCAyNTIpJyxcbiAgICBjbG9zZUljb25Db2xvcixcbiAgICBjbG9zZUljb25Db2xvckhvdmVyLFxuICAgIGNsb3NlSWNvbkNvbG9yUHJlc3NlZCxcbiAgICBjbG9zZUNvbG9ySG92ZXIsXG4gICAgY2xvc2VDb2xvclByZXNzZWQsXG4gICAgYm9yZGVyUHJpbWFyeTogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKHByaW1hcnlDb2xvciwge1xuICAgICAgYWxwaGE6IDAuM1xuICAgIH0pfWAsXG4gICAgdGV4dENvbG9yUHJpbWFyeTogcHJpbWFyeUNvbG9yLFxuICAgIGNvbG9yUHJpbWFyeTogY2hhbmdlQ29sb3IocHJpbWFyeUNvbG9yLCB7XG4gICAgICBhbHBoYTogMC4xMlxuICAgIH0pLFxuICAgIGNvbG9yQm9yZGVyZWRQcmltYXJ5OiBjaGFuZ2VDb2xvcihwcmltYXJ5Q29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjFcbiAgICB9KSxcbiAgICBjbG9zZUljb25Db2xvclByaW1hcnk6IHByaW1hcnlDb2xvcixcbiAgICBjbG9zZUljb25Db2xvckhvdmVyUHJpbWFyeTogcHJpbWFyeUNvbG9yLFxuICAgIGNsb3NlSWNvbkNvbG9yUHJlc3NlZFByaW1hcnk6IHByaW1hcnlDb2xvcixcbiAgICBjbG9zZUNvbG9ySG92ZXJQcmltYXJ5OiBjaGFuZ2VDb2xvcihwcmltYXJ5Q29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjEyXG4gICAgfSksXG4gICAgY2xvc2VDb2xvclByZXNzZWRQcmltYXJ5OiBjaGFuZ2VDb2xvcihwcmltYXJ5Q29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjE4XG4gICAgfSksXG4gICAgYm9yZGVySW5mbzogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKGluZm9Db2xvciwge1xuICAgICAgYWxwaGE6IDAuM1xuICAgIH0pfWAsXG4gICAgdGV4dENvbG9ySW5mbzogaW5mb0NvbG9yLFxuICAgIGNvbG9ySW5mbzogY2hhbmdlQ29sb3IoaW5mb0NvbG9yLCB7XG4gICAgICBhbHBoYTogMC4xMlxuICAgIH0pLFxuICAgIGNvbG9yQm9yZGVyZWRJbmZvOiBjaGFuZ2VDb2xvcihpbmZvQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjFcbiAgICB9KSxcbiAgICBjbG9zZUljb25Db2xvckluZm86IGluZm9Db2xvcixcbiAgICBjbG9zZUljb25Db2xvckhvdmVySW5mbzogaW5mb0NvbG9yLFxuICAgIGNsb3NlSWNvbkNvbG9yUHJlc3NlZEluZm86IGluZm9Db2xvcixcbiAgICBjbG9zZUNvbG9ySG92ZXJJbmZvOiBjaGFuZ2VDb2xvcihpbmZvQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjEyXG4gICAgfSksXG4gICAgY2xvc2VDb2xvclByZXNzZWRJbmZvOiBjaGFuZ2VDb2xvcihpbmZvQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjE4XG4gICAgfSksXG4gICAgYm9yZGVyU3VjY2VzczogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKHN1Y2Nlc3NDb2xvciwge1xuICAgICAgYWxwaGE6IDAuM1xuICAgIH0pfWAsXG4gICAgdGV4dENvbG9yU3VjY2Vzczogc3VjY2Vzc0NvbG9yLFxuICAgIGNvbG9yU3VjY2VzczogY2hhbmdlQ29sb3Ioc3VjY2Vzc0NvbG9yLCB7XG4gICAgICBhbHBoYTogMC4xMlxuICAgIH0pLFxuICAgIGNvbG9yQm9yZGVyZWRTdWNjZXNzOiBjaGFuZ2VDb2xvcihzdWNjZXNzQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjFcbiAgICB9KSxcbiAgICBjbG9zZUljb25Db2xvclN1Y2Nlc3M6IHN1Y2Nlc3NDb2xvcixcbiAgICBjbG9zZUljb25Db2xvckhvdmVyU3VjY2Vzczogc3VjY2Vzc0NvbG9yLFxuICAgIGNsb3NlSWNvbkNvbG9yUHJlc3NlZFN1Y2Nlc3M6IHN1Y2Nlc3NDb2xvcixcbiAgICBjbG9zZUNvbG9ySG92ZXJTdWNjZXNzOiBjaGFuZ2VDb2xvcihzdWNjZXNzQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjEyXG4gICAgfSksXG4gICAgY2xvc2VDb2xvclByZXNzZWRTdWNjZXNzOiBjaGFuZ2VDb2xvcihzdWNjZXNzQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjE4XG4gICAgfSksXG4gICAgYm9yZGVyV2FybmluZzogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKHdhcm5pbmdDb2xvciwge1xuICAgICAgYWxwaGE6IDAuMzVcbiAgICB9KX1gLFxuICAgIHRleHRDb2xvcldhcm5pbmc6IHdhcm5pbmdDb2xvcixcbiAgICBjb2xvcldhcm5pbmc6IGNoYW5nZUNvbG9yKHdhcm5pbmdDb2xvciwge1xuICAgICAgYWxwaGE6IDAuMTVcbiAgICB9KSxcbiAgICBjb2xvckJvcmRlcmVkV2FybmluZzogY2hhbmdlQ29sb3Iod2FybmluZ0NvbG9yLCB7XG4gICAgICBhbHBoYTogMC4xMlxuICAgIH0pLFxuICAgIGNsb3NlSWNvbkNvbG9yV2FybmluZzogd2FybmluZ0NvbG9yLFxuICAgIGNsb3NlSWNvbkNvbG9ySG92ZXJXYXJuaW5nOiB3YXJuaW5nQ29sb3IsXG4gICAgY2xvc2VJY29uQ29sb3JQcmVzc2VkV2FybmluZzogd2FybmluZ0NvbG9yLFxuICAgIGNsb3NlQ29sb3JIb3Zlcldhcm5pbmc6IGNoYW5nZUNvbG9yKHdhcm5pbmdDb2xvciwge1xuICAgICAgYWxwaGE6IDAuMTJcbiAgICB9KSxcbiAgICBjbG9zZUNvbG9yUHJlc3NlZFdhcm5pbmc6IGNoYW5nZUNvbG9yKHdhcm5pbmdDb2xvciwge1xuICAgICAgYWxwaGE6IDAuMThcbiAgICB9KSxcbiAgICBib3JkZXJFcnJvcjogYDFweCBzb2xpZCAke2NoYW5nZUNvbG9yKGVycm9yQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjIzXG4gICAgfSl9YCxcbiAgICB0ZXh0Q29sb3JFcnJvcjogZXJyb3JDb2xvcixcbiAgICBjb2xvckVycm9yOiBjaGFuZ2VDb2xvcihlcnJvckNvbG9yLCB7XG4gICAgICBhbHBoYTogMC4xXG4gICAgfSksXG4gICAgY29sb3JCb3JkZXJlZEVycm9yOiBjaGFuZ2VDb2xvcihlcnJvckNvbG9yLCB7XG4gICAgICBhbHBoYTogMC4wOFxuICAgIH0pLFxuICAgIGNsb3NlSWNvbkNvbG9yRXJyb3I6IGVycm9yQ29sb3IsXG4gICAgY2xvc2VJY29uQ29sb3JIb3ZlckVycm9yOiBlcnJvckNvbG9yLFxuICAgIGNsb3NlSWNvbkNvbG9yUHJlc3NlZEVycm9yOiBlcnJvckNvbG9yLFxuICAgIGNsb3NlQ29sb3JIb3ZlckVycm9yOiBjaGFuZ2VDb2xvcihlcnJvckNvbG9yLCB7XG4gICAgICBhbHBoYTogMC4xMlxuICAgIH0pLFxuICAgIGNsb3NlQ29sb3JQcmVzc2VkRXJyb3I6IGNoYW5nZUNvbG9yKGVycm9yQ29sb3IsIHtcbiAgICAgIGFscGhhOiAwLjE4XG4gICAgfSlcbiAgfSk7XG59O1xuY29uc3QgdGFnTGlnaHQgPSB7XG4gIG5hbWU6ICdUYWcnLFxuICBjb21tb246IGNvbW1vbkxpZ2h0LFxuICBzZWxmXG59O1xuZXhwb3J0IGRlZmF1bHQgdGFnTGlnaHQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9