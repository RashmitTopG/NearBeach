"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8067],{5043:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Pa});var i=s(641);const n={class:"card"},a={class:"card-body"},l={class:"nav nav-tabs",id:"misc_module_tabs",role:"tablist"},o={key:0,class:"nav-item",role:"presentation"},r=[(0,i.Lk)("button",{class:"nav-link active",id:"group-and-user-tab","data-bs-toggle":"tab","data-bs-target":"#group-and-users",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Groups and Users ",-1)],d={key:1,class:"nav-item",role:"presentation"},c=[(0,i.Lk)("button",{class:"nav-link",id:"requirement-item-tab","data-bs-toggle":"tab","data-bs-target":"#requirement-items",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Requirement Item ",-1)],u={key:2,class:"nav-item",role:"presentation"},m=[(0,i.Lk)("button",{class:"nav-link",id:"requirement-link-tab","data-bs-toggle":"tab","data-bs-target":"#requirement-links",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Requirement Links ",-1)],p={key:3,class:"nav-item",role:"presentation"},k=[(0,i.Lk)("button",{class:"nav-link",id:"requirement-item-link-tab","data-bs-toggle":"tab","data-bs-target":"#requirement-item-links",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Links ",-1)],b=(0,i.Lk)("li",{class:"nav-item",role:"presentation"},[(0,i.Lk)("button",{class:"nav-link",id:"documents-tab","data-bs-toggle":"tab","data-bs-target":"#documents",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Documents ")],-1),h={key:4,class:"nav-item",role:"presentation"},L=[(0,i.Lk)("button",{class:"nav-link",id:"object-link-tabs","data-bs-toggle":"tab","data-bs-target":"#object-links",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Linked Objects ",-1)],g={key:5,class:"nav-item",role:"presentation"},v=[(0,i.Lk)("button",{class:"nav-link",id:"customer-tab","data-bs-toggle":"tab","data-bs-target":"#customers",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Customers ",-1)],_=(0,i.Lk)("li",{class:"nav-item",role:"presentation"},[(0,i.Lk)("button",{class:"nav-link",id:"sprints-tab","data-bs-toggle":"tab","data-bs-target":"#sprints",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Sprints ")],-1),y=(0,i.Lk)("li",{class:"nav-item",role:"presentation"},[(0,i.Lk)("button",{class:"nav-link",id:"misc-tab","data-bs-toggle":"tab","data-bs-target":"#misc",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Misc ")],-1),f=(0,i.Lk)("li",{class:"nav-item",role:"presentation"},[(0,i.Lk)("button",{class:"nav-link",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#notes",type:"button",role:"tab","aria-controls":"home","aria-select":"false"}," Notes ")],-1),S=(0,i.Lk)("hr",null,null,-1),I={class:"tab-content",id:"misc_module_content"},C={key:0,class:"tab-pane fade show active",id:"group-and-users",role:"tabpanel","aria-labelledby":"contact-tab"},w={key:1,class:"tab-pane fade",id:"requirement-items",role:"tabpanel","aria-labelledby":"home-tab"},j={key:2,class:"tab-pane fade",id:"requirement-links",role:"tabpanel","aria-labelledby":"profile-tab"},R={key:3,class:"tab-pane fade",id:"requirement-item-links",role:"tabpanel","aria-labelledby":"profile-tab"},E={class:"tab-pane fade",id:"documents",role:"tabpanel","aria-labelledby":"contact-tab"},M={class:"tab-pane fade",id:"object-links",role:"tabpanel","aria-labelledby":"contact-tab"},T={class:"tab-pane fade",id:"customers",role:"tabpanel","aria-labelledby":"contact-tab"},$={class:"tab-pane fade",id:"sprints",role:"tabpanel","aria-labelledby":"tabpanel"},D={class:"tab-pane fade",id:"misc",role:"tabpanel","aria-labelledby":"contact-tab"},x={class:"tab-pane fade",id:"notes",role:"tabpanel","aria-labelledby":"contact-tab"};var U=s(5675);const F=(0,i.Lk)("p",{class:"text-instructions"}," Requirements should be broken down into smaller components called Requirement Items. ",-1),O={key:0,class:"requirement-item-spacer"},q=[(0,i.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no Items for this requirement. ",-1)],A={key:1},N={key:2},B={key:3,class:"row submit-row"},Q={class:"col-md-12"};var X=s(9336),W=s(2321),P=s(3751);const z={class:"modal fade",id:"newItemModal",tabindex:"-1","aria-labelledby":"requirementItemModal","aria-hidden":"true"},K={class:"modal-dialog modal-xl modal-fullscreen-lg-down"},H={class:"modal-content"},G={class:"modal-header"},V=(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"requirementItemCloseButton"},[(0,i.Lk)("span",{"aria-hidden":"true"})],-1),J={class:"modal-body"},Y={class:"row"},Z=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Description"),(0,i.Lk)("p",{class:"text-instructions"}," Place in a detailed description of this requirement item. This particular item can be then connected to Project or Tasks. ")],-1),ee={class:"col-md-8"},te={for:"id_requirement_item_title"},se=(0,i.Lk)("br",null,null,-1),ie=(0,i.Lk)("br",null,null,-1),ne=(0,i.Lk)("hr",null,null,-1),ae={class:"row"},le=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("h2",null,"Status"),(0,i.Lk)("p",{class:"text-instructions"}," Set the Requirement Status and Type here. ")],-1),oe={class:"col-md-4"},re={class:"form-group"},de={class:"col-md-4"},ce={class:"form-group"},ue={class:"modal-footer"},me=(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);var pe=s(1080),ke=s(8838),be=s(2243),he=s(9639),Le=s(3855),ge=s(404),ve=s(2124);const _e={name:"NewRequirementItemWizard",setup:()=>({v$:(0,he.Ay)()}),components:{editor:ke.A,Icon:W.In,NSelect:pe.A,ValidationRendering:ge.A},mixins:[be.A],data:()=>({requirementItemScopeModel:"",requirementItemTitleModel:"",statusItemFixList:[],statusItemModel:"",typeItemFixList:[],typeItemModel:""}),computed:{...(0,ve.L8)({contentCss:"getContentCss",locationId:"getLocationId",rootUrl:"getRootUrl",skin:"getSkin"})},validations:{requirementItemScopeModel:{required:Le.mw,maxLength:(0,Le.Ru)(63e4)},requirementItemTitleModel:{required:Le.mw},statusItemModel:{required:Le.mw},typeItemModel:{required:Le.mw}},methods:{saveItem(){if(this.v$.$touch(),this.v$.$invalid)return;const e=new FormData;e.set("requirement_item_title",this.requirementItemTitleModel),e.set("requirement_item_scope",this.requirementItemScopeModel),e.set("requirement_item_status",this.statusItemModel),e.set("requirement_item_type",this.typeItemModel),this.axios.post(`${this.rootUrl}new_requirement_item/save/${this.locationId}/`,e).then((e=>{this.requirementItemScopeModel="",this.requirementItemTitleModel="",this.statusItemModel="",this.typeItemModel="",this.$emit("new_item_added",e.data),document.getElementById("requirementItemCloseButton").click()})).catch((e=>{this.$store.dispatch("newToast",{header:"Failed to save item",message:`Failed to save item. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},updateStatusList(){this.axios.post(`${this.rootUrl}requirement_information/data/list_of_item_status_values/`).then((e=>{this.statusItemFixList=e.data.map((e=>({value:e.pk,label:e.fields.requirement_item_status})))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Updating Status List",message:`There was an error updating the status list - error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},updateTypeList(){this.axios.post(`${this.rootUrl}requirement_information/data/list_of_item_type_values/`).then((e=>{this.typeItemFixList=e.data.map((e=>({value:e.pk,label:e.fields.requirement_item_type})))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Updating Type List",message:`There was an error updating the type list - error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},mounted(){this.$nextTick((()=>{this.updateStatusList(),this.updateTypeList()}))}};var ye=s(6262);const fe=(0,ye.A)(_e,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("validation-rendering"),d=(0,i.g2)("editor"),c=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)("div",z,[(0,i.Lk)("div",K,[(0,i.Lk)("div",H,[(0,i.Lk)("div",G,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.clipboardIcon},null,8,["icon"]),(0,i.eW)(" New Requirement Item Wizard ")]),V]),(0,i.Lk)("div",J,[(0,i.Lk)("div",Y,[Z,(0,i.Lk)("div",ee,[(0,i.Lk)("label",te,[(0,i.eW)("Requirement Item Title: "),(0,i.bF)(r,{"error-list":n.v$.requirementItemTitleModel.$errors},null,8,["error-list"])]),(0,i.bo)((0,i.Lk)("input",{id:"id_requirement_item_title",class:"form-control",name:"requirement_item_title",type:"text",required:"true",maxlength:"255","onUpdate:modelValue":t[0]||(t[0]=e=>a.requirementItemTitleModel=e)},null,512),[[P.vModelText,a.requirementItemTitleModel]]),se,(0,i.Lk)("label",null,[(0,i.eW)(" Requirement Item Scope: "),(0,i.bF)(r,{"error-list":n.v$.requirementItemTitleModel.$errors},null,8,["error-list"])]),ie,(0,i.bF)(d,{init:{height:500,menubar:!1,plugins:["lists","codesample","table"],toolbar:"undo redo | blocks | bold italic strikethrough underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table image codesample",skin:`${this.skin}`,content_css:`${this.contentCss}`},modelValue:a.requirementItemScopeModel,"onUpdate:modelValue":t[1]||(t[1]=e=>a.requirementItemScopeModel=e)},null,8,["init","modelValue"])])]),(0,i.Q3)(" Status "),ne,(0,i.Lk)("div",ae,[le,(0,i.Lk)("div",oe,[(0,i.Lk)("div",re,[(0,i.Lk)("label",null,[(0,i.eW)("Requirement Status "),(0,i.bF)(r,{"error-list":n.v$.requirementItemTitleModel.$errors},null,8,["error-list"])]),(0,i.bF)(c,{options:a.statusItemFixList,label:"status",value:a.statusItemModel,"onUpdate:value":t[2]||(t[2]=e=>a.statusItemModel=e)},null,8,["options","value"])])]),(0,i.Lk)("div",de,[(0,i.Lk)("div",ce,[(0,i.Lk)("label",null,[(0,i.eW)("Requirement Type "),(0,i.bF)(r,{"error-list":n.v$.typeItemModel.$errors},null,8,["error-list"])]),(0,i.bF)(c,{options:a.typeItemFixList,label:"type",value:a.typeItemModel,"onUpdate:value":t[3]||(t[3]=e=>a.typeItemModel=e)},null,8,["options","value"])])])])]),(0,i.Q3)(" FOOTERS "),(0,i.Lk)("div",ue,[me,(0,i.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>l.saveItem&&l.saveItem(...e))}," Save Requirement Item ")])])])])}]]),Se={name:"RequirementItemsModule",components:{RenderObjectCard:s(469).A,Icon:W.In,NewRequirementItemWizard:fe},mixins:[be.A],data:()=>({requirementItemVariables:{header:"Requirement Items",prefix:"RI-",id:"requirement_item_id",title:"requirement_item_title",status:"requirement_item_status_text",end_date:""},itemResults:[],itemStatusList:[],itemTypeList:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{createNewItem(){new X.aF(document.getElementById("newItemModal")).show()},newItemAdded(e){this.itemResults=e},updateItemResults(){this.axios.post("data/items/").then((e=>{this.itemResults=e.data})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Updating Item Results",message:`We are having issues updating item results: Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},mounted(){this.updateItemResults()}},Ie=(0,ye.A)(Se,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("render-object-card"),d=(0,i.g2)("new-requirement-item-wizard");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.clipboardIcon},null,8,["icon"]),(0,i.eW)(" Requirement Items ")]),F,(0,i.Q3)(" TABLE OF REQUIREMENT ITEMS "),0===a.itemResults.length?((0,i.uX)(),(0,i.CE)("div",O,q)):((0,i.uX)(),(0,i.CE)("div",A,[(0,i.bF)(r,{"import-variables":a.requirementItemVariables,destination:"requirement_item","search-results":a.itemResults},null,8,["import-variables","search-results"])])),(0,i.Q3)(" Submit Button "),(0,i.Q3)(" TO DO - limit it to certain users "),e.userLevel>1?((0,i.uX)(),(0,i.CE)("hr",N)):(0,i.Q3)("v-if",!0),e.userLevel>1?((0,i.uX)(),(0,i.CE)("div",B,[(0,i.Lk)("div",Q,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.createNewItem&&l.createNewItem(...e)),class:"btn btn-primary save-changes"}," Create new Requirement Item ")])])):(0,i.Q3)("v-if",!0),(0,i.Q3)(" NEW REQUIREMENT ITEM MODAL "),(0,i.bF)(d,{"item-status-list":a.itemStatusList,"item-type-list":a.itemTypeList,"location-id":e.locationId,onNew_item_added:t[1]||(t[1]=e=>l.newItemAdded(e))},null,8,["item-status-list","item-type-list","location-id"])])}]]),Ce=(0,i.Lk)("p",{class:"text-instructions"}," The following are links for the Items to other projects/tasks. ",-1),we={key:0},je=[(0,i.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no Item Links. Please navigate to the Item you wish to add a link too. ",-1)],Re={key:1},Ee={key:2},Me={key:3,class:"row submit-row"},Te={class:"col-md-12"};var $e=s(33);const De={class:"modal fade",id:"newRequirementLinkModal",tabindex:"-1","aria-labelledby":"requirementLinkModal","aria-hidden":"true"},xe={class:"modal-dialog modal-lg"},Ue={class:"modal-content"},Fe={class:"modal-header"},Oe=(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"requirementLinkCloseButton"},[(0,i.Lk)("span",{"aria-hidden":"true"})],-1),qe={class:"modal-body"},Ae={class:"row"},Ne=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Object Selector"),(0,i.Lk)("p",{class:"text-instructions"}," Please select which object you would like to link to this requirement. ")],-1),Be={class:"col-md-8"},Qe={class:"form-group"},Xe=(0,i.Lk)("label",null,"Object Selection",-1),We=(0,i.Lk)("hr",null,null,-1),Pe={class:"row"},ze=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Select Links"),(0,i.Lk)("p",{class:"text-instructions"}," Please select which of the objects you want to connect to this requirement. ")],-1),Ke={class:"col-md-8"},He={key:0,id:"link_wizard_results"},Ge=["src"],Ve={key:1,class:"alert alert-warning"},Je={key:2,class:"form-group"},Ye=(0,i.Lk)("label",null,"Search Terms",-1),Ze=(0,i.Lk)("br",null,null,-1),et={key:3,class:"table"},tt=(0,i.Lk)("td",null,"Status",-1),st={class:"form-check"},it=["value","id"],nt=["for"],at=(0,i.Lk)("div",{class:"spacer"},null,-1),lt={class:"small-text"},ot={class:"modal-footer"},rt=(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),dt=["disabled"],ct={name:"NewRequirementLinkWizard",components:{Icon:W.In,NSelect:pe.A},props:{destination:{type:String,default:""},locationId:{type:Number,default:0}},computed:{...(0,ve.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[be.A],data:()=>({isSearching:!1,linkModel:[],objectModel:null,objectFilteredResults:[],objectResults:[],objectSelection:[{value:"Project",label:"Project"},{value:"Task",label:"Task"}],searchTermModel:""}),methods:{saveLinks(){const e=new FormData;this.linkModel.forEach((t=>{e.append(`${this.objectModel.toLowerCase()}`,t)})),this.axios.post(`${this.rootUrl}${this.destination}_information/${this.locationId}/add_link/`,e).then((e=>{this.$emit("update_module",e.data),document.getElementById("requirementLinkCloseButton").click(),this.objectModel=null}))}},watch:{objectModel(){this.linkModel=[],null!==this.objectModel?(this.isSearching=!0,this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/${this.objectModel.toLowerCase()}/link_list/`).then((e=>{this.objectResults=e.data,this.objectFilteredResults=e.data,this.isSearching=!1,this.searchTermModel=""})).catch((e=>{this.$store.dispatch("newToast",{header:"Error retrieving links",message:"We are currently having issues obtaining data",delay:0,extra_classes:"bg-danger"})}))):this.isSearching=!1},searchTermModel(){""!==this.searchTermModel&&null!==this.searchTermModel?this.objectFilteredResults=this.objectResults.filter((e=>{let t="";return t=void 0!==e.fields.project_description?e.fields.project_description.toLowerCase():e.fields.task_short_description.toLowerCase(),t.includes(this.searchTermModel.toLowerCase())})):this.objectFilteredResults=this.objectResults}}},ut=(0,ye.A)(ct,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)("div",De,[(0,i.Lk)("div",xe,[(0,i.Lk)("div",Ue,[(0,i.Lk)("div",Fe,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.linkOut},null,8,["icon"]),(0,i.eW)(" New Requirement Link Wizard ")]),Oe]),(0,i.Lk)("div",qe,[(0,i.Q3)(" CHOOSING A OBJECT TYPE "),(0,i.Lk)("div",Ae,[Ne,(0,i.Lk)("div",Be,[(0,i.Lk)("div",Qe,[Xe,(0,i.bF)(r,{options:a.objectSelection,value:a.objectModel,"onUpdate:value":t[0]||(t[0]=e=>a.objectModel=e),class:"object-selection"},null,8,["options","value"])])])]),We,(0,i.Q3)(" SELECTING WHICH OBJECTS TO LINK TO "),(0,i.Lk)("div",Pe,[ze,(0,i.Lk)("div",Ke,[(0,i.Q3)(" LOADING PLACEHOLDER "),a.isSearching||null==a.objectModel?((0,i.uX)(),(0,i.CE)("div",He,[(0,i.Lk)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/search.svg`,alt:"Searching..."},null,8,Ge)])):(0,i.Q3)("v-if",!0),0===a.objectResults.length&&null!=a.objectModel?((0,i.uX)(),(0,i.CE)("div",Ve," Sorry - there are no results. ")):(0,i.Q3)("v-if",!0),(0,i.Q3)(" SEARCH RESULTS "),!a.isSearching&&a.objectResults.length>0&&null!=a.objectModel?((0,i.uX)(),(0,i.CE)("div",Je,[Ye,(0,i.bo)((0,i.Lk)("input",{id:"search_terms",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>a.searchTermModel=e),type:"text"},null,512),[[P.vModelText,a.searchTermModel]])])):(0,i.Q3)("v-if",!0),Ze,(0,i.Q3)(" TABLE CONTAINING RESULTS "),!a.isSearching&&a.objectResults.length>0&&null!=a.objectModel?((0,i.uX)(),(0,i.CE)("table",et,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("td",null,(0,$e.toDisplayString)(a.objectModel)+" Description",1),tt])]),(0,i.Q3)(" PROJECTS "),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.objectFilteredResults,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,[(0,i.Lk)("div",st,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"checkbox",value:e.id,id:`checkbox_${a.objectModel.toLowerCase()}_${e.id}`,"onUpdate:modelValue":t[2]||(t[2]=e=>a.linkModel=e)},null,8,it),[[P.vModelCheckbox,a.linkModel]]),(0,i.Lk)("label",{class:"form-check-label",for:`checkbox_${a.objectModel.toLowerCase()}_${e.id}`},(0,$e.toDisplayString)(e.description),9,nt)]),at,(0,i.Lk)("p",lt,(0,$e.toDisplayString)(a.objectModel)+" "+(0,$e.toDisplayString)(e.id),1)]),(0,i.Lk)("td",null,(0,$e.toDisplayString)(e.status),1)])))),128))])])):(0,i.Q3)("v-if",!0)])])]),(0,i.Lk)("div",ot,[rt,(0,i.Lk)("button",{type:"button",class:"btn btn-primary",disabled:0==a.linkModel.length,onClick:t[3]||(t[3]=(...e)=>l.saveLinks&&l.saveLinks(...e))}," Save changes ",8,dt)])])])])}]]),mt={class:"modal fade",id:"confirmLinkDeleteModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"confirmLinkDelete","aria-hidden":"true"},pt={class:"modal-dialog"},kt={class:"modal-content"},bt=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title",id:"confirmLinkDelete"}," Please confirm Link Deletion "),(0,i.Q3)(" TASK INFORMATION "),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"confirmLinkDeleteButton"})],-1),ht=(0,i.Lk)("div",{class:"modal-body"}," Are you sure you want to delete the link? ",-1),Lt={class:"modal-footer"},gt={name:"ConfirmLinkDelete",props:{},computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",objectLink:"getObjectLink",rootUrl:"getRootUrl"})},methods:{deleteLink(){const e=new FormData;e.set("link_id",this.objectLink.object_id),e.set("link_connection",this.objectLink.object_type===this.destination?"meta_object":this.objectLink.object_type),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/remove_link/`,e).then((()=>{this.$emit("update_link_results",{})})),this.closeModal()},closeModal(){document.getElementById("confirmLinkDeleteButton").click()}}},vt=(0,ye.A)(gt,[["render",function(e,t,s,n,a,l){return(0,i.uX)(),(0,i.CE)("div",mt,[(0,i.Lk)("div",pt,[(0,i.Lk)("div",kt,[bt,ht,(0,i.Lk)("div",Lt,[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e))}," No "),(0,i.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>l.deleteLink&&l.deleteLink(...e))}," Yes ")])])])])}]]);var _t=s(8297);const yt={name:"RequirementItemLinksModule",components:{ConfirmLinkDelete:vt,Icon:W.In,NewRequirementLinkWizard:ut,SubObjectLinks:_t.A},mixins:[be.A],data:()=>({itemLinkProject:[],itemLinkTask:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{updateLinkResults(){this.axios.post(`${this.rootUrl}object_data/requirement_item/${this.locationId}/object_link_list/`).then((e=>{this.itemLinkProject=e.data.filter((e=>"project"===e.object_type)),this.itemLinkTask=e.data.filter((e=>"task"===e.object_type))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Updating Link Results",message:`We have had issues updating link results - error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},newRequirementItemLink(){new X.aF(document.getElementById("newRequirementLinkModal")).show()}},mounted(){this.$nextTick((()=>{this.updateLinkResults()}))}},ft=(0,ye.A)(yt,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("sub-object-links"),d=(0,i.g2)("new-requirement-link-wizard"),c=(0,i.g2)("confirm-link-delete");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.linkIcon2},null,8,["icon"]),(0,i.eW)(" Requirement Item Links ")]),Ce,(0,i.Q3)(" ITEM LINKS "),a.itemLinkProject.length+a.itemLinkTask.length===0?((0,i.uX)(),(0,i.CE)("div",we,je)):((0,i.uX)(),(0,i.CE)("div",Re,[(0,i.Q3)(" Project Links "),(0,i.bF)(r,{title:"Project Links","link-results":a.itemLinkProject,onUpdate_link_results:t[0]||(t[0]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Task Links "),(0,i.bF)(r,{title:"Task Links","link-results":a.itemLinkTask,onUpdate_link_results:t[1]||(t[1]=e=>l.updateLinkResults(e))},null,8,["link-results"])])),(0,i.Q3)(" Submit Button "),e.userLevel>1?((0,i.uX)(),(0,i.CE)("hr",Ee)):(0,i.Q3)("v-if",!0),e.userLevel>1?((0,i.uX)(),(0,i.CE)("div",Me,[(0,i.Lk)("div",Te,[(0,i.Lk)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[2]||(t[2]=(...e)=>l.newRequirementItemLink&&l.newRequirementItemLink(...e))},"Create new Link")])])):(0,i.Q3)("v-if",!0),(0,i.Q3)(" LINKING MODAL "),(0,i.Q3)(" need to build something that resets the requirement links when adding links "),(0,i.bF)(d,{"location-id":e.locationId,destination:e.destination,onUpdate_module:t[3]||(t[3]=e=>l.updateLinkResults(e))},null,8,["location-id","destination"]),(0,i.Q3)(" MODAL FOR CONFIRM DELETE LINK "),(0,i.bF)(c,{onUpdate_link_results:t[4]||(t[4]=e=>l.updateLinkResults(e))})])}]]),St=(0,i.Lk)("p",{class:"text-instructions"}," The following are links to other projects/tasks. You can link a Requirement to these other objects to symbolise a connection between the two. ",-1),It={key:0,class:"requirement-item-spacer"},Ct=[(0,i.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no Links for this requirement. ",-1)],wt={key:1},jt={key:2,class:"row submit-row"},Rt={class:"col-md-12"},Et=(0,i.Lk)("hr",null,null,-1),Mt=(0,i.Lk)("p",{class:"text-instructions"}," The following are links for the Items to other projects/tasks. ",-1),Tt={key:3},$t=[(0,i.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no Item Links. Please navigate to the Item you wish to add a link too. ",-1)],Dt={key:4},xt={name:"RequirementLinksModule",components:{ConfirmLinkDelete:vt,SubObjectLinks:_t.A,Icon:W.In,NewRequirementLinkWizard:ut},mixins:[be.A],data:()=>({itemLinkProject:[],itemLinkTask:[],linkProject:[],linkTask:[],linkModel:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{newRequirementLink(){new X.aF(document.getElementById("newRequirementLinkModal")).show()},updateLinkResults(){this.axios.post(`${this.rootUrl}object_data/requirement/${this.locationId}/object_link_list/`).then((e=>{this.linkProject=e.data.filter((e=>"project"===e.object_type)),this.linkTask=e.data.filter((e=>"task"===e.object_type))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Updating Link Results",message:`We have had issues updating link results - error -> ${e}`,extra_classes:"bg-danger",delay:0})})),this.axios.post(`${this.rootUrl}requirement_information/${this.locationId}/data/item_links/`).then((e=>{this.itemLinkProject=e.data.filter((e=>"project"===e.object_type)).map((e=>({link_relationship:null,parent_link:null,object_id:e.object_id,object_title:`Item-${e.requirement_item_id} - ${e.object_title}`,object_status:e.object_status,object_type:e.object_type,reverse_relation:!1}))),this.itemLinkTask=e.data.filter((e=>"task"===e.object_type)).map((e=>({link_relationship:null,parent_link:null,object_id:e.object_id,object_title:`Item-${e.requirement_item_id} - ${e.object_title}`,object_status:e.object_status,object_type:e.object_type,reverse_relation:!1})))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Updating Link Results",message:`We have had issues updating link results - error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},mounted(){this.$nextTick((()=>{this.updateLinkResults()}))}},Ut=(0,ye.A)(xt,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("sub-object-links"),d=(0,i.g2)("new-requirement-link-wizard"),c=(0,i.g2)("confirm-link-delete");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.linkIcon},null,8,["icon"]),(0,i.eW)(" Requirement Links ")]),St,(0,i.Q3)(" REQUIREMENT LINKS "),a.linkProject.length+a.linkTask.length===0?((0,i.uX)(),(0,i.CE)("div",It,Ct)):((0,i.uX)(),(0,i.CE)("div",wt,[(0,i.Q3)(" Project Links "),(0,i.bF)(r,{title:"Project Links","link-results":a.linkProject,onUpdate_link_results:t[0]||(t[0]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Task Links "),(0,i.bF)(r,{title:"Task Links","link-results":a.linkTask,onUpdate_link_results:t[1]||(t[1]=e=>l.updateLinkResults(e))},null,8,["link-results"])])),(0,i.Q3)(" Submit Button "),e.userLevel>1?((0,i.uX)(),(0,i.CE)("div",jt,[(0,i.Lk)("div",Rt,[e.userLevel>1?((0,i.uX)(),(0,i.CE)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[2]||(t[2]=(...e)=>l.newRequirementLink&&l.newRequirementLink(...e))},"Create new Link")):(0,i.Q3)("v-if",!0)])])):(0,i.Q3)("v-if",!0),Et,(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.linkIcon2},null,8,["icon"]),(0,i.eW)(" Requirement Item Links ")]),Mt,(0,i.Q3)(" ITEM LINKS "),a.itemLinkProject.length+a.itemLinkTask.length===0?((0,i.uX)(),(0,i.CE)("div",Tt,$t)):((0,i.uX)(),(0,i.CE)("div",Dt,[(0,i.Q3)(" Project Links "),(0,i.bF)(r,{title:"Project Links","link-results":a.itemLinkProject,"can-delete":!1},null,8,["link-results"]),(0,i.Q3)(" Task Links "),(0,i.bF)(r,{title:"Task Links","link-results":a.itemLinkTask,"can-delete":!1},null,8,["link-results"])])),(0,i.Q3)(" LINKING MODAL "),(0,i.bF)(d,{"location-id":e.locationId,destination:"requirement",onUpdate_module:l.updateLinkResults},null,8,["location-id","onUpdate_module"]),(0,i.Q3)(" MODAL FOR CONFIRM DELETE LINK "),(0,i.bF)(c,{onUpdate_link_results:l.updateLinkResults},null,8,["onUpdate_link_results"])])}]]);var Ft=s(8947);const Ot={class:"text-instructions"},qt={key:0,class:"requirement-item-spacer"},At=[(0,i.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no Links for this requirement. ",-1)],Nt={key:1},Bt={class:"row submit-row"},Qt={class:"col-md-12"},Xt=(0,i.Lk)("hr",null,null,-1),Wt={class:"modal fade",id:"newLinkModal",tabindex:"-1","aria-labelledby":"linkModal","aria-hidden":"true"},Pt={class:"modal-dialog modal-lg"},zt={class:"modal-content"},Kt={class:"modal-header"},Ht=(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"linkCloseButton"},[(0,i.Lk)("span",{"aria-hidden":"true"})],-1),Gt={class:"modal-body"},Vt={class:"row"},Jt={class:"col-md-4"},Yt=(0,i.Lk)("strong",null,"Object Selector",-1),Zt={class:"text-instructions"},es={class:"col-md-8"},ts={key:1,class:"alert alert-success"},ss=(0,i.Lk)("hr",null,null,-1),is={class:"row"},ns=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Relationship"),(0,i.Lk)("p",{class:"text-instructions"},' Please select an appropriate relation for the objects. Default is "Relates" ')],-1),as={class:"col-md-8"},ls=(0,i.Lk)("br",null,null,-1),os=(0,i.Lk)("hr",null,null,-1),rs={class:"row"},ds={class:"col-md-4"},cs=(0,i.Lk)("strong",null,"Select Links",-1),us={class:"text-instructions"},ms={class:"col-md-8"},ps={key:0,id:"link_wizard_results"},ks=["src"],bs={key:1,class:"alert alert-warning"},hs={key:2,class:"table"},Ls=(0,i.Lk)("td",null,"Status",-1),gs={class:"form-check"},vs=["value","id"],_s=["for"],ys=(0,i.Lk)("div",{class:"spacer"},null,-1),fs={class:"small-text"},Ss={class:"modal-footer"},Is=(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),Cs=["disabled"],ws={name:"NewLinkWizard",components:{Icon:W.In,NSelect:pe.A},props:{destination:{type:String,default:""},locationId:{type:Number,default:0}},computed:{...(0,ve.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[be.A],data:()=>({isSearching:!1,objectModel:null,objectRelation:[{value:"relates",label:"Relates To"},{value:"blocked_by",label:"Is Blocked By"},{value:"blocking",label:"Is Currently Blocking"},{value:"sub_object_of",label:"Is Sub Object Of"},{value:"parent_object_of",label:"Is Parent Object Of"},{value:"has_duplicate",label:"Has Duplicate Object Of"},{value:"duplicate_object",label:"Is Duplicate Object Of"}],objectRelationModel:"relates",objectResults:[],objectSelection:[{value:"Project",label:"Project"},{value:"Requirement",label:"Requirement"},{value:"Requirement_Item",label:"Requirement_Item"},{value:"Task",label:"Task"}],linkModel:[]}),methods:{saveLinks(){const e=new FormData;this.linkModel.forEach((t=>{e.append(`${this.objectModel.toLowerCase()}`,t)})),e.set("object_relation",this.objectRelationModel),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_link/`,e).then((()=>{this.$emit("update_link_results",{}),this.objectModel=null,document.getElementById("linkCloseButton").click()}))}},watch:{objectModel(){this.linkModel=[],null!==this.objectModel?(this.isSearching=!0,this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/${this.objectModel.toLowerCase()}/link_list/`).then((e=>{this.objectResults=e.data,this.isSearching=!1})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Searching",message:`We got an error searching. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))):this.isSearching=!1}}},js=(0,ye.A)(ws,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)("div",Wt,[(0,i.Lk)("div",Pt,[(0,i.Lk)("div",zt,[(0,i.Lk)("div",Kt,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.linkOut},null,8,["icon"]),(0,i.eW)(" New "+(0,$e.toDisplayString)(s.destination)+" Link Wizard ",1)]),Ht]),(0,i.Lk)("div",Gt,[(0,i.Q3)(" CHOOSING A OBJECT TYPE "),(0,i.Lk)("div",Vt,[(0,i.Lk)("div",Jt,[Yt,(0,i.Lk)("p",Zt," Please select which object you would like to link to this "+(0,$e.toDisplayString)(s.destination)+". ",1)]),(0,i.Lk)("div",es,[a.isSearching?((0,i.uX)(),(0,i.CE)("div",ts," Searching for "+(0,$e.toDisplayString)(a.objectModel)+"s ",1)):((0,i.uX)(),(0,i.Wv)(r,{key:0,options:a.objectSelection,value:a.objectModel,"onUpdate:value":t[0]||(t[0]=e=>a.objectModel=e),class:"object-selection"},null,8,["options","value"]))])]),ss,(0,i.Q3)(" CHOOSE RELATIONSHIP TYPE "),(0,i.Lk)("div",is,[ns,(0,i.Lk)("div",as,[(0,i.eW)(" Current object "),ls,(0,i.bF)(r,{options:a.objectRelation,value:a.objectRelationModel,"onUpdate:value":t[1]||(t[1]=e=>a.objectRelationModel=e),class:"object-selection",disabled:null===a.objectModel},null,8,["options","value","disabled"])])]),os,(0,i.Q3)(" SELECTING WHICH OBJECTS TO LINK TO "),(0,i.Lk)("div",rs,[(0,i.Lk)("div",ds,[cs,(0,i.Lk)("p",us," Please select which of the objects you want to connect to this "+(0,$e.toDisplayString)(s.destination)+". ",1)]),(0,i.Lk)("div",ms,[(0,i.Q3)(" LOADING PLACEHOLDER "),a.isSearching||null==a.objectModel?((0,i.uX)(),(0,i.CE)("div",ps,[(0,i.Lk)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/search.svg`,alt:"Searching..."},null,8,ks)])):(0,i.Q3)("v-if",!0),0===a.objectResults.length&&null!=a.objectModel?((0,i.uX)(),(0,i.CE)("div",bs," Sorry - there are no results. ")):(0,i.Q3)("v-if",!0),(0,i.Q3)(" TABLE CONTAINING RESULTS "),!a.isSearching&&a.objectResults.length>0&&null!=a.objectModel?((0,i.uX)(),(0,i.CE)("table",hs,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("td",null,(0,$e.toDisplayString)(a.objectModel)+" Description",1),Ls])]),(0,i.Q3)(" RENDER RESULTS "),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.objectResults,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,[(0,i.Lk)("div",gs,[(0,i.bo)((0,i.Lk)("input",{class:"form-check-input",type:"checkbox",value:e.id,id:`checkbox_${a.objectModel.toLowerCase()}_${e.pk}`,"onUpdate:modelValue":t[2]||(t[2]=e=>a.linkModel=e)},null,8,vs),[[P.vModelCheckbox,a.linkModel]]),(0,i.Lk)("label",{class:"form-check-label",for:`checkbox_${a.objectModel.toLowerCase()}_${e.pk}`},(0,$e.toDisplayString)(e.description),9,_s)]),ys,(0,i.Lk)("p",fs,(0,$e.toDisplayString)(a.objectModel)+" "+(0,$e.toDisplayString)(e.id),1)]),(0,i.Lk)("td",null,(0,$e.toDisplayString)(e.status),1)])))),128))])])):(0,i.Q3)("v-if",!0)])])]),(0,i.Lk)("div",Ss,[Is,(0,i.Lk)("button",{type:"button",class:"btn btn-primary",disabled:0===a.linkModel.length,onClick:t[3]||(t[3]=(...e)=>l.saveLinks&&l.saveLinks(...e))}," Save changes ",8,Cs)])])])])}]]),Rs={name:"ObjectLinks",components:{ConfirmLinkDelete:vt,Icon:W.In,NewLinkWizard:js,SubObjectLinks:_t.A},mixins:[be.A],data:()=>({hasDuplicateObjectOf:[],isBlockedBy:[],isCurrentlyBlocking:[],isDuplicateObjectOf:[],isParentOf:[],isSubObjectOf:[],kanbanCard:[],linkResults:[],relatesTo:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{isLinkedObject(e){let t=!1;return null!==e.fields.project&&(t=!0),null!==e.fields.task&&(t=!0),null!==e.fields.requirement&&(t=!0),t},newLink(){new X.aF(document.getElementById("newLinkModal")).show()},updateLinkResults(){this.linkResults=[],this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/object_link_list/`).then((e=>{this.linkResults=e.data,this.relatesTo=e.data.filter((e=>"Relate"===e.link_relationship||null===e.link_relationship)),this.isBlockedBy=e.data.filter((e=>{const t="Block"===e.link_relationship&&e.parent_link!==this.destination&&!1===e.reverse_relation,s="Block"===e.link_relationship&&e.parent_link===this.destination&&!0===e.reverse_relation;return t||s})),this.kanbanCard=e.data.filter((e=>"Card"===e.link_relationship)),this.isCurrentlyBlocking=e.data.filter((e=>{const t="Block"===e.link_relationship&&e.parent_link===this.destination&&!1===e.reverse_relation,s="Block"===e.link_relationship&&e.parent_link!==this.destination&&!0===e.reverse_relation;return t||s})),this.isSubObjectOf=e.data.filter((e=>{const t="Subobject"===e.link_relationship&&e.parent_link!==this.destination&&!1===e.reverse_relation,s="Subobject"===e.link_relationship&&e.parent_link===this.destination&&!0===e.reverse_relation;return t||s})),this.isParentOf=e.data.filter((e=>{const t="Subobject"===e.link_relationship&&e.parent_link===this.destination&&!1===e.reverse_relation,s="Subobject"===e.link_relationship&&e.parent_link!==this.destination&&!0===e.reverse_relation;return t||s})),this.hasDuplicateObjectOf=e.data.filter((e=>{const t="Duplicate"===e.link_relationship&&e.parent_link===this.destination&&!1===e.reverse_relation,s="Duplicate"===e.link_relationship&&e.parent_link!==this.destination&&!0===e.reverse_relation;return t||s})),this.isDuplicateObjectOf=e.data.filter((e=>{const t="Duplicate"===e.link_relationship&&e.parent_link!==this.destination&&!1===e.reverse_relation,s="Duplicate"===e.link_relationship&&e.parent_link===this.destination&&!0===e.reverse_relation;return t||s}))})).catch((e=>{this.$store.dispatch("newToast",{heading:"Object Links failed to get data",message:`Failed to get data - Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},mounted(){this.$nextTick((()=>{this.updateLinkResults()}))}},Es=(0,ye.A)(Rs,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("sub-object-links"),d=(0,i.g2)("new-link-wizard"),c=(0,i.g2)("confirm-link-delete");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.linkOut},null,8,["icon"]),(0,i.eW)(" "+(0,$e.toDisplayString)(e.destination)+" Links ",1)]),(0,i.Lk)("p",Ot," The following are links to other objects like projects/tasks/requirements. You can link a "+(0,$e.toDisplayString)(e.destination)+" to these other objects to symbolise a connection between the two. ",1),(0,i.Q3)(" OBJECT LINKS "),0===a.linkResults.length?((0,i.uX)(),(0,i.CE)("div",qt,At)):((0,i.uX)(),(0,i.CE)("div",Nt,[(0,i.Q3)(" Relates To "),(0,i.bF)(r,{title:"Relates To","link-results":a.relatesTo,onUpdate_link_results:t[0]||(t[0]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Kanban Cards "),(0,i.bF)(r,{title:"Kanban Cards","link-results":a.kanbanCard,"can-delete":!1},null,8,["link-results"]),(0,i.Q3)(" Is Blocked By "),(0,i.bF)(r,{title:"Is Blocked By","link-results":a.isBlockedBy,onUpdate_link_results:t[1]||(t[1]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Is Currently Blocking "),(0,i.bF)(r,{title:"Is Currently Blocking","link-results":a.isCurrentlyBlocking,onUpdate_link_results:t[2]||(t[2]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Is Sub Object Of "),(0,i.bF)(r,{title:"Is Subobject Of","link-results":a.isSubObjectOf,onUpdate_link_results:t[3]||(t[3]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Is Parent Object Of "),(0,i.bF)(r,{title:"Is Parent Object Of","link-results":a.isParentOf,onUpdate_link_results:t[4]||(t[4]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Has Duplicate Object Of "),(0,i.bF)(r,{title:"Has Duplicate Object Of","link-results":a.hasDuplicateObjectOf,onUpdate_link_results:t[5]||(t[5]=e=>l.updateLinkResults(e))},null,8,["link-results"]),(0,i.Q3)(" Is Duplicate Object Of "),(0,i.bF)(r,{title:"Is Duplicate Object Of","link-results":a.isDuplicateObjectOf,onUpdate_link_results:t[6]||(t[6]=e=>l.updateLinkResults(e))},null,8,["link-results"])])),(0,i.Q3)(" Submit Button "),(0,i.Lk)("div",Bt,[(0,i.Lk)("div",Qt,[e.userLevel>1?((0,i.uX)(),(0,i.CE)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[7]||(t[7]=(...e)=>l.newLink&&l.newLink(...e))},"Create new Link")):(0,i.Q3)("v-if",!0)])]),Xt,(0,i.Q3)(" MODAL FOR NEW OBJECT LINKS "),(0,i.bF)(d,{destination:e.destination,"location-id":e.locationId,onUpdate_link_results:l.updateLinkResults},null,8,["destination","location-id","onUpdate_link_results"]),(0,i.Q3)(" MODAL FOR CONFIRM DELETE LINK "),(0,i.bF)(c,{onUpdate_link_results:l.updateLinkResults},null,8,["onUpdate_link_results"])])}]]),Ms={class:"text-instructions"},Ts={key:0},$s=[(0,i.Lk)("div",{class:"customers-module-spacer"},[(0,i.Lk)("div",{class:"alert alert-dark"}," Sorry - there are no customers. Please add them by clicking on the button below ")],-1)],Ds={key:1},xs=(0,i.Lk)("hr",null,null,-1),Us={class:"row submit-row"},Fs={class:"col-md-12"};var Os=s(3812);const qs={class:"modal fade",id:"addCustomerModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},As={class:"modal-dialog modal-lg"},Ns={class:"modal-content"},Bs={class:"modal-header"},Qs=(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"addCustomerCloseButton"},[(0,i.Lk)("span",{"aria-hidden":"true"})],-1),Xs={class:"modal-body"},Ws={key:0,class:"row"},Ps={class:"col-md-4"},zs=(0,i.Lk)("strong",null,"Select Customer",-1),Ks={class:"text-instructions"},Hs={class:"col-md-8"},Gs={key:1,class:"row"},Vs=(0,i.Lk)("div",{class:"col-md-6"},[(0,i.Lk)("strong",null,"Sorry - no results"),(0,i.Lk)("p",{class:"text-instructions"}," This could be because "),(0,i.Lk)("ul",{class:"text-instructions"},[(0,i.Lk)("li",null,"There are no more customers left to add"),(0,i.Lk)("li",null," There are no customers for this organisation ")])],-1),Js={class:"col-md-6 no-search"},Ys=["src"],Zs={class:"modal-footer"},ei=(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),ti=["diabled"],si={name:"AddCustomerWizard",components:{Icon:W.In,NSelect:pe.A},props:{destination:{type:String,default:""},locationId:{type:Number,default:0},excludeCustomers:{type:Array,default:()=>[]}},computed:{...(0,ve.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[be.A],data:()=>({customerModel:"",customerList:[],customerFixList:[]}),methods:{addCustomer(){const e=new FormData;e.set("customer",this.customerModel),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_customer/`,e).then((e=>{this.$emit("update_customer_results",e.data),this.customerModel="",document.getElementById("addCustomerCloseButton").click()})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Adding Customer",message:`We had an issue adding customers. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},getCustomerList(){this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/customer_list_all/`).then((e=>{this.customerList=e.data,this.updateCustomerFixList()})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Customer List",message:`We had an issue getting customer list. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},updateCustomerFixList(){if(0===this.customerList.length)return;const e=[];this.excludeCustomers.forEach((t=>{e.push(t.pk)})),this.customerFixList=this.customerList.filter((t=>!e.includes(t.pk))).map((e=>({value:e.pk,label:`${e.fields.customer_first_name} ${e.fields.customer_last_name}`})))}},mounted(){!["requirement_item"].indexOf(this.locationId)<0||this.$nextTick((()=>{this.getCustomerList()}))},watch:{excludeCustomers(){this.updateCustomerFixList()}}},ii={name:"CustomersModule",components:{AddCustomerWizard:(0,ye.A)(si,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)("div",qs,[(0,i.Lk)("div",As,[(0,i.Lk)("div",Ns,[(0,i.Lk)("div",Bs,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.usersIcon},null,8,["icon"]),(0,i.eW)(" Add Customers Wizard ")]),Qs]),(0,i.Lk)("div",Xs,[a.customerFixList.length>0?((0,i.uX)(),(0,i.CE)("div",Ws,[(0,i.Lk)("div",Ps,[zs,(0,i.Lk)("p",Ks," Search for a customer who has not been added to this "+(0,$e.toDisplayString)(s.destination)+". If the search is blank there are either no customers that match that search, or all customer have already been added to the "+(0,$e.toDisplayString)(s.destination)+". ",1)]),(0,i.Lk)("div",Hs,[(0,i.bF)(r,{options:a.customerFixList,label:"customerName",value:a.customerModel,"onUpdate:value":t[0]||(t[0]=e=>a.customerModel=e)},null,8,["options","value"])])])):((0,i.uX)(),(0,i.CE)("div",Gs,[Vs,(0,i.Lk)("div",Js,[(0,i.Lk)("img",{src:`${e.staticUrl}NearBeach/images/placeholder/questions.svg`,alt:"Sorry - there are no results"},null,8,Ys)])]))]),(0,i.Lk)("div",Zs,[ei,(0,i.Lk)("button",{type:"button",class:"btn btn-primary",diabled:""==a.customerModel,onClick:t[1]||(t[1]=(...e)=>l.addCustomer&&l.addCustomer(...e))}," Save changes ",8,ti)])])])])}]]),CustomersListModule:Os.A,Icon:W.In},mixins:[be.A],data:()=>({customerResults:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",userLevel:"getUserLevel",rootUrl:"getRootUrl"})},methods:{addNewCustomer(){new X.aF(document.getElementById("addCustomerModal")).show()},loadCustomerResults(){this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/customer_list/`).then((e=>{this.customerResults=e.data})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Loading Customer Results",message:`We had an issue loading customer results. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},removeCustomer(e){this.customerResults=this.customerResults.filter((t=>t.pk!==e))},updateCustomerResults(e){this.customerResults=e}},mounted(){["requirement_item"].indexOf(this.destination)>=0||this.$nextTick((()=>{this.loadCustomerResults()}))}},ni=(0,ye.A)(ii,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("customers-list-module"),d=(0,i.g2)("add-customer-wizard");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.userIcon},null,8,["icon"]),(0,i.eW)(" Customers ")]),(0,i.Lk)("p",Ms," Below are a list of customers who are stakeholders to this "+(0,$e.toDisplayString)(e.destination)+". ",1),(0,i.Q3)(" CUSTOMER RESULTS CARDS "),0==a.customerResults.length?((0,i.uX)(),(0,i.CE)("div",Ts,$s)):((0,i.uX)(),(0,i.CE)("div",Ds,[(0,i.bF)(r,{"customer-results":a.customerResults,onRemove_customer:t[0]||(t[0]=e=>l.removeCustomer(e))},null,8,["customer-results"])])),(0,i.Q3)(" ADD CUSTOMER BUTTON "),xs,(0,i.Lk)("div",Us,[(0,i.Lk)("div",Fs,[e.userLevel>1?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-primary save-changes",onClick:t[1]||(t[1]=(...e)=>l.addNewCustomer&&l.addNewCustomer(...e))}," Add Customer ")):(0,i.Q3)("v-if",!0)])]),(0,i.Q3)(" MODALS "),(0,i.bF)(d,{"location-id":e.locationId,destination:e.destination,"exclude-customers":a.customerResults,onUpdate_customer_results:t[2]||(t[2]=e=>l.updateCustomerResults(e))},null,8,["location-id","destination","exclude-customers"])])}]]),ai=(0,i.Lk)("hr",null,null,-1),li={key:0},oi={class:"text-instructions"},ri={key:0,class:"spacer"},di={class:"alert alert-dark"},ci={key:1},ui={class:"table"},mi=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("td",null,"Bug Description"),(0,i.Lk)("td",null,"Status")])],-1),pi=["href"],ki=(0,i.Lk)("div",{class:"spacer"},null,-1),bi={class:"small-text"},hi={key:0,class:"remove-link"},Li=(0,i.Lk)("hr",null,null,-1),gi={class:"row submit-row"},vi={class:"col-md-12"},_i={class:"modal fade",id:"addBugModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},yi={class:"modal-dialog modal-xl modal-fullscreen-lg-down"},fi={class:"modal-content"},Si={class:"modal-header"},Ii=(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"addBugsCloseButton"},[(0,i.Lk)("span",{"aria-hidden":"true"})],-1),Ci={class:"modal-body"},wi={class:"row"},ji={class:"col-md-4"},Ri=(0,i.Lk)("strong",null,"Adding Bugs",-1),Ei={class:"text-instructions"},Mi={class:"col-md-8"},Ti={class:"form-group"},$i=(0,i.Lk)("label",null,"Bug Client",-1),Di=(0,i.Lk)("br",null,null,-1),xi={class:"form-group"},Ui=(0,i.Lk)("label",null,"Search Keywords",-1),Fi=["disabled"],Oi=(0,i.Lk)("br",null,null,-1),qi={key:0,class:"no-search"},Ai=(0,i.Lk)("strong",null,"Currently Searching for Bugs",-1),Ni=(0,i.Lk)("br",null,null,-1),Bi=["src"],Qi={key:1,class:"no-search"},Xi=(0,i.Lk)("strong",null,"No Search Results Sorry",-1),Wi=(0,i.Lk)("br",null,null,-1),Pi=["src"],zi={key:2,id:"bug_results_div"},Ki={class:"table"},Hi=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("td"),(0,i.Lk)("td",null,"Bug Description"),(0,i.Lk)("td",null,"Bug Status")])],-1),Gi=["id"],Vi=["onClick"],Ji=(0,i.Lk)("div",{class:"spacer"},null,-1),Yi={class:"small-text"},Zi={class:"small-text"},en=(0,i.Lk)("div",{class:"modal-footer"},[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ")],-1),tn={name:"AddBugWizard",components:{Icon:W.In,NSelect:pe.A},props:{destination:{type:String,default:""},locationId:{type:Number,default:0}},computed:{...(0,ve.L8)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[be.A],data:()=>({bugClientModel:"",bugClientList:[],bugResults:[],searchModel:"",searchOn:!1,searchTimer:""}),methods:{loadBugClientList(){this.axios.post(`${this.rootUrl}object_data/bug_client_list/`).then((e=>{this.bugClientList=e.data.map((e=>({value:e.pk,label:e.fields.bug_client_name})))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error loading bug client list",message:`We had an issue loading the bug client list - error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},startSearchTimer(){""!==this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{this.startSearch()}),700)},startSearch(){if(""===this.searchModel)return;this.searchOn=!0;const e=new FormData;e.set("bug_client_id",this.bugClientModel),e.set("search",this.searchModel),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/query_bug_client/`,e).then((e=>{this.bugResults=e.data,this.searchOn=!1})).catch((e=>{this.$store.dispatch("newToast",{header:"Search Failed",message:`Sorry, the search for bug client has failed. Errors -> ${e}`,extra_classes:"bg-warning text-dark",delay:0})}))},submitBug(e){const t=document.getElementById(`bug_no_${e}`);t.innerHTML="Adding Bug";const s=this.bugResults.filter((t=>t.id==e)),i=new FormData;i.set("bug_client",this.bugClientModel),i.set("bug_id",e),i.set("bug_description",s[0].summary),i.set("bug_status",s[0].status),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_bug/`,i).then((e=>{this.$emit("append_bug_list",e.data),t.innerHTML="Done"})).catch((e=>{this.$store.dispatch("newToast",{header:"Submit Bug Failed",message:`Sorry, the submitting the bug failed. Errors -> ${e}`,extra_classes:"bg-warning text-dark",delay:0})}))}},mounted(){["requirement_item"].indexOf(this.destination)>=0||this.$nextTick((()=>{this.loadBugClientList()}))}},sn={name:"BugsModule",components:{AddBugWizard:(0,ye.A)(tn,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)("div",_i,[(0,i.Lk)("div",yi,[(0,i.Lk)("div",fi,[(0,i.Lk)("div",Si,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.usersIcon},null,8,["icon"]),(0,i.eW)(" Add Bugs Wizard ")]),Ii]),(0,i.Lk)("div",Ci,[(0,i.Lk)("div",wi,[(0,i.Lk)("div",ji,[Ri,(0,i.Lk)("p",Ei," Select which bug client you want to search data from. Then use keywords or bug id to search for the required bugs. Once the search results appear, select those appropriate bugs that you want to link to the "+(0,$e.toDisplayString)(s.destination)+". ",1)]),(0,i.Lk)("div",Mi,[(0,i.Q3)(" Bug Client List "),(0,i.Lk)("div",Ti,[$i,(0,i.bF)(r,{options:a.bugClientList,label:"bug_client_name",option:"bug_client_id",value:a.bugClientModel,"onUpdate:value":t[0]||(t[0]=e=>a.bugClientModel=e)},null,8,["options","value"])]),Di,(0,i.Q3)(" Search Keywords "),(0,i.Lk)("div",xi,[Ui,(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.searchModel=e),class:"form-control",disabled:""==a.bugClientModel,onKeydown:t[2]||(t[2]=(...e)=>l.startSearchTimer&&l.startSearchTimer(...e)),maxlength:"50"},null,40,Fi),[[P.vModelText,a.searchModel]])]),Oi,(0,i.Q3)(" The Search Results "),a.searchOn?((0,i.uX)(),(0,i.CE)("div",qi,[Ai,Ni,(0,i.Lk)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/online_connection.svg`,alt:"Placeholder Search Image"},null,8,Bi)])):0==a.bugResults.length?((0,i.uX)(),(0,i.CE)("div",Qi,[Xi,Wi,(0,i.Lk)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/road_to_knowledge.svg`,alt:"Placeholder Search Image"},null,8,Pi)])):((0,i.uX)(),(0,i.CE)("div",zi,[(0,i.Lk)("table",Ki,[Hi,(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.bugResults,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",{id:`bug_no_${e.id}`},[(0,i.Lk)("a",{href:"javascript:void(0)",onClick:t=>l.submitBug(e.id)}," Add Bug ",8,Vi)],8,Gi),(0,i.Lk)("td",null,[(0,i.eW)((0,$e.toDisplayString)(e.summary)+" ",1),Ji,(0,i.Lk)("p",Yi," Assigned to: "+(0,$e.toDisplayString)(e.assigned_to),1),(0,i.Lk)("p",Zi," Bug No. "+(0,$e.toDisplayString)(e.id)+" | Priority. "+(0,$e.toDisplayString)(e.priority),1)]),(0,i.Lk)("td",null,(0,$e.toDisplayString)(e.status),1)])))),128))])])]))])])]),en])])])}]]),Icon:W.In},mixins:[be.A],data:()=>({bugList:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",userLevel:"getUserLevel",rootUrl:"getRootUrl"})},methods:{addNewBug(){new X.aF(document.getElementById("addBugModal")).show()},appendBugList(e){let t=e[0].fields;t.bug_id=e[0].pk,this.bugList.push(t)},getBugHyperLink:e=>"Bugzilla"===e.bug_client__list_of_bug_client__bug_client_name?`${e.bug_client__bug_client_url}/show_bug.cgi?id=${e.bug_code}`:"javascript:void(0)",getBugList(){"requirement_item"!==this.destination&&this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/bug_list/`).then((e=>{this.bugList=[],e.data.forEach((e=>{this.bugList.push(e)}))})).catch((e=>{this.$store.dispatch("newToast",{header:"Failed to get bug list",message:`Failed to get bug list. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},removeBug(e){const t=new FormData;t.set("bug_id",e),this.axios.post(`${this.rootUrl}object_data/delete_bug/`,t).then((()=>{this.bugList=this.bugList.filter((t=>t.bug_id!==e))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Removing Bug",message:`We had an issue removing the bug - error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}},mounted(){["requirement_item"].indexOf(this.destination)>=0||this.$nextTick((()=>{this.getBugList()}))}},nn=(0,ye.A)(sn,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon"),r=(0,i.g2)("add-bug-wizard");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("h2",null,[(0,i.bF)(o,{icon:e.icons.bugIcon},null,8,["icon"]),(0,i.eW)(" Bugs List ")]),(0,i.Lk)("p",oi," The following is a list of bugs associated with this "+(0,$e.toDisplayString)(e.destination),1),(0,i.Q3)(" TABLE OF BUGS "),0===a.bugList.length?((0,i.uX)(),(0,i.CE)("div",ri,[(0,i.Lk)("div",di," Sorry - there are no bugs associated with this "+(0,$e.toDisplayString)(e.destination),1)])):((0,i.uX)(),(0,i.CE)("div",ci,[(0,i.Lk)("table",ui,[mi,(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.bugList,(t=>((0,i.uX)(),(0,i.CE)("tr",{key:t.pk},[(0,i.Lk)("td",null,[(0,i.Lk)("a",{href:l.getBugHyperLink(t),rel:"noopener noreferrer",target:"_blank"},[(0,i.Lk)("p",null,(0,$e.toDisplayString)(t.bug_description),1),ki,(0,i.Lk)("p",bi," Bug No. "+(0,$e.toDisplayString)(t.bug_code)+" - "+(0,$e.toDisplayString)(t.bug_client__bug_client_name),1)],8,pi)]),(0,i.Lk)("td",null,[(0,i.eW)((0,$e.toDisplayString)(t.bug_status)+" ",1),e.userLevel>=2?((0,i.uX)(),(0,i.CE)("span",hi,[(0,i.bF)(o,{icon:e.icons.trashCan,onClick:e=>l.removeBug(t.bug_id)},null,8,["icon","onClick"])])):(0,i.Q3)("v-if",!0)])])))),128))])])])),(0,i.Q3)(" Add Bug Button "),(0,i.Q3)(" TO DO - limit it to certain users "),Li,(0,i.Lk)("div",gi,[(0,i.Lk)("div",vi,[e.userLevel>1?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>l.addNewBug&&l.addNewBug(...e))}," Add Bug ")):(0,i.Q3)("v-if",!0)])]),(0,i.Q3)(" Modals "),(0,i.bF)(r,{destination:e.destination,"location-id":e.locationId,onAppend_bug_list:t[1]||(t[1]=e=>l.appendBugList(e))},null,8,["destination","location-id"])])}]]);var an=s(4711),ln=s(2458);const on={name:"MiscModule",components:{BugsModule:nn,ListPublicLinks:an.A,ListTagsModule:ln.A},computed:{...(0,ve.L8)({destination:"getDestination"})}},rn=(0,ye.A)(on,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("list-tags-module"),r=(0,i.g2)("list-public-links"),d=(0,i.g2)("bugs-module");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(o),ai,(0,i.bF)(r),["project","task","requirement"].includes(this.destination)?((0,i.uX)(),(0,i.CE)("hr",li)):(0,i.Q3)("v-if",!0),["project","task","requirement"].includes(this.destination)?((0,i.uX)(),(0,i.Wv)(d,{key:1})):(0,i.Q3)("v-if",!0)],64)}]]);var dn=s(7889),cn=s(253),un=s(3046),mn=s(8875),pn=s(2998),kn=s(3762);const bn=(0,i.Lk)("h2",null,"List Sprints",-1),hn=(0,i.Lk)("p",{class:"text-instructions"}," Lists out all the sprints associated with this particular object. ",-1),Ln={key:0},gn={key:0,class:"alert alert-info"},vn={key:1,class:"row submit-row"},_n={class:"col-md-12"},yn=(0,i.Lk)("hr",null,null,-1),fn={class:"modal fade",id:"createNewSprintModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"createNewSprint","aria-hidden":"true"},Sn={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},In={class:"modal-content"},Cn=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title"}," Please confirm Link Deletion "),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"createNewSprintButton"})],-1),wn={class:"modal-body"},jn={class:"row"},Rn=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Sprint Information"),(0,i.Lk)("p",{class:"text-instructions"}," Please use an appropriate name, start date, and finish date. ")],-1),En={class:"col-md-8"},Mn={class:"form-group"},Tn=(0,i.Lk)("label",null,"Sprint Name",-1),$n=(0,i.Lk)("div",{class:"spacer"},null,-1),Dn={class:"row"},xn={class:"col-md-6"},Un={class:"form-group"},Fn=(0,i.Lk)("label",null,"Start Date",-1),On={class:"col-md-6"},qn={class:"form-group"},An=(0,i.Lk)("label",null,"End Date",-1),Nn={class:"modal-footer"},Bn={name:"NewSprintWizard",components:{NDatePicker:s(8105).A},props:{sprintResultsLength:{type:Number,default:0}},computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl"})},data:()=>({sprintEndDate:0,sprintNameModel:"",sprintStartDate:0}),watch:{sprintResultsLength(){this.updateSprintNameModel()}},methods:{createNewSprint(){this.$store.dispatch("newToast",{header:"Creating New Toast",message:"Please wait - we are creating the new toast. It will automatically navigate you to the new sprint information page",extra_classes:"bg-warning text-dark",delay:0,unique_type:"create_sprint"});const e=new Date(this.sprintStartDate),t=new Date(this.sprintEndDate),s=new FormData;s.set("sprint_name",this.sprintNameModel),s.set("sprint_start_date",e.toISOString()),s.set("sprint_end_date",t.toISOString()),this.axios.post(`${this.rootUrl}new_sprint/${this.destination}/${this.locationId}/save/`,s).then((e=>{window.location=`${this.rootUrl}sprint_information/${e.data.id}/`})).catch((e=>{this.$store.dispatch("newToast",{header:"Error creating new sprint",message:`Could not create new sprint. Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"create_sprint"})}))},updateSprintNameModel(){const e=this.sprintResultsLength+1,t=(new Date).toLocaleDateString("en-au",{year:"numeric",month:"short",day:"numeric"});this.sprintNameModel=`${this.destination}-${this.locationId} - Sprint ${e} - ${t}`}},mounted(){this.sprintStartDate=(new Date).getTime(),this.sprintEndDate=this.sprintStartDate+6048e5,this.$nextTick((()=>{this.updateSprintNameModel()}))}},Qn=(0,ye.A)(Bn,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("n-date-picker");return(0,i.uX)(),(0,i.CE)("div",fn,[(0,i.Lk)("div",Sn,[(0,i.Lk)("div",In,[Cn,(0,i.Lk)("div",wn,[(0,i.Lk)("div",jn,[Rn,(0,i.Lk)("div",En,[(0,i.Lk)("div",Mn,[Tn,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.sprintNameModel=e)},null,512),[[P.vModelText,a.sprintNameModel]])]),$n,(0,i.Lk)("div",Dn,[(0,i.Lk)("div",xn,[(0,i.Lk)("div",Un,[Fn,(0,i.bF)(o,{value:a.sprintStartDate,"onUpdate:value":t[1]||(t[1]=e=>a.sprintStartDate=e),type:"date"},null,8,["value"])])]),(0,i.Lk)("div",On,[(0,i.Lk)("div",qn,[An,(0,i.bF)(o,{value:a.sprintEndDate,"onUpdate:value":t[2]||(t[2]=e=>a.sprintEndDate=e),type:"date"},null,8,["value"])])])])])])]),(0,i.Lk)("div",Nn,[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...t)=>e.closeModal&&e.closeModal(...t))}," Cancel "),(0,i.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>l.createNewSprint&&l.createNewSprint(...e))}," Create New Sprint ")])])])])}]]),Xn={class:"col-md-10 object-link--details"},Wn=["href"],Pn={class:"object-link--link"},zn={class:"object-link--title"},Kn={class:"object-link--link"},Hn={class:"object-link--link"},Gn={class:"col-md-2 object-link--status"},Vn=(0,i.Lk)("span",null,"Sprint Status: ",-1),Jn={key:0,class:"object-link--remove"};var Yn=s(8083);const Zn={name:"RenderSprintCard",components:{Icon:W.In},props:{canDelete:{type:Boolean,default:!0},sprintResults:{type:Array,default:()=>[]}},computed:{...(0,ve.L8)({rootUrl:"getRootUrl",userLevel:"getUserLevel"})},mixins:[Yn.A,be.A],emits:["confirm_remove_sprint"],methods:{confirmRemoveSprintFunction(e){this.$emit("confirm_remove_sprint",e)}}},ea=(0,ye.A)(Zn,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("Icon");return(0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.sprintResults,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.sprint_id,class:"row object-link"},[(0,i.Q3)(" Sprint ID + Sprint Name "),(0,i.Lk)("div",Xn,[(0,i.Lk)("a",{href:`${this.rootUrl}sprint_information/${t.sprint_id}/`,target:"_blank",rel:"noopener noreferrer"},[(0,i.Lk)("div",Pn,"Sprint- "+(0,$e.toDisplayString)(t.sprint_id),1),(0,i.Lk)("div",zn,(0,$e.toDisplayString)(t.sprint_name),1),(0,i.Lk)("div",Kn," Story Point Progression: "+(0,$e.toDisplayString)(t.completed_story_points)+" out of "+(0,$e.toDisplayString)(t.total_story_points),1),(0,i.Lk)("div",Hn," Dates: "+(0,$e.toDisplayString)(e.getNiceDate(t.sprint_start_date))+" till "+(0,$e.toDisplayString)(e.getNiceDate(t.sprint_end_date)),1)],8,Wn)]),(0,i.Q3)(" Sprint Status "),(0,i.Lk)("div",Gn,[Vn,(0,i.Lk)("span",null,(0,$e.toDisplayString)(t.sprint_status),1)]),(0,i.Q3)(" Object Delete "),e.userLevel>=2&&!0===s.canDelete?((0,i.uX)(),(0,i.CE)("div",Jn,[(0,i.bF)(o,{icon:e.icons.trashCan,onClick:e=>l.confirmRemoveSprintFunction(t)},null,8,["icon","onClick"])])):(0,i.Q3)("v-if",!0)])))),128)}]]),ta={name:"ChildSprints",components:{RenderSprintCard:ea,NewSprintWizard:Qn},data:()=>({allowedObjects:["project","requirement"],sprintResults:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{closeModal(){document.getElementById("createNewSprintButton").click()},getSprints(){const e=`${this.rootUrl}object_data/${this.destination}/${this.locationId}/sprint_list/child/`;this.axios.post(e).then((e=>{this.sprintResults=e.data})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Getting Sprint List",message:`Sorry, could not get child sprints. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},openCreateModal(){new X.aF(document.getElementById("createNewSprintModal")).show()}},mounted(){this.$nextTick((()=>{this.allowedObjects.includes(this.destination)&&this.getSprints()}))}},sa=(0,ye.A)(ta,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("render-sprint-card"),r=(0,i.g2)("new-sprint-wizard");return(0,i.uX)(),(0,i.CE)(i.FK,null,[bn,hn,a.allowedObjects.includes(e.destination)?((0,i.uX)(),(0,i.CE)("div",Ln,[0===a.sprintResults.length?((0,i.uX)(),(0,i.CE)("div",gn," Currently there are no current sprints. ")):(0,i.Q3)("v-if",!0),(0,i.Q3)(" CURRENT SPRINTS"),(0,i.bF)(o,{"sprint-results":a.sprintResults,"can-delete":!1},null,8,["sprint-results"]),(0,i.Q3)(" BUTTONS"),e.userLevel>=2?((0,i.uX)(),(0,i.CE)("div",vn,[(0,i.Lk)("div",_n,[(0,i.Lk)("button",{class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>l.openCreateModal&&l.openCreateModal(...e))}," Create New Sprint ")])])):(0,i.Q3)("v-if",!0),yn])):(0,i.Q3)("v-if",!0),a.allowedObjects.includes(e.destination)?((0,i.uX)(),(0,i.Wv)(r,{key:1,"sprint-results-length":a.sprintResults.length},null,8,["sprint-results-length"])):(0,i.Q3)("v-if",!0)],64)}]]),ia=(0,i.Lk)("h2",null,"AssignedSprints",-1),na=(0,i.Lk)("p",{class:"text-instructions"}," Lists all sprints that contains this object. ",-1),aa={key:0},la={key:1},oa={key:2,class:"alert alert-info"},ra={class:"row submit-row"},da={class:"col-md-12"},ca={class:"modal fade",id:"addSprintWizardModal",tabindex:"-1","aria-labelledby":"addSprintWizard","aria-hidden":"true"},ua={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},ma={class:"modal-content"},pa=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title",id:"addSprintWizard"},"Add Object to Sprint"),(0,i.Lk)("button",{id:"addSprintWizardButton",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ka={class:"modal-body"},ba={class:"row"},ha=(0,i.Lk)("div",{class:"col-md-4"},[(0,i.Lk)("strong",null,"Sprint Wizard"),(0,i.Lk)("p",{class:"text-instructions"}," Please select the appropriate sprint to add this current object too. ")],-1),La={class:"col-md-8"},ga={class:"form-group"},va=(0,i.Lk)("label",null,"Sprint",-1),_a=(0,i.Lk)("div",{class:"spacer"},null,-1),ya={class:"col-md-12"},fa=(0,i.Lk)("strong",null,"Sprint Name: ",-1),Sa=(0,i.Lk)("br",null,null,-1),Ia=(0,i.Lk)("strong",null,"Sprint Start Date: ",-1),Ca=(0,i.Lk)("br",null,null,-1),wa={class:"modal-footer"},ja=(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),Ra=["disabled"],Ea={name:"AddSprintWizard",components:{NSelect:pe.A},data:()=>({selectedSprintObject:{},sprintModel:void 0,sprintOptions:[]}),mixins:[Yn.A],computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl"})},watch:{sprintModel(e){this.selectedSprintObject=this.sprintOptions.filter((t=>parseInt(t.value)===parseInt(e)))}},methods:{addSprint(){this.$store.dispatch("newToast",{header:"Adding object to sprint",message:"Adding current object to sprint, please wait.",extra_classes:"bg-warning text-dark",delay:0,unique_type:"add_sprint_wizard"});const e=new FormData;e.set("sprint_id",this.sprintModel),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_sprint/`,e).then((e=>{this.$emit("update_sprint_list",e.data),document.getElementById("addSprintWizardButton").click(),this.$store.dispatch("newToast",{header:"Added to Sprint",message:"Successfully added current object to Sprint",extra_classes:"bg-success",unique_type:"add_sprint_wizard"})})).catch((e=>{this.$store.dispatch("newToast",{header:"Error adding current object to sprint",message:`Error adding the current object to sprint. Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"add_sprint_wizard"})}))},getSprintOptions(){this.axios.post(`${this.rootUrl}object_data/sprint_list/`).then((e=>{this.sprintOptions=e.data.map((e=>({value:e.sprint_id,label:e.sprint_name,sprint_start_date:e.sprint_start_date,sprint_end_date:e.sprint_end_date})))})).catch((e=>{this.$store.dispatch("newToast",{header:"Error fetching Potential Sprint List",message:`Can not retrieve sprint list. ${e}`,extra_classes:"bg-warning text-dark",delay:0})}))}},mounted(){this.$nextTick((()=>{this.getSprintOptions()}))}},Ma=(0,ye.A)(Ea,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("n-select");return(0,i.uX)(),(0,i.CE)("div",ca,[(0,i.Lk)("div",ua,[(0,i.Lk)("div",ma,[pa,(0,i.Lk)("div",ka,[(0,i.Lk)("div",ba,[ha,(0,i.Lk)("div",La,[(0,i.Lk)("div",ga,[va,(0,i.bF)(o,{value:a.sprintModel,"onUpdate:value":t[0]||(t[0]=e=>a.sprintModel=e),options:a.sprintOptions,filterable:"",placeholder:"Please select a sprint from the list"},null,8,["value","options"])]),_a,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.selectedSprintObject,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.value,class:"row"},[(0,i.Lk)("div",ya,[fa,(0,i.eW)((0,$e.toDisplayString)(t.label),1),Sa,Ia,(0,i.eW)((0,$e.toDisplayString)(e.getNiceDatetime(t.sprint_start_date)),1),Ca])])))),128))])])]),(0,i.Lk)("div",wa,[ja,(0,i.Lk)("button",{disabled:void 0===a.sprintModel,onClick:t[1]||(t[1]=(...e)=>l.addSprint&&l.addSprint(...e)),type:"button",class:"btn btn-primary"}," Add to Sprint ",8,Ra)])])])])}]]),Ta={class:"modal fade",id:"confirmSprintRemoveModal",tabindex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"confirmSprintRemoveLabel","aria-hidden":"true"},$a={class:"modal-dialog"},Da={class:"modal-content"},xa=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title",id:"confirmSprintRemoveLabel"}," Please confirm the sprint removal "),(0,i.Q3)(" TASK INFORMATION "),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"confirmSprintRemovalButton"})],-1),Ua=(0,i.Lk)("div",{class:"modal-body"}," Are you sure you want to remove the sprint from the current object. ",-1),Fa={class:"modal-footer"},Oa={name:"ConfirmRemoveSprint",props:{confirmRemoveSprint:{type:Object,default:()=>({sprint_name:"",sprint_id:0})}},computed:{...(0,ve.L8)({destination:"getDestination",documentRemoveKey:"getDocumentRemoveKey",locationId:"getLocationId",rootUrl:"getRootUrl"})},methods:{removeSprint(){const e=new FormData;e.set("sprint_id",this.confirmRemoveSprint.sprint_id),this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/remove_sprint/`,e).then((e=>{this.$emit("update_sprint_list",e.data),document.getElementById("confirmSprintRemovalButton").click()})).catch((e=>{this.$store.dispatch("newToast",{header:"Error Removing Sprint",message:`Sorry, we could not remove the sprint from the current object. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},closeModal(){document.getElementById("confirmSprintRemovalButton").click()}}},qa={name:"AssignedSprints",components:{ConfirmRemoveSprint:(0,ye.A)(Oa,[["render",function(e,t,s,n,a,l){return(0,i.uX)(),(0,i.CE)("div",Ta,[(0,i.Lk)("div",$a,[(0,i.Lk)("div",Da,[xa,Ua,(0,i.Lk)("div",Fa,[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e))}," No "),(0,i.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>l.removeSprint&&l.removeSprint(...e))}," Yes ")])])])])}]]),RenderSprintCard:ea,AddSprintWizard:Ma},data:()=>({allowedObjects:["requirement_item","project","task"],confirmRemoveSprint:{sprint_id:0,sprint_name:""},currentImportVariables:{header:"List of Current Sprints",prefix:"sprint",id:"sprint_id",title:"sprint_name",status:"sprint_status"},currentSprints:[],finishedImportVariables:{header:"List of Finished Sprints",prefix:"sprint",id:"sprint_id",title:"sprint_name",status:"sprint_status"},finishedSprints:[]}),computed:{...(0,ve.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{addToSprint(){new X.aF(document.getElementById("addSprintWizardModal")).show()},confirmRemoveSprintFunction(e){this.confirmRemoveSprint=e,new X.aF(document.getElementById("confirmSprintRemoveModal")).show()},getAssignedSprints(){this.axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/sprint_list/assigned/`).then((e=>{this.updateSprintList(e.data)})).catch((e=>{this.$store.dispatch("newToast",{headers:"Error fetching assigned sprints",message:`Could not get the data. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))},updateSprintList(e){this.currentSprints=e.filter((e=>"Finished"!==e.sprint_status)),this.finishedSprints=e.filter((e=>"Finished"===e.sprint_status))}},mounted(){this.$nextTick((()=>{this.allowedObjects.includes(this.destination)&&this.getAssignedSprints()}))}},Aa={name:"ListSprints",components:{AssignedSprints:(0,ye.A)(qa,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("render-sprint-card"),r=(0,i.g2)("add-sprint-wizard"),d=(0,i.g2)("confirm-remove-sprint");return(0,i.uX)(),(0,i.CE)(i.FK,null,[ia,na,a.currentSprints.length>0?((0,i.uX)(),(0,i.CE)("h3",aa," Current ")):(0,i.Q3)("v-if",!0),(0,i.bF)(o,{"sprint-results":a.currentSprints,onConfirm_remove_sprint:t[0]||(t[0]=e=>l.confirmRemoveSprintFunction(e))},null,8,["sprint-results"]),a.finishedSprints.length>0?((0,i.uX)(),(0,i.CE)("h3",la," Finished ")):(0,i.Q3)("v-if",!0),(0,i.bF)(o,{"sprint-results":a.finishedSprints,onConfirm_remove_sprint:t[1]||(t[1]=e=>l.confirmRemoveSprintFunction(e))},null,8,["sprint-results"]),a.currentSprints.length+a.finishedSprints.length===0?((0,i.uX)(),(0,i.CE)("div",oa," Currently this object has not been assigned to any sprints. ")):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",ra,[(0,i.Lk)("div",da,[e.userLevel>=2?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-primary save-changes",onClick:t[2]||(t[2]=(...e)=>l.addToSprint&&l.addToSprint(...e))}," Add Object To Sprint ")):(0,i.Q3)("v-if",!0)])]),(0,i.bF)(r,{onUpdate_sprint_list:t[3]||(t[3]=e=>l.updateSprintList(e))}),(0,i.bF)(d,{"confirm-remove-sprint":a.confirmRemoveSprint,onUpdate_sprint_list:t[4]||(t[4]=e=>l.updateSprintList(e))},null,8,["confirm-remove-sprint"])],64)}]]),ChildSprints:sa},data:()=>({assignedSprintAllowedDestination:["requirement_item","project","task"],childSprintsAllowedDestination:["requirement","project"]}),computed:{...(0,ve.L8)({destination:"getDestination"})}},Na=(0,ye.A)(Aa,[["render",function(e,t,s,n,a,l){const o=(0,i.g2)("child-sprints"),r=(0,i.g2)("assigned-sprints");return(0,i.uX)(),(0,i.CE)(i.FK,null,[a.childSprintsAllowedDestination.includes(e.destination)?((0,i.uX)(),(0,i.Wv)(o,{key:0})):(0,i.Q3)("v-if",!0),a.assignedSprintAllowedDestination.includes(e.destination)?((0,i.uX)(),(0,i.Wv)(r,{key:1})):(0,i.Q3)("v-if",!0)],64)}]]);var Ba=s(3798),Qa=s(5319),Xa=s(9827);const Wa={name:"ParentModules",components:{ConfirmNoteDelete:s(5141).A,AddFolderWizard:kn.A,ConfirmFileDeleteVue:mn.A,AddLinkWizard:un.A,ConfirmFolderDelete:pn.A,CustomersModule:ni,DocumentsModule:Ft.A,EditHistoryNoteWizard:Ba.A,GroupsAndUsersModule:U.A,ListSprints:Na,NewHistoryNoteWizard:Qa.A,NotesModule:dn.A,ObjectLinks:Es,RequirementItemLinksModule:ft,RequirementItemsModule:Ie,RequirementLinksModule:Ut,UploadDocumentWizard:cn.A,MiscModule:rn},mixins:[Xa.A],props:{destination:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},locationId:{type:Number,default:0},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},theme:{type:String,default:""},userLevel:{type:Number,default:0}},data:()=>({}),methods:{},async beforeMount(){await this.$store.dispatch("processThemeUpdate",{theme:this.theme})},mounted(){this.$store.commit({type:"updateDestination",destination:this.destination,locationId:this.locationId}),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.isReadOnly?this.$store.commit({type:"updateUserLevel",userLevel:1}):this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel})}},Pa=(0,ye.A)(Wa,[["render",function(e,t,s,U,F,O){const q=(0,i.g2)("groups-and-users-module"),A=(0,i.g2)("requirement-items-module"),N=(0,i.g2)("requirement-links-module"),B=(0,i.g2)("requirement-item-links-module"),Q=(0,i.g2)("documents-module"),X=(0,i.g2)("upload-document-wizard"),W=(0,i.g2)("add-folder-wizard"),P=(0,i.g2)("add-link-wizard"),z=(0,i.g2)("confirm-file-delete-vue"),K=(0,i.g2)("confirm-folder-delete"),H=(0,i.g2)("object-links"),G=(0,i.g2)("customers-module"),V=(0,i.g2)("list-sprints"),J=(0,i.g2)("misc-module"),Y=(0,i.g2)("notes-module"),Z=(0,i.g2)("edit-history-note-wizard"),ee=(0,i.g2)("new-history-note-wizard"),te=(0,i.g2)("confirm-note-delete"),se=(0,i.g2)("n-config-provider");return(0,i.uX)(),(0,i.Wv)(se,{theme:e.getTheme(s.theme)},{default:(0,i.k6)((()=>[(0,i.Lk)("div",n,[(0,i.Lk)("div",a,[(0,i.Lk)("ul",l,[(0,i.Q3)(" GROUPS AND USERS "),(0,i.Q3)(" Don't need to show to requirement items - as permissions are gained from parent requirement "),"requirement_item"!==s.destination?((0,i.uX)(),(0,i.CE)("li",o,r)):(0,i.Q3)("v-if",!0),(0,i.Q3)(" REQUIREMENT ITEMS "),"requirement"===s.destination?((0,i.uX)(),(0,i.CE)("li",d,c)):(0,i.Q3)("v-if",!0),(0,i.Q3)(" REQUIREMENT LINKS "),"requirement"===s.destination?((0,i.uX)(),(0,i.CE)("li",u,m)):(0,i.Q3)("v-if",!0),(0,i.Q3)(" REQUIREMENT ITEM LINKS "),"requirement_item"===s.destination?((0,i.uX)(),(0,i.CE)("li",p,k)):(0,i.Q3)("v-if",!0),(0,i.Q3)(" DOCUMENTS "),b,(0,i.Q3)(" LINKED OBJECTS "),"requirement"!==s.destination&&"requirement_item"!==s.destination?((0,i.uX)(),(0,i.CE)("li",h,L)):(0,i.Q3)("v-if",!0),(0,i.Q3)(" CUSTOMERS "),(0,i.Q3)(" Customers are not needed by requirement items as the parent requirements take care of this "),"requirement_item"!==s.destination?((0,i.uX)(),(0,i.CE)("li",g,v)):(0,i.Q3)("v-if",!0),(0,i.Q3)(" SPRINTS "),_,(0,i.Q3)(" MISC "),y,(0,i.Q3)(" Notes "),f]),S,(0,i.Lk)("div",I,["requirement_item"!==s.destination?((0,i.uX)(),(0,i.CE)("div",C,[(0,i.bF)(q)])):(0,i.Q3)("v-if",!0),"requirement"===s.destination?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.bF)(A)])):(0,i.Q3)("v-if",!0),"requirement"===s.destination?((0,i.uX)(),(0,i.CE)("div",j,[(0,i.bF)(N)])):"requirement_item"===s.destination?((0,i.uX)(),(0,i.CE)("div",R,[(0,i.bF)(B)])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",E,[(0,i.bF)(Q),(0,i.bF)(X),(0,i.bF)(W,{destination:s.destination,"location-id":s.locationId},null,8,["destination","location-id"]),(0,i.bF)(P,{destination:s.destination,"location-id":s.locationId},null,8,["destination","location-id"]),(0,i.bF)(z),(0,i.bF)(K)]),(0,i.Lk)("div",M,[(0,i.bF)(H)]),(0,i.Lk)("div",T,[(0,i.bF)(G)]),(0,i.Lk)("div",$,[(0,i.bF)(V)]),(0,i.Lk)("div",D,[(0,i.bF)(J)]),(0,i.Lk)("div",x,[(0,i.bF)(Y),(0,i.Q3)(" Modals for Notes section "),(0,i.bF)(Z),(0,i.bF)(ee,{"location-id":s.locationId,destination:s.destination},null,8,["location-id","destination"]),(0,i.bF)(te)])])])])])),_:1},8,["theme"])}]])},8297:(e,t,s)=>{s.d(t,{A:()=>v});var i=s(641),n=s(33);const a={key:0},l={class:"col-md-10 object-link--details"},o=["href"],r={class:"object-link--link"},d={class:"object-link--title"},c={class:"col-md-2 object-link--status"},u=(0,i.Lk)("span",null,"Object Status: ",-1),m={key:0,class:"object-link--remove"},p={key:1,class:"spacer-extra"};var k=s(2124),b=s(2321),h=s(9336),L=s(2243);const g={name:"SubObjectLinks",components:{Icon:b.In},emits:["update_link_results"],mixins:[L.A],props:{canDelete:{type:Boolean,default:!0},linkResults:{type:Array,default:()=>[]},title:{type:String,default:"Relates"}},computed:{...(0,k.L8)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{confirmRemoveLink(e){this.$store.commit("updateObjectLink",{objectLink:e}),new h.aF(document.getElementById("confirmLinkDeleteModal")).show()}}},v=(0,s(6262).A)(g,[["render",function(e,t,s,k,b,h){const L=(0,i.g2)("Icon");return(0,i.uX)(),(0,i.CE)(i.FK,null,[s.linkResults.length>0?((0,i.uX)(),(0,i.CE)("h3",a,(0,n.toDisplayString)(s.title),1)):(0,i.Q3)("v-if",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.linkResults,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.pk,class:"row object-link"},[(0,i.Q3)(" Object ID + Title "),(0,i.Lk)("div",l,[(0,i.Lk)("a",{href:`${this.rootUrl}${t.object_type}_information/${t.object_id}/`,target:"_blank",rel:"noopener noreferrer"},[(0,i.Lk)("div",r,(0,n.toDisplayString)(t.object_type)+" - "+(0,n.toDisplayString)(t.object_id),1),(0,i.Lk)("div",d,(0,n.toDisplayString)(t.object_title),1)],8,o)]),(0,i.Q3)(" Object Status "),(0,i.Lk)("div",c,[u,(0,i.Lk)("span",null,(0,n.toDisplayString)(t.object_status),1)]),(0,i.Q3)(" Object Delete "),e.userLevel>=2&&!0===s.canDelete?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.bF)(L,{icon:e.icons.trashCan,onClick:e=>h.confirmRemoveLink(t)},null,8,["icon","onClick"])])):(0,i.Q3)("v-if",!0)])))),128)),s.linkResults.length>0?((0,i.uX)(),(0,i.CE)("div",p)):(0,i.Q3)("v-if",!0)],64)}]])}}]);